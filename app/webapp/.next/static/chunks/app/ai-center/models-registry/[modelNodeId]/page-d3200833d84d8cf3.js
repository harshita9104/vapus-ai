(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9761],{1090:(e,s,t)=>{"use strict";t.d(s,{$N:()=>d,MX:()=>l,QS:()=>i,ky:()=>c});var r=t(6403);let a={MODELS_REGISTRY:"/api/v1alpha1/aistudio/models"},l={getModelsRegistry:()=>(0,r.Zq)(a.MODELS_REGISTRY,"GET",null),getModelsRegistryID:e=>(0,r.Zq)("".concat(a.MODELS_REGISTRY,"/").concat(e),"GET",null)},c={getmodelsRegistryForm:e=>(0,r.Zq)(a.MODELS_REGISTRY,"POST",e)},d={getmodelsRegistryUpdateForm:e=>(0,r.Zq)(a.MODELS_REGISTRY,"PUT",e)},i={getModelsRegistryArchive:e=>(0,r.Zq)("".concat(a.MODELS_REGISTRY,"/").concat(e),"DELETE",null)}},2589:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(5155),a=t(2115),l=t(1440),c=t(9516),d=t(1090),i=t(5255);function o(e){var s,t,o,n,u,m,x,p,h,v,f,g,y,b,N,j,w;let{params:k}=e,A=(0,a.use)(k).modelNodeId,[I,S]=(0,a.useState)(null),[B,M]=(0,a.useState)(!0),[R,E]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=async()=>{try{let e=await d.MX.getModelsRegistry(A);if(!e.output){console.error("Data does not contain output property:",e),E("Unexpected data format received from server"),M(!1);return}if(e.output.modelNodeId===A)S(e.output);else{let s=Object.entries(e.output).filter(e=>{let[s,t]=e;return Array.isArray(t)}).map(e=>{let[s,t]=e;return{key:s,value:t}});if(s.length>0){let e=null;for(let{key:t,value:r}of s)if(e=r.find(e=>e.modelNodeId===A))break;e?S(e):(E("AI Model not found for the given ID: ".concat(A)),S(null))}else E("AI Model not found for the given ID: ".concat(A)),S(null)}M(!1)}catch(e){console.error("Error fetching model details:",e),E(e.message),M(!1)}};A?e():(E("No model node ID provided"),M(!1))},[A]);let T=e=>{navigator.clipboard.writeText(e);let s=document.createElement("div");s.textContent="Copied to clipboard",s.style.position="fixed",s.style.bottom="20px",s.style.left="50%",s.style.transform="translateX(-50%)",s.style.backgroundColor="rgba(0, 0, 0, 0.7)",s.style.color="white",s.style.padding="10px 20px",s.style.borderRadius="5px",s.style.zIndex="1000",document.body.appendChild(s),setTimeout(()=>{document.body.removeChild(s)},1e3)},P=e=>e||"N/A";if(B)return(0,r.jsx)("div",{className:"bg-zinc-800 flex h-screen justify-center items-center relative",children:(0,r.jsx)(i.A,{isLoading:B,text:"Loading plugin details",size:"default",isOverlay:!0,className:"absolute inset-0 z-10 bg-zinc-800"})});if(R)return(0,r.jsx)("div",{className:"bg-zinc-800 flex h-screen justify-center items-center",children:(0,r.jsxs)("div",{className:"text-red-500 text-xl",children:["Error: ",R]})});if(!I)return(0,r.jsx)("div",{className:"bg-zinc-800 flex h-screen justify-center items-center",children:(0,r.jsx)("div",{className:"text-white text-xl",children:"AI Model not found"})});let L={model:{archive:d.QS.getModelsRegistryArchive,delete:d.QS.getModelsRegistryArchive}},D={id:I.modelNodeId,name:I.name||I.displayName,createdAt:(null===(s=I.resourceBase)||void 0===s?void 0:s.createdAt)?1e3*parseInt(I.resourceBase.createdAt):null,createdBy:null===(t=I.resourceBase)||void 0===t?void 0:t.createdBy,status:null===(o=I.resourceBase)||void 0===o?void 0:o.status,resourceBase:I.resourceBase,resourceType:"model",actionRules:I.actionRules||[],createActionParams:I.createActionParams||{weblink:"./".concat(I.modelNodeId,"/update")},yamlSpec:I.yamlSpec||JSON.stringify(I,null,2)};return(0,r.jsx)("div",{className:"bg-zinc-800 flex h-screen ",children:(0,r.jsxs)("div",{className:"overflow-y-auto scrollbar h-screen w-full ",children:[(0,r.jsx)(l.A,{sectionHeader:"AI Model Details",hideBackListingLink:!1,backListingLink:"./"}),(0,r.jsxs)("div",{className:"flex-grow p-2 w-full text-gray-100",children:[(0,r.jsx)(c.A,{resourceId:I.modelNodeId,resourceData:D,resourceType:"model",apiServices:L}),(0,r.jsx)("div",{className:"overflow-x-auto scrollbar shadow-md p-8",children:(0,r.jsxs)("div",{id:"spec",className:"mt-2 bg-[#1b1b1b] p-4 rounded-lg shadow-md",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:" lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Name:"}),(0,r.jsx)("p",{className:"break-words p-2",children:P(I.name)})]}),(0,r.jsxs)("div",{className:" lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Id:"}),(0,r.jsx)("p",{className:"break-words p-2 cursor-pointer",onClick:()=>T(I.modelNodeId),children:P(I.modelNodeId)})]}),(0,r.jsxs)("div",{className:" lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Scope:"}),(0,r.jsx)("p",{className:"break-words p-2",children:P(null===(n=I.attributes)||void 0===n?void 0:n.scope)})]}),(0,r.jsxs)("div",{className:" lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Endpoint:"}),(0,r.jsx)("p",{className:"break-words p-2",children:P(null===(m=I.attributes)||void 0===m?void 0:null===(u=m.networkParams)||void 0===u?void 0:u.url)})]}),(0,r.jsxs)("div",{className:" lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"API Version:"}),(0,r.jsx)("p",{className:"break-words p-2",children:P(null===(p=I.attributes)||void 0===p?void 0:null===(x=p.networkParams)||void 0===x?void 0:x.apiVersion)})]}),(0,r.jsxs)("div",{className:" lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Model Path:"}),(0,r.jsx)("p",{className:"break-words p-2",children:P(null===(v=I.attributes)||void 0===v?void 0:null===(h=v.networkParams)||void 0===h?void 0:h.localPath)})]}),(0,r.jsxs)("div",{className:" lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Model Discovery Enabled:"}),(0,r.jsx)("p",{className:"break-words p-2",children:(null===(g=I.attributes)||void 0===g?void 0:null===(f=g.discoverModels)||void 0===f?void 0:f.toString())||"N/A"})]}),(0,r.jsxs)("div",{className:" lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Service Provider:"}),(0,r.jsx)("p",{className:"break-words p-2",children:P(null===(y=I.attributes)||void 0===y?void 0:y.serviceProvider)})]}),(0,r.jsxs)("div",{className:" lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Hosting:"}),(0,r.jsx)("p",{className:"break-words p-2",children:P(null===(b=I.attributes)||void 0===b?void 0:b.hosting)})]}),(0,r.jsxs)("div",{className:" lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Approved Domains:"}),(0,r.jsx)("ul",{className:"list-disc ml-5 break-words p-2",children:(null===(N=I.attributes)||void 0===N?void 0:N.approvedDomains)&&I.attributes.approvedDomains.length>0?I.attributes.approvedDomains.map((e,s)=>(0,r.jsx)("li",{children:e},s)):(0,r.jsx)("li",{children:"ALL"})})]}),(0,r.jsxs)("div",{className:" lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Node Owners:"}),(0,r.jsx)("ul",{className:"list-disc ml-5 break-words p-2",children:I.nodeOwners&&I.nodeOwners.map((e,s)=>(0,r.jsx)("li",{children:e},s))})]})]}),I.securityGuardrails&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4 mt-6 text-[#f4d1c2] underline",children:"Security"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Guardrails:"}),(0,r.jsx)("ul",{className:"list-disc ml-5 break-words p-2",children:I.securityGuardrails.guardrails&&I.securityGuardrails.guardrails.length>0?I.securityGuardrails.guardrails.map((e,s)=>(0,r.jsx)("li",{children:e},s)):(0,r.jsx)("li",{children:"ALL"})})]})})]}),(0,r.jsx)("h3",{className:"text-xl font-bold mb-4 mt-6 text-[#f4d1c2] underline",children:"Supported Models"}),(0,r.jsx)("div",{className:"bg-zinc-800  rounded-lg shadow-md overflow-y-auto scrollbar text-sm",style:{maxHeight:"300px"},children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-zinc-500 ",children:[(0,r.jsx)("thead",{className:"bg-zinc-900 sticky top-0 ",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Model Name"}),(0,r.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Model Id"}),(0,r.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Model Type"}),(0,r.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Native Model Owner"})]})}),(0,r.jsxs)("tbody",{className:"bg-zinc-800 divide-y divide-zinc-500 border-l border-r border-zinc-500",children:[(null===(j=I.attributes)||void 0===j?void 0:j.generativeModels)&&I.attributes.generativeModels.map((e,s)=>(0,r.jsxs)("tr",{className:"cursor-pointer hover:bg-zinc-600",onClick:()=>T(e.modelName),children:[(0,r.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:e.modelName}),(0,r.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:e.modelId}),(0,r.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:e.modelType}),(0,r.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:P(e.ownedBy)})]},"gen-".concat(s))),(null===(w=I.attributes)||void 0===w?void 0:w.embeddingModels)&&I.attributes.embeddingModels.map((e,s)=>(0,r.jsxs)("tr",{className:"cursor-pointer hover:bg-zinc-600",onClick:()=>T(e.modelName),children:[(0,r.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:e.modelName}),(0,r.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:e.modelId}),(0,r.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:e.modelType}),(0,r.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:P(e.ownedBy)})]},"emb-".concat(s)))]})]})})]})})]})]})})}},2890:(e,s,t)=>{Promise.resolve().then(t.bind(t,2589))},9516:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var r=t(5155),a=t(2115),l=t(3319),c=t(9774);let d=e=>{let{resourceId:s,resourceData:t=null,resourceType:d="default",fetchUrl:i=null,isLoading:o=!1,customActions:n=null,customButton:u=null,apiServices:m={}}=e,[x,p]=(0,a.useState)(null),[h,v]=(0,a.useState)(o||!t),[f,g]=(0,a.useState)(null),[y,b]=(0,a.useState)(null);return((0,a.useEffect)(()=>{b(localStorage.getItem("AccessTokenKey")||"")},[]),(0,a.useEffect)(()=>{let e=async()=>{if(t){p({...t,actionRules:t.actionRules||[],createActionParams:t.createActionParams||null,yamlSpec:t.yamlSpec||null,resourceType:t.resourceType||d}),v(!1);return}if(!i){g("No resource data or fetch URL provided"),v(!1);return}try{var e,r,a,l,c,o;let t=await fetch(i);if(!t.ok)throw Error("Failed to fetch ".concat(d));let n=await t.json(),u=null;switch(d){case"prompt":n&&n.output&&Array.isArray(n.output)&&(u=n.output.find(e=>e.promptId===s))&&u.resourceBase&&p({id:s,name:u.name,createdAt:1e3*parseInt(u.resourceBase.createdAt),createdBy:u.resourceBase.createdBy,status:u.resourceBase.status,resourceBase:u.resourceBase,actionRules:u.actionRules||[],createActionParams:u.createActionParams||null,yamlSpec:u.yamlSpec||null,resourceType:"prompt"});break;case"model":if(n&&n.output){if(n.output.modelNodeId===s)u=n.output;else for(let e of[n.output.generativeModels,n.output.embeddingModels].filter(e=>Array.isArray(e)))if(u=null==e?void 0:e.find(e=>e.modelNodeId===s))break;u&&p({id:s,name:u.name,createdAt:(null===(e=u.resourceBase)||void 0===e?void 0:e.createdAt)?1e3*parseInt(u.resourceBase.createdAt):null,createdBy:null===(r=u.resourceBase)||void 0===r?void 0:r.createdBy,status:null===(a=u.resourceBase)||void 0===a?void 0:a.status,resourceBase:u.resourceBase,actionRules:u.actionRules||[],createActionParams:u.createActionParams||null,yamlSpec:u.yamlSpec||null,resourceType:"model"})}break;default:if(n){let e=e=>{if(!e)return null;if(e.id===s||e.resourceId===s)return e;for(let t in e)if(Array.isArray(e[t])){let r=e[t].find(e=>e.id===s||e.resourceId===s||e.promptId===s||e.modelNodeId===s);if(r)return r}return null};(u=e(n)||e(n.output))&&p({id:s,name:u.name,createdAt:(null===(l=u.resourceBase)||void 0===l?void 0:l.createdAt)?1e3*parseInt(u.resourceBase.createdAt):u.createdAt?1e3*parseInt(u.createdAt):null,createdBy:(null===(c=u.resourceBase)||void 0===c?void 0:c.createdBy)||u.createdBy,status:(null===(o=u.resourceBase)||void 0===o?void 0:o.status)||u.status,resourceBase:u.resourceBase,actionRules:u.actionRules||[],createActionParams:u.createActionParams||null,yamlSpec:u.yamlSpec||null,resourceType:d})}}u||g("".concat(d," not found for ID: ").concat(s)),v(!1)}catch(e){console.error("Error fetching ".concat(d,":"),e),g(e.message),v(!1)}};s&&!t?e():t&&(p({...t,actionRules:t.actionRules||[],createActionParams:t.createActionParams||null,yamlSpec:t.yamlSpec||null,resourceType:t.resourceType||d}),v(!1))},[s,t,d,i]),h)?(0,r.jsx)("div",{className:"text-gray-400 text-sm",children:"Loading resource data..."}):f?(0,r.jsxs)("div",{className:"text-red-400 text-sm",children:["Error: ",f]}):x?(0,r.jsxs)("div",{className:"flex justify-between mt-2 items-center bg-[#1b1b1b] text-gray-100 rounded-lg shadow-md p-2",children:[(0,r.jsxs)("div",{className:"items-center",children:[(0,r.jsx)("h1",{className:"text-xl text-gray-100 font-semibold mb-2",children:x.name||"Unnamed Resource"}),(0,r.jsxs)("div",{className:"flex text-gray-100 mb-4 pr-4",children:[(0,r.jsx)("svg",{className:"w-6 h-6 mr-2 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 4h10a2 2 0 012 2v11a2 2 0 01-2 2H7a2 2 0 01-2-2V9a2 2 0 012-2zm3 4h4m-4 4h4"})}),(0,r.jsx)("span",{className:"text-sm",children:(0,r.jsx)("span",{className:"border-b-2 text-gray-100 font-semibold text-sm border-gray-800",children:(e=>{if(!e)return"N/A";try{return(0,l.GP)(new Date(e),"yyyy-MM-dd")}catch(e){return console.error("Date formatting error:",e),"Invalid date"}})(x.createdAt)})}),(0,r.jsx)("svg",{className:"w-6 h-6 mr-2 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),(0,r.jsx)("span",{className:"text-sm",children:(0,r.jsx)("span",{className:"border-b-2 text-gray-100 text-sm border-gray-800",children:x.createdBy||"N/A"})}),x.status&&(0,r.jsx)("p",{children:(0,r.jsx)("span",{className:"px-3 py-2 ml-2 text-sm font-medium ".concat("ACTIVE"===x.status?"text-green-800 bg-green-100":"text-red-800 bg-red-100"," rounded-full"),children:x.status})})]})]}),(0,r.jsx)("div",{className:"relative inline-block text-left",children:n||(0,r.jsx)(c.A,{response:{...x,resourceId:x.id,resourceType:x.resourceType||d},globalContext:{AccessTokenKey:y},customButton:u,apiServices:m,resourceType:x.resourceType||d})})]}):(0,r.jsx)("div",{className:"text-gray-400 text-sm",children:"No resource data available"})}}},e=>{var s=s=>e(e.s=s);e.O(0,[5552,5441,7014,1440,6302,8441,1684,7358],()=>s(2890)),_N_E=e.O()}]);