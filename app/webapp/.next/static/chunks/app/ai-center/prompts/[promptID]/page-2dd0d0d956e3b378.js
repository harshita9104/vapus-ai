(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5031],{975:(e,s,r)=>{"use strict";r.d(s,{UG:()=>c,bl:()=>o,eM:()=>l,tW:()=>i});var t=r(6403);let a={PROMPTS:"/api/v1alpha1/aistudio/prompts"},l={getPrompts:()=>(0,t.Zq)(a.PROMPTS,"GET",null),getPromptsId:e=>(0,t.Zq)("".concat(a.PROMPTS,"/").concat(e),"GET",null)},c={getPromptsForm:e=>(0,t.Zq)(a.PROMPTS,"POST",e)},o={getPromptsUpdteForm:e=>(0,t.Zq)(a.PROMPTS,"PUT",e)},i={getPromptArchive:e=>(0,t.Zq)("".concat(a.PROMPTS,"/").concat(e),"DELETE",null)}},3443:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var t=r(5155),a=r(2115),l=r(1440),c=r(9516),o=r(975),i=r(5255);function n(e){var s,r,n,d,m,p,u,x,h,g,v,f,b;let{params:y}=e,N=(0,a.use)(y),j=(null==N?void 0:N.promptID)?String(N.promptID).trim():"",[w,A]=(0,a.useState)(null),[T,S]=(0,a.useState)(!0),[k,B]=(0,a.useState)(null),[P,I]=(0,a.useState)("spec");(0,a.useEffect)(()=>{let e=async()=>{try{let e=await o.eM.getPromptsId(j);if(!e){console.error("No response received from server"),B("No response received from server"),S(!1);return}e.output&&Array.isArray(e.output)&&e.output.length>0?A(e.output[0]):e.output&&!Array.isArray(e.output)?A(e.output):(console.error("Data does not contain expected output format:",e),B("Unexpected data format received from server")),S(!1)}catch(e){console.error("Error fetching prompt details:",e),B(e.message),S(!1)}};j?e():(B("No prompt ID provided"),S(!1))},[j]);let z=e=>{navigator.clipboard.writeText(e),alert("Copied to clipboard!")},M=e=>{let s=document.getElementById(e);s&&(navigator.clipboard.writeText(s.innerText),alert("Copied to clipboard!"))},R=e=>{I(e)};if(T)return(0,t.jsx)("div",{className:"bg-zinc-800 flex h-screen justify-center items-center relative",children:(0,t.jsx)(i.A,{isLoading:T,text:"Loading plugin details",size:"default",isOverlay:!0,className:"absolute inset-0 z-10 bg-zinc-800"})});if(k)return(0,t.jsx)("div",{className:"bg-zinc-800 flex h-screen justify-center items-center",children:(0,t.jsxs)("div",{className:"text-red-500 text-xl",children:["Error: ",k]})});if(!w)return(0,t.jsx)("div",{className:"bg-zinc-800 flex h-screen justify-center items-center",children:(0,t.jsx)("div",{className:"text-white text-xl",children:"Prompt not found"})});let C={prompt:{archive:o.tW.getPromptArchive,delete:o.tW.getPromptArchive}},E={id:w.promptId,name:w.name||"Unnamed Prompt",createdAt:(null===(s=w.resourceBase)||void 0===s?void 0:s.createdAt)?1e3*parseInt(w.resourceBase.createdAt):null,createdBy:null===(r=w.resourceBase)||void 0===r?void 0:r.createdBy,status:null===(n=w.resourceBase)||void 0===n?void 0:n.status,resourceBase:w.resourceBase,resourceType:"prompt",createActionParams:w.createActionParams||{weblink:"./".concat(w.promptId,"/update")},yamlSpec:w.yamlSpec||JSON.stringify(w,null,2)};return(0,t.jsx)("div",{className:"bg-zinc-800 flex h-screen",children:(0,t.jsxs)("div",{className:"overflow-y-auto scrollbar h-screen w-full",children:[(0,t.jsx)(l.A,{sectionHeader:"AI Model Prompt Details",hideBackListingLink:!1,backListingLink:"/ai-center/prompts"}),(0,t.jsxs)("div",{className:"flex-grow p-2 w-full",children:[w&&w.promptId&&(0,t.jsx)(c.A,{resourceId:w.promptId,resourceData:E,resourceType:"prompt",apiServices:C}),(0,t.jsxs)("div",{className:"overflow-x-auto scrollbar text-gray-100 bg-zinc-800 rounded-lg p-8 shadow-md",children:[(0,t.jsxs)("div",{className:"flex border-b border-zinc-500",children:[(0,t.jsx)("button",{onClick:()=>R("spec"),className:"px-4 py-2 font-semibold  focus:outline-none cursor-pointer ".concat("spec"===P?"bg-[oklch(0.205_0_0)] text-white rounded-t-[10px]":""),children:"Spec"}),(0,t.jsx)("button",{onClick:()=>R("dryrunset"),className:"px-4 py-2 font-semibold focus:outline-none cursor-pointer ".concat("dryrunset"===P?"bg-[oklch(0.205_0_0)] text-white rounded-t-[10px]":""),children:"Dry Run"})]}),(0,t.jsxs)("div",{id:"spec",className:"mt-2 bg-[#1b1b1b] p-4 ".concat("spec"!==P?"hidden":""),children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"lg:flex items-center",children:[(0,t.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block  ",children:"Name:"}),(0,t.jsx)("p",{className:"s p-2",children:w.name||"N/A"})]}),(0,t.jsxs)("div",{className:"lg:flex items-center",children:[(0,t.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block  ",children:"Id:"}),(0,t.jsx)("p",{className:"s p-2 cursor-pointer",onClick:()=>z(w.promptId),children:w.promptId||"N/A"})]}),(0,t.jsxs)("div",{className:"lg:flex items-center",children:[(0,t.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block  ",children:"Prompt Type:"}),(0,t.jsx)("p",{className:"s p-2",children:w.promptTypes&&Array.isArray(w.promptTypes)&&w.promptTypes.map((e,s)=>(0,t.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full text-purple-800 bg-purple-100 mr-2",children:e},s))})]}),(0,t.jsxs)("div",{className:"lg:flex items-center",children:[(0,t.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block  ",children:"Preferred Models:"}),(0,t.jsx)("div",{className:"grid grid-cols-2 grid-rows-2 md:grid-cols-2 md:grid-rows-2 lg:grid-cols-4 lg:grid-rows-1 gap-2 p-2 text-center",children:w.preferredModels&&Array.isArray(w.preferredModels)&&w.preferredModels.map((e,s)=>(0,t.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full text-gray-800 bg-gray-100 mr-2 mb-1",children:e},s))})]}),(0,t.jsxs)("div",{className:"lg:flex items-center",children:[(0,t.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block  ",children:"Labels:"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:grid-rows-2 lg:grid-cols-4 lg:grid-rows-1 gap-2 p-2 text-center",children:w.labels&&Array.isArray(w.labels)&&w.labels.map((e,s)=>(0,t.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full text-yellow-800 bg-yellow-100 mr-2",children:e},s))})]}),(0,t.jsxs)("div",{className:"lg:flex items-center",children:[(0,t.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block  ",children:"Owner:"}),(0,t.jsx)("p",{className:"s p-2",children:w.promptOwner||"N/A"})]}),(0,t.jsxs)("div",{className:"lg:flex items-center",children:[(0,t.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block  ",children:"Domain:"}),(0,t.jsx)("p",{className:"s p-2",children:(null===(d=w.resourceBase)||void 0===d?void 0:d.domain)||"N/A"})]}),(0,t.jsxs)("div",{className:"lg:flex items-center",children:[(0,t.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block  ",children:"User Message:"}),(0,t.jsx)("p",{className:"s p-2",children:(null===(m=w.spec)||void 0===m?void 0:m.userMessage)||"N/A"})]}),(0,t.jsxs)("div",{className:"lg:flex items-center",children:[(0,t.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block  ",children:"System Message:"}),(0,t.jsx)("p",{className:"s p-2",children:(null===(p=w.spec)||void 0===p?void 0:p.systemMessage)||"N/A"})]}),(null===(u=w.spec)||void 0===u?void 0:u.sample)&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block  ",children:"Sample Input:"}),(0,t.jsx)("p",{className:"s p-2",children:w.spec.sample.inputText||"N/A"})]}),(0,t.jsxs)("div",{className:"lg:flex items-center",children:[(0,t.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block  ",children:"Variables:"}),(0,t.jsx)("p",{className:"flex text-gray-200 s p-2",style:{maxWidth:"200px",overflowWrap:" "},children:(null===(x=w.spec)||void 0===x?void 0:x.variables)&&Array.isArray(w.spec.variables)&&w.spec.variables.length>0?w.spec.variables.map((e,s)=>(0,t.jsx)("span",{className:"px-3 py-1 text-sm font-medium bg-blue-600 rounded-full mr-2",children:e},s)):"No Variables for this prompt"})]})]}),(0,t.jsx)("h3",{className:"text-xl mb-4 text-[1.25rem] font-bold text-[#f4d1c2] underline",children:"Tags"}),(0,t.jsx)("div",{className:"bg-zinc-800 p-4 rounded-lg shadow-md",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-zinc-500 border border-zinc-500",children:[(0,t.jsx)("thead",{className:"bg-zinc-900",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Field"}),(0,t.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Tag"})]})}),(0,t.jsxs)("tbody",{className:"bg-zinc-800 divide-y divide-zinc-500",children:[(0,t.jsxs)("tr",{className:"cursor-pointer hover:bg-zinc-600",children:[(0,t.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:"Input Tag"}),(0,t.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:(null===(h=w.spec)||void 0===h?void 0:h.inputTag)||"N/A"})]}),(0,t.jsxs)("tr",{className:"cursor-pointer hover:bg-zinc-600",children:[(0,t.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:"Result Tag"}),(0,t.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:(null===(g=w.spec)||void 0===g?void 0:g.outputTag)||"N/A"})]}),(0,t.jsxs)("tr",{className:"cursor-pointer hover:bg-zinc-600",children:[(0,t.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:"Context Tag"}),(0,t.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:(null===(v=w.spec)||void 0===v?void 0:v.contextTag)||"N/A"})]})]})]})})]}),(0,t.jsxs)("div",{id:"dryrunset",className:"mt-2 bg-[#1b1b1b] p-4 ".concat("dryrunset"!==P?"hidden":""),children:[(0,t.jsxs)("div",{className:"w-full shadow-lg rounded-lg p-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center border-b border-orange-700 pb-2 mb-4",children:[(0,t.jsx)("h1",{className:"text-lg font-bold",children:"Rendered Template"}),(0,t.jsxs)("button",{id:"copyJsonBtn",onClick:()=>M("jsonViewer"),className:"hover:text-blue-500 lg:flex items-center",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M8 2C6.895 2 6 2.895 6 4v12c0 1.105.895 2 2 2h8c1.105 0 2-.895 2-2V4c0-1.105-.895-2-2-2H8zM8 4h8v12H8V4zm-4 4H3v8a2 2 0 002 2h6v-2H5V8zm14 0h1v8a2 2 0 01-2 2h-6v2h6a4 4 0 004-4V8z"})}),"Copy Template"]})]}),(0,t.jsx)("div",{id:"jsonViewer",className:"mt-2 border border-zinc-500 rounded-lg p-4 max-w-full text-sm font-mono overflow-x-auto scrollbar overflow-y-auto scrollbar",style:{maxHeight:"400px",whiteSpace:"pre-wrap"},children:(0,t.jsx)("pre",{className:"s",children:w.template||"No template available"})})]}),(null===(f=w.spec)||void 0===f?void 0:f.tools)&&Array.isArray(w.spec.tools)&&w.spec.tools.length>0&&(0,t.jsxs)("div",{className:"w-full shadow-lg rounded-lg p-2 mt-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center pb-4 mb-4",children:[(0,t.jsx)("h1",{className:"text-lg font-bold",children:"Tool Schemas"}),(0,t.jsxs)("button",{id:"copyJsonBtn",onClick:()=>M("toolSchema"),className:"hover:text-blue-500 lg:flex items-center",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M8 2C6.895 2 6 2.895 6 4v12c0 1.105.895 2 2 2h8c1.105 0 2-.895 2-2V4c0-1.105-.895-2-2-2H8zM8 4h8v12H8V4zm-4 4H3v8a2 2 0 002 2h6v-2H5V8zm14 0h1v8a2 2 0 01-2 2h-6v2h6a4 4 0 004-4V8z"})}),"Copy Schema"]})]}),(0,t.jsx)("div",{id:"toolSchema",className:"mt-2 border border-zinc-500 max-w-full rounded-lg p-4 text-sm font-mono overflow-x-auto scrollbar overflow-y-auto scrollbar",style:{maxHeight:"400px",whiteSpace:"pre-wrap"},children:(null===(b=w.spec)||void 0===b?void 0:b.tools)&&Array.isArray(w.spec.tools)&&0!==w.spec.tools.length?w.spec.tools.map((e,s)=>{if(!e.schema){if(e.rawJsonParams)try{let r=JSON.parse(e.rawJsonParams);return(0,t.jsx)("pre",{className:"s",children:JSON.stringify(r,null,2)},s)}catch(r){return(0,t.jsx)("pre",{className:"s",children:e.rawJsonParams},s)}return(0,t.jsx)("pre",{className:"s",children:"No schema available for this tool"},s)}try{let r={name:e.schema.name||"",description:e.schema.description||"",parameters:"string"==typeof e.schema.parameters?JSON.parse(e.schema.parameters):e.schema.parameters||{}};return(0,t.jsx)("pre",{className:"s",children:JSON.stringify(r,null,2)},s)}catch(e){return(0,t.jsxs)("pre",{className:"s",children:["Error parsing schema: ",e.message]},s)}}):"No tools available"})]})]})]})]})]})})}},9368:(e,s,r)=>{Promise.resolve().then(r.bind(r,3443))},9516:(e,s,r)=>{"use strict";r.d(s,{A:()=>o});var t=r(5155),a=r(2115),l=r(3319),c=r(9774);let o=e=>{let{resourceId:s,resourceData:r=null,resourceType:o="default",fetchUrl:i=null,isLoading:n=!1,customActions:d=null,customButton:m=null,apiServices:p={}}=e,[u,x]=(0,a.useState)(null),[h,g]=(0,a.useState)(n||!r),[v,f]=(0,a.useState)(null),[b,y]=(0,a.useState)(null);return((0,a.useEffect)(()=>{y(localStorage.getItem("AccessTokenKey")||"")},[]),(0,a.useEffect)(()=>{let e=async()=>{if(r){x({...r,actionRules:r.actionRules||[],createActionParams:r.createActionParams||null,yamlSpec:r.yamlSpec||null,resourceType:r.resourceType||o}),g(!1);return}if(!i){f("No resource data or fetch URL provided"),g(!1);return}try{var e,t,a,l,c,n;let r=await fetch(i);if(!r.ok)throw Error("Failed to fetch ".concat(o));let d=await r.json(),m=null;switch(o){case"prompt":d&&d.output&&Array.isArray(d.output)&&(m=d.output.find(e=>e.promptId===s))&&m.resourceBase&&x({id:s,name:m.name,createdAt:1e3*parseInt(m.resourceBase.createdAt),createdBy:m.resourceBase.createdBy,status:m.resourceBase.status,resourceBase:m.resourceBase,actionRules:m.actionRules||[],createActionParams:m.createActionParams||null,yamlSpec:m.yamlSpec||null,resourceType:"prompt"});break;case"model":if(d&&d.output){if(d.output.modelNodeId===s)m=d.output;else for(let e of[d.output.generativeModels,d.output.embeddingModels].filter(e=>Array.isArray(e)))if(m=null==e?void 0:e.find(e=>e.modelNodeId===s))break;m&&x({id:s,name:m.name,createdAt:(null===(e=m.resourceBase)||void 0===e?void 0:e.createdAt)?1e3*parseInt(m.resourceBase.createdAt):null,createdBy:null===(t=m.resourceBase)||void 0===t?void 0:t.createdBy,status:null===(a=m.resourceBase)||void 0===a?void 0:a.status,resourceBase:m.resourceBase,actionRules:m.actionRules||[],createActionParams:m.createActionParams||null,yamlSpec:m.yamlSpec||null,resourceType:"model"})}break;default:if(d){let e=e=>{if(!e)return null;if(e.id===s||e.resourceId===s)return e;for(let r in e)if(Array.isArray(e[r])){let t=e[r].find(e=>e.id===s||e.resourceId===s||e.promptId===s||e.modelNodeId===s);if(t)return t}return null};(m=e(d)||e(d.output))&&x({id:s,name:m.name,createdAt:(null===(l=m.resourceBase)||void 0===l?void 0:l.createdAt)?1e3*parseInt(m.resourceBase.createdAt):m.createdAt?1e3*parseInt(m.createdAt):null,createdBy:(null===(c=m.resourceBase)||void 0===c?void 0:c.createdBy)||m.createdBy,status:(null===(n=m.resourceBase)||void 0===n?void 0:n.status)||m.status,resourceBase:m.resourceBase,actionRules:m.actionRules||[],createActionParams:m.createActionParams||null,yamlSpec:m.yamlSpec||null,resourceType:o})}}m||f("".concat(o," not found for ID: ").concat(s)),g(!1)}catch(e){console.error("Error fetching ".concat(o,":"),e),f(e.message),g(!1)}};s&&!r?e():r&&(x({...r,actionRules:r.actionRules||[],createActionParams:r.createActionParams||null,yamlSpec:r.yamlSpec||null,resourceType:r.resourceType||o}),g(!1))},[s,r,o,i]),h)?(0,t.jsx)("div",{className:"text-gray-400 text-sm",children:"Loading resource data..."}):v?(0,t.jsxs)("div",{className:"text-red-400 text-sm",children:["Error: ",v]}):u?(0,t.jsxs)("div",{className:"flex justify-between mt-2 items-center bg-[#1b1b1b] text-gray-100 rounded-lg shadow-md p-2",children:[(0,t.jsxs)("div",{className:"items-center",children:[(0,t.jsx)("h1",{className:"text-xl text-gray-100 font-semibold mb-2",children:u.name||"Unnamed Resource"}),(0,t.jsxs)("div",{className:"flex text-gray-100 mb-4 pr-4",children:[(0,t.jsx)("svg",{className:"w-6 h-6 mr-2 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 4h10a2 2 0 012 2v11a2 2 0 01-2 2H7a2 2 0 01-2-2V9a2 2 0 012-2zm3 4h4m-4 4h4"})}),(0,t.jsx)("span",{className:"text-sm",children:(0,t.jsx)("span",{className:"border-b-2 text-gray-100 font-semibold text-sm border-gray-800",children:(e=>{if(!e)return"N/A";try{return(0,l.GP)(new Date(e),"yyyy-MM-dd")}catch(e){return console.error("Date formatting error:",e),"Invalid date"}})(u.createdAt)})}),(0,t.jsx)("svg",{className:"w-6 h-6 mr-2 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),(0,t.jsx)("span",{className:"text-sm",children:(0,t.jsx)("span",{className:"border-b-2 text-gray-100 text-sm border-gray-800",children:u.createdBy||"N/A"})}),u.status&&(0,t.jsx)("p",{children:(0,t.jsx)("span",{className:"px-3 py-2 ml-2 text-sm font-medium ".concat("ACTIVE"===u.status?"text-green-800 bg-green-100":"text-red-800 bg-red-100"," rounded-full"),children:u.status})})]})]}),(0,t.jsx)("div",{className:"relative inline-block text-left",children:d||(0,t.jsx)(c.A,{response:{...u,resourceId:u.id,resourceType:u.resourceType||o},globalContext:{AccessTokenKey:b},customButton:m,apiServices:p,resourceType:u.resourceType||o})})]}):(0,t.jsx)("div",{className:"text-gray-400 text-sm",children:"No resource data available"})}}},e=>{var s=s=>e(e.s=s);e.O(0,[5552,5441,7014,1440,6302,8441,1684,7358],()=>s(9368)),_N_E=e.O()}]);