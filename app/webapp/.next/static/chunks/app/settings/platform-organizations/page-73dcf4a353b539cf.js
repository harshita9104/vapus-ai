(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2833],{255:(e,t,n)=>{"use strict";function o(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return o}}),n(5155),n(7650),n(5744),n(589)},597:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var o=n(5155),r=n(2115),a=n(5028),i=n(1440),l=n(1140),s=n(3011),d=n(259),c=n(41),u=n(2417);let f=(0,a.default)(()=>n.e(5736).then(n.bind(n,5736)),{loadableGenerated:{webpack:()=>[5736]},ssr:!1}),p=()=>{let[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[p,g]=(0,r.useState)(null),[h,y]=(0,r.useState)(""),[m,x]=(0,r.useState)({}),[b,v]=(0,r.useState)(0);(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{var t,n;a(!0),g(null);let o=await (0,d.J)();if(!e)return;if(null==o?void 0:null===(t=o.userInfo)||void 0===t?void 0:t.userId){let t=o.userInfo.userId,r=await c.z.getuserProfile(t);if(console.log("User Profile Data:",r),!e)return;(null===(n=r.output)||void 0===n?void 0:n.users)&&r.output.users.length>0?r.organizationMap&&x(r.organizationMap):(console.error("No users found in API response"),g("No users found in API response"))}else console.error("User ID not found in global context"),g("User ID not found in global context")}catch(t){console.error("Error fetching user data:",t),e&&g(t.message||"Failed to fetch user data")}finally{e&&a(!1)}})(),()=>{e=!1}},[]);let w=(0,r.useCallback)(async()=>{try{var e;let t=await l.K.getplatformdomain();return console.log("Organization Data:",t),(null===(e=t.output)||void 0===e?void 0:e.organizations)||[]}catch(e){return console.error("Error fetching Organization data:",e),g(e.message||"Failed to fetch Organization data"),[]}},[]),j=(0,r.useCallback)(e=>e.map((e,t)=>{let n=e.organizationId,o=m.hasOwnProperty(n),r="greenGrad-".concat(t),a="redGrad-".concat(t),i='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" class="inline">\n        <defs>\n          <linearGradient id="'.concat(r,'" x1="0%" y1="0%" x2="100%" y2="100%">\n            <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />\n            <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />\n          </linearGradient>\n        </defs>\n        <circle cx="12" cy="12" r="10" fill="url(#').concat(r,')" stroke="#047857" stroke-width="1"/>\n        <path d="M8 12l3 3 5-6" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>\n        <circle cx="12" cy="12" r="10" fill="none" stroke="rgba(16, 185, 129, 0.3)" stroke-width="2" opacity="0.8"/>\n      </svg>'),l='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" class="inline">\n        <defs>\n          <linearGradient id="'.concat(a,'" x1="0%" y1="0%" x2="100%" y2="100%">\n            <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />\n            <stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" />\n          </linearGradient>\n        </defs>\n        <circle cx="12" cy="12" r="10" fill="url(#').concat(a,')" stroke="#b91c1c" stroke-width="1"/>\n        <path d="M8 8l8 8M16 8l-8 8" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>\n        <circle cx="12" cy="12" r="10" fill="none" stroke="rgba(239, 68, 68, 0.3)" stroke-width="2" opacity="0.8"/>\n      </svg>');return{"Display Name":e.displayName||"N/A",Status:e.status||"N/A",Id:e.organizationId||"N/A","Organization Type":(0,u.E)(e.organizationType||"N/A"),"Has Access":o?'<div class="ml-8">'.concat(i,"</div>"):'<div class="ml-8">'.concat(l,"</div>")}}),[m]);(0,r.useEffect)(()=>{let e=!0;return(async()=>{if("object"==typeof m)try{a(!0),g(null);let n=await w();if(!e)return;let o=j(n);t(o),v(e=>e+1)}catch(t){console.error("Error loading organization data:",t),e&&g(t.message||"Failed to load organization data")}finally{e&&a(!1)}})(),()=>{e=!1}},[m,w,j]);let O=(0,r.useMemo)(()=>["Display Name","Status","Id","Organization Type","Has Access"],[]),N=(0,r.useMemo)(()=>["Display Name","Status","Organization Type"],[]);return(0,o.jsxs)("div",{className:"bg-zinc-800 flex h-screen",children:[(0,o.jsxs)("div",{className:"overflow-y-auto scrollbar h-screen w-full",children:[(0,o.jsx)(i.A,{sectionHeader:"Organization",hideBackListingLink:!0,backListingLink:"./"}),(0,o.jsxs)("div",{className:"flex-grow p-2 w-full",children:[(0,o.jsx)("div",{className:"flex justify-end mb-2 items-center p-2",children:(0,o.jsx)(s.A,{href:"./platform-organizations/create",label:"Add New"})}),(0,o.jsx)("section",{id:"tables",className:"space-y-6",children:p?(0,o.jsx)(()=>(0,o.jsx)("div",{className:"flex justify-center items-center h-64 text-red-400",children:(0,o.jsxs)("div",{className:"text-xl",children:["Error: ",p]})}),{}):0!==e.length||n?(0,o.jsx)("div",{className:"p-4",children:(0,o.jsx)(f,{id:"platformDomainsTable",data:e,columns:O,loading:n,filteredColumns:N,dangerouslySetInnerHTML:!0,loadingText:"Loading Organization..."},"platform-Organization-".concat(b))}):(0,o.jsx)(()=>(0,o.jsx)("div",{className:"overflow-x-auto scrollbar rounded-lg p-4 shadow-md text-gray-100",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-zinc-500 text-xs text-gray-100 border-2 border-zinc-500",id:"platformDomainsTable",children:[(0,o.jsx)("thead",{className:"bg-zinc-900 divide-y divide-zinc-500 break-words text-sm font-medium text-gray-500 uppercase",children:(0,o.jsx)("tr",{children:O.map((e,t)=>(0,o.jsx)("th",{className:"px-3 py-3 text-left",children:e},t))})}),(0,o.jsx)("tbody",{className:"bg-zinc-800 divide-y divide-zinc-500",children:(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:O.length,className:"px-3 py-3 whitespace-nowrap text-center",children:"No Organization found"})})})]})}),{})})]})]}),(0,o.jsx)("div",{hidden:!0,id:"createTemplate",children:h})]})},g=(0,a.default)(()=>Promise.resolve(p),{ssr:!1})},1140:(e,t,n)=>{"use strict";n.d(t,{K:()=>a,W:()=>i});var o=n(6403);let r={PLATFORM_DOMAIN:"/api/v1alpha1/organizations"},a={getplatformdomain:()=>(0,o.Zq)(r.PLATFORM_DOMAIN,"GET",null)},i={getplatformDomainCreate:e=>(0,o.Zq)(r.PLATFORM_DOMAIN,"POST",e)}},2146:(e,t,n)=>{"use strict";function o(e){let{reason:t,children:n}=e;return n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return o}}),n(5262)},2417:(e,t,n)=>{"use strict";function o(e){return e?e.replace(/_/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function r(e,t){return e?!t||t<=0||e.length<=t?e:e.substring(0,t)+"...":""}n.d(t,{E:()=>o,m:()=>r}),function(){if("undefined"==typeof document)return;function e(e){e&&!e._hasTooltip&&(e._hasTooltip=!0,e.addEventListener("mouseenter",function(){let e=document.createElement("div");e.style.position="absolute",e.style.backgroundColor="#27272a",e.style.color="#fff",e.style.padding="5px 10px",e.style.borderRadius="4px",e.style.fontSize="14px",e.style.zIndex="1000",e.style.pointerEvents="none",e.textContent=this.getAttribute("tooltip")||this.textContent,document.body.appendChild(e);let t=this.getBoundingClientRect();e.style.left=t.left+"px",e.style.top=t.top-e.offsetHeight-5+"px",this._tooltip=e}),e.addEventListener("mouseleave",function(){this._tooltip&&this._tooltip.parentNode&&(document.body.removeChild(this._tooltip),this._tooltip=null)}))}function t(){document.querySelectorAll(".tooltip").forEach(e)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t();let n=new MutationObserver(function(t){t.forEach(function(t){t.addedNodes.length&&t.addedNodes.forEach(function(t){1===t.nodeType&&(t.classList&&t.classList.contains("tooltip")&&e(t),t.querySelectorAll&&t.querySelectorAll(".tooltip").forEach(e))})})});n.observe(document.body,{childList:!0,subtree:!0}),window.addEventListener("unload",function(){n.disconnect()})}()},3011:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(5155),r=n(6874),a=n.n(r);function i(e){let{label:t="Add New",href:n="#",className:r="text-white text-sm px-1 py-1 rounded-lg bg-orange-700 hover:bg-pink-900 text-lg flex items-center"}=e;return(0,o.jsxs)(a(),{href:n,className:r,children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{fill:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),t]})}},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{bindSnapshot:function(){return i},createAsyncLocalStorage:function(){return a},createSnapshot:function(){return l}});let n=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class o{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}static bind(e){return e}}let r="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function a(){return r?new r:new o}function i(e){return r?r.bind(e):o.bind(e)}function l(){return r?r.snapshot():function(e,...t){return e(...t)}}},5028:(e,t,n)=>{"use strict";n.d(t,{default:()=>r.a});var o=n(6645),r=n.n(o)},5744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return o.workAsyncStorageInstance}});let o=n(7828)},6645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let o=n(8229)._(n(7357));function r(e,t){var n;let r={};"function"==typeof e&&(r.loader=e);let a={...r,...t};return(0,o.default)({...a,modules:null==(n=a.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let o=n(5155),r=n(2115),a=n(2146);function i(e){return{default:e&&"default"in e?e.default:e}}n(255);let l={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},s=function(e){let t={...l,...e},n=(0,r.lazy)(()=>t.loader().then(i)),s=t.loading;function d(e){let i=s?(0,o.jsx)(s,{isLoading:!0,pastDelay:!0,error:null}):null,l=!t.ssr||!!t.loading,d=l?r.Suspense:r.Fragment,c=t.ssr?(0,o.jsxs)(o.Fragment,{children:[null,(0,o.jsx)(n,{...e})]}):(0,o.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,o.jsx)(n,{...e})});return(0,o.jsx)(d,{...l?{fallback:i}:{},children:c})}return d.displayName="LoadableComponent",d}},7828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return o}});let o=(0,n(4054).createAsyncLocalStorage)()},9944:(e,t,n)=>{Promise.resolve().then(n.bind(n,597))}},e=>{var t=t=>e(e.s=t);e.O(0,[5552,5441,1440,8441,1684,7358],()=>t(9944)),_N_E=e.O()}]);