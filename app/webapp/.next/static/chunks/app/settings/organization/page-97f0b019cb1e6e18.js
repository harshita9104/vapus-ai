(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9840],{1118:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(5155);function o(e){let{onClick:t,name:s="Remove"}=e;return(0,r.jsx)("button",{type:"button",onClick:t,className:"mt-2 px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 cursor-pointer",children:s})}s(2115)},2144:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(5155),o=s(2115);s(3319);var a=s(1440),n=s(9516),l=s(5125),i=s(1118),c=s(8525),d=s(5799),u=s(9994),m=s(2417);let p=e=>{let{options:t,placeholder:s="Select Options",onSelectionChange:a,initialSelected:n=[],isLoading:l=!1,dropdownId:i="dropdown"}=e,[c,d]=(0,o.useState)(!1),[u,p]=(0,o.useState)(n),x=(0,o.useRef)(!0);(0,o.useEffect)(()=>{if(x.current){x.current=!1;return}a&&a(u)},[u]),(0,o.useEffect)(()=>{let e=e=>{let t=document.getElementById("".concat(i,"-menu")),s=document.getElementById("".concat(i,"-button"));t&&s&&!t.contains(e.target)&&!s.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[i]);let h=e=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},g=t.filter(e=>u.includes(e.id)).map(e=>(0,m.E)(e.name)),f=g.length>0?g.join(", "):s;return(0,r.jsxs)("div",{className:"relative inline-block text-left w-full",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("button",{type:"button",id:"".concat(i,"-button"),className:" w-full flex text-gray-300 justify-between items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",onClick:()=>d(!c),children:[f,(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}),(0,r.jsx)("div",{id:"".concat(i,"-menu"),className:"absolute z-10 mt-2 w-full bg-zinc-800 rounded-md shadow-lg ".concat(c?"":"hidden"),children:(0,r.jsx)("div",{className:"p-2 space-y-2 max-h-60 overflow-y-auto scrollbar",children:l?(0,r.jsx)("div",{className:"text-sm text-gray-400 py-2 text-center",children:"Loading..."}):0===t.length?(0,r.jsx)("div",{className:"text-sm text-gray-400 py-2 text-center",children:"No options available"}):t.map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"item-".concat(i,"-").concat(e.id),value:e.id,checked:u.includes(e.id),onChange:()=>h(e.id),className:"h-4 w-4 cursor-pointer mr-2 accent-orange-700 rounded"}),(0,r.jsx)("label",{htmlFor:"item-".concat(i,"-").concat(e.id),className:"ml-2 text-sm cursor-pointer",children:(0,m.E)(e.name)})]},e.id))})})]})};var x=s(3093);let h=()=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M18 6L6 18"}),(0,r.jsx)("path",{d:"M6 6L18 18"})]});function g(e){let{isOpen:t,onClose:s,organizationId:a}=e,[n,m]=(0,o.useState)([{userId:"",roles:[],inviteIfNotFound:!0}]),[g,f]=(0,o.useState)(!1),[v,y]=(0,o.useState)([]),[b,j]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=async()=>{try{var e,t;j(!0);let s=await x.N.getEnums();console.log("Full enums response:",s);let r=null===(e=s.enumResponse)||void 0===e?void 0:e.find(e=>"OrgRoles"===e.name);console.log("Found OrgRoles:",r);let o=(null==r?void 0:null===(t=r.value)||void 0===t?void 0:t.map(e=>({id:e,name:e})))||[];y(o),console.log("Processed role options:",o)}catch(e){console.error("Failed to fetch User Roles data:",e),d.oR.error("Failed to fetch configuration data")}finally{j(!1)}};t&&e()},[t]);let N=e=>{let t=[...n];t.splice(e,1),m(t)},w=(e,t,s)=>{let r=[...n];r[e][t]=s,m(r)},A=(e,t)=>{console.log("Selected roles received:",t);let s=[...n],r=t.map(e=>"string"==typeof e?e:e.id||e.name);s[e].roles=r,m(s),console.log("Updated user roles:",s[e].roles)},k=async()=>{if(!a){d.oR.error("Organization ID is required");return}let e=n.filter(e=>""!==e.userId.trim()&&e.roles.length>0);if(0===e.length){d.oR.error("Please enter valid user information with at least one role");return}try{f(!0);let t={organizationId:a,users:e.map(e=>({userId:e.userId,validTill:"0",role:e.roles,added:!1,inviteIfNotFound:e.inviteIfNotFound}))};console.log("Full API Payload:",t);let s=await l.E.getAddUsers(t),r=(null==s?void 0:s.result)||{resource:"User",count:e.length};d.oR.success("".concat(r.resource," Added"),"".concat(r.count," ").concat(r.resource," User(s) added successfully."))}catch(e){console.error("Error adding users:",e),d.oR.error("Failed to add users")}finally{f(!1)}};return t?(0,r.jsxs)("div",{className:"fixed inset-0 bg-zinc-600/80 bg-opacity-50 flex items-center justify-center p-4 z-50",children:[(0,r.jsx)(u.A,{}),(0,r.jsxs)("div",{className:"bg-[#1b1b1b] rounded-lg shadow-lg w-3/4 h-1/2.5 md:w-1/2 overflow-y-auto scrollbar text-gray-100",children:[(0,r.jsxs)("div",{className:"bg-zinc-900 px-4 py-2 flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Add User"}),(0,r.jsx)("button",{onClick:s,className:"text-zinc-400 hover:text-white cursor-pointer",children:(0,r.jsx)(h,{})})]}),(0,r.jsxs)("div",{className:"p-4 max-h-96 overflow-y-auto scrollbar",children:[n.map((e,t)=>(0,r.jsxs)("div",{className:"mb-6 p-4 border border-zinc-700 rounded-md shadow-sm ",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block mb-2 text-sm font-medium",children:"User Id"}),(0,r.jsx)("input",{type:"text",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",placeholder:"Enter userId",value:e.userId,onChange:e=>w(t,"userId",e.target.value)})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block mb-2 text-sm font-medium",children:"Role"}),(0,r.jsx)(p,{options:v,placeholder:"Select roles",onSelectionChange:e=>A(t,e),initialSelected:e.roles.map(e=>({id:e,name:e})),isLoading:b,dropdownId:"dropdown-".concat(t)})]})]}),(0,r.jsxs)("div",{className:"mb-4 flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"invite-".concat(t),className:"w-4 h-4 mr-2 accent-orange-700 cursor-pointer",checked:e.inviteIfNotFound,onChange:e=>w(t,"inviteIfNotFound",e.target.checked)}),(0,r.jsx)("label",{htmlFor:"invite-".concat(t),className:"text-sm",children:"Invite if not registered"})]}),n.length>1&&(0,r.jsx)(i.A,{onClick:()=>N(t)})]},t)),(0,r.jsx)(c.A,{name:"+ Add Another User",onClick:()=>{m([...n,{userId:"",roles:[],inviteIfNotFound:!0}])}})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 p-4 border-t border-zinc-700",children:[(0,r.jsx)("button",{onClick:s,className:"px-4 py-2 text-white bg-zinc-600 rounded-md cursor-pointer",disabled:g,children:"Cancel"}),(0,r.jsx)("button",{onClick:k,className:"px-6 py-2 bg-orange-700 text-white rounded-md shadow hover:bg-pink-900 cursor-pointer",disabled:g,children:g?(0,r.jsxs)("svg",{className:"animate-spin h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Submit"})]})]})]}):null}var f=s(5255);function v(){var e,t,s,i;let[c,d]=(0,o.useState)(null),[u,p]=(0,o.useState)(!0),[x,h]=(0,o.useState)("basic-info"),[v,y]=(0,o.useState)(!1),b=()=>{y(!0)};(0,o.useEffect)(()=>{(async()=>{try{let e=await l.N.getDomains();d(e)}catch(e){console.error("Error fetching Organization data:",e)}finally{p(!1)}})()},[]);let j=e=>{h(e)},N=null==c?void 0:null===(e=c.output)||void 0===e?void 0:e.organizations[0],w=null==N?void 0:N.organizationId,A=N?{id:N.organizationId,name:N.name||"Unnamed Organization",createdAt:(null===(t=N.resourceBase)||void 0===t?void 0:t.createdAt)?1e3*parseInt(N.resourceBase.createdAt):null,createdBy:null===(s=N.resourceBase)||void 0===s?void 0:s.createdBy,status:null===(i=N.resourceBase)||void 0===i?void 0:i.status,resourceBase:N.resourceBase,createActionParams:N.createActionParams||{weblink:"/settings/organization/#"}}:null;return(0,r.jsxs)("div",{className:"bg-zinc-800 flex h-screen relative",children:[(0,r.jsx)(f.A,{isLoading:u,text:"Loading Organization details",size:"default",isOverlay:!0,className:"absolute bg-zinc-800 inset-0 z-10"}),(0,r.jsxs)("div",{className:"overflow-y-auto scrollbar h-screen w-full",children:[(0,r.jsx)(a.A,{sectionHeader:"Organization Settings",hideBackListingLink:!0,backListingLink:"./"}),(0,r.jsxs)("div",{className:"flex-grow p-2 w-full text-gray-100",children:[N&&(0,r.jsx)(n.A,{resourceId:w,resourceType:"Organization",fetchUrl:"/setting-Organization.json",resourceData:A,customButton:{show:!0,title:"Add Users",onClick:()=>b(w)}}),(0,r.jsx)(g,{isOpen:v,onClose:()=>{y(!1)},organizationId:w}),N&&(0,r.jsxs)("div",{className:"overflow-x-auto scrollbar text-gray-100 bg-zinc-800 rounded-lg p-8 shadow-md",children:[(0,r.jsx)("div",{className:"flex border-b border-zinc-500",children:(0,r.jsx)("button",{onClick:()=>j("basic-info"),className:"px-4 py-2 font-semibold focus:outline-none ".concat("basic-info"===x?"bg-[oklch(0.205_0_0)] text-white rounded-t-[10px]":""),children:"Basic Info"})}),(0,r.jsx)("div",{id:"basic-info",className:"mt-2 bg-[#1b1b1b] p-4 ".concat("basic-info"!==x?"hidden":""),children:(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:" lg:lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Display Name:"}),(0,r.jsx)("p",{className:"break-words p-2",children:N.displayName})]}),(0,r.jsxs)("div",{className:"lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Organization ID:"}),(0,r.jsx)("p",{className:"break-words p-2",children:N.organizationId})]}),(0,r.jsxs)("div",{className:"lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Type:"}),(0,r.jsx)("p",{className:"break-words p-2",children:(0,m.E)(N.organizationType)})]})]})})]})]})]})]})}},2417:(e,t,s)=>{"use strict";function r(e){return e?e.replace(/_/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function o(e,t){return e?!t||t<=0||e.length<=t?e:e.substring(0,t)+"...":""}s.d(t,{E:()=>r,m:()=>o}),function(){if("undefined"==typeof document)return;function e(e){e&&!e._hasTooltip&&(e._hasTooltip=!0,e.addEventListener("mouseenter",function(){let e=document.createElement("div");e.style.position="absolute",e.style.backgroundColor="#27272a",e.style.color="#fff",e.style.padding="5px 10px",e.style.borderRadius="4px",e.style.fontSize="14px",e.style.zIndex="1000",e.style.pointerEvents="none",e.textContent=this.getAttribute("tooltip")||this.textContent,document.body.appendChild(e);let t=this.getBoundingClientRect();e.style.left=t.left+"px",e.style.top=t.top-e.offsetHeight-5+"px",this._tooltip=e}),e.addEventListener("mouseleave",function(){this._tooltip&&this._tooltip.parentNode&&(document.body.removeChild(this._tooltip),this._tooltip=null)}))}function t(){document.querySelectorAll(".tooltip").forEach(e)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t();let s=new MutationObserver(function(t){t.forEach(function(t){t.addedNodes.length&&t.addedNodes.forEach(function(t){1===t.nodeType&&(t.classList&&t.classList.contains("tooltip")&&e(t),t.querySelectorAll&&t.querySelectorAll(".tooltip").forEach(e))})})});s.observe(document.body,{childList:!0,subtree:!0}),window.addEventListener("unload",function(){s.disconnect()})}()},3093:(e,t,s)=>{"use strict";s.d(t,{N:()=>a,p:()=>n});var r=s(6403);let o={ENUMS:"/api/v1alpha1/resources-spec",BEDROCKGUARDRAILS:"/api/v1alpha1/aistudio/guardrails-plugins"},a={getEnums:()=>(0,r.Zq)(o.ENUMS,"GET",null)},n={getBedrockGuardrailsApi:()=>(0,r.Zq)(o.BEDROCKGUARDRAILS,"GET",null)}},6729:(e,t,s)=>{Promise.resolve().then(s.bind(s,2144))},8525:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(5155);function o(e){let{name:t,onClick:s}=e;return(0,r.jsx)("button",{type:"button",onClick:s,className:"mt-2 px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 cursor-pointer",suppressHydrationWarning:!0,children:t})}s(2115)},9516:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(5155),o=s(2115),a=s(3319),n=s(9774);let l=e=>{let{resourceId:t,resourceData:s=null,resourceType:l="default",fetchUrl:i=null,isLoading:c=!1,customActions:d=null,customButton:u=null,apiServices:m={}}=e,[p,x]=(0,o.useState)(null),[h,g]=(0,o.useState)(c||!s),[f,v]=(0,o.useState)(null),[y,b]=(0,o.useState)(null);return((0,o.useEffect)(()=>{b(localStorage.getItem("AccessTokenKey")||"")},[]),(0,o.useEffect)(()=>{let e=async()=>{if(s){x({...s,actionRules:s.actionRules||[],createActionParams:s.createActionParams||null,yamlSpec:s.yamlSpec||null,resourceType:s.resourceType||l}),g(!1);return}if(!i){v("No resource data or fetch URL provided"),g(!1);return}try{var e,r,o,a,n,c;let s=await fetch(i);if(!s.ok)throw Error("Failed to fetch ".concat(l));let d=await s.json(),u=null;switch(l){case"prompt":d&&d.output&&Array.isArray(d.output)&&(u=d.output.find(e=>e.promptId===t))&&u.resourceBase&&x({id:t,name:u.name,createdAt:1e3*parseInt(u.resourceBase.createdAt),createdBy:u.resourceBase.createdBy,status:u.resourceBase.status,resourceBase:u.resourceBase,actionRules:u.actionRules||[],createActionParams:u.createActionParams||null,yamlSpec:u.yamlSpec||null,resourceType:"prompt"});break;case"model":if(d&&d.output){if(d.output.modelNodeId===t)u=d.output;else for(let e of[d.output.generativeModels,d.output.embeddingModels].filter(e=>Array.isArray(e)))if(u=null==e?void 0:e.find(e=>e.modelNodeId===t))break;u&&x({id:t,name:u.name,createdAt:(null===(e=u.resourceBase)||void 0===e?void 0:e.createdAt)?1e3*parseInt(u.resourceBase.createdAt):null,createdBy:null===(r=u.resourceBase)||void 0===r?void 0:r.createdBy,status:null===(o=u.resourceBase)||void 0===o?void 0:o.status,resourceBase:u.resourceBase,actionRules:u.actionRules||[],createActionParams:u.createActionParams||null,yamlSpec:u.yamlSpec||null,resourceType:"model"})}break;default:if(d){let e=e=>{if(!e)return null;if(e.id===t||e.resourceId===t)return e;for(let s in e)if(Array.isArray(e[s])){let r=e[s].find(e=>e.id===t||e.resourceId===t||e.promptId===t||e.modelNodeId===t);if(r)return r}return null};(u=e(d)||e(d.output))&&x({id:t,name:u.name,createdAt:(null===(a=u.resourceBase)||void 0===a?void 0:a.createdAt)?1e3*parseInt(u.resourceBase.createdAt):u.createdAt?1e3*parseInt(u.createdAt):null,createdBy:(null===(n=u.resourceBase)||void 0===n?void 0:n.createdBy)||u.createdBy,status:(null===(c=u.resourceBase)||void 0===c?void 0:c.status)||u.status,resourceBase:u.resourceBase,actionRules:u.actionRules||[],createActionParams:u.createActionParams||null,yamlSpec:u.yamlSpec||null,resourceType:l})}}u||v("".concat(l," not found for ID: ").concat(t)),g(!1)}catch(e){console.error("Error fetching ".concat(l,":"),e),v(e.message),g(!1)}};t&&!s?e():s&&(x({...s,actionRules:s.actionRules||[],createActionParams:s.createActionParams||null,yamlSpec:s.yamlSpec||null,resourceType:s.resourceType||l}),g(!1))},[t,s,l,i]),h)?(0,r.jsx)("div",{className:"text-gray-400 text-sm",children:"Loading resource data..."}):f?(0,r.jsxs)("div",{className:"text-red-400 text-sm",children:["Error: ",f]}):p?(0,r.jsxs)("div",{className:"flex justify-between mt-2 items-center bg-[#1b1b1b] text-gray-100 rounded-lg shadow-md p-2",children:[(0,r.jsxs)("div",{className:"items-center",children:[(0,r.jsx)("h1",{className:"text-xl text-gray-100 font-semibold mb-2",children:p.name||"Unnamed Resource"}),(0,r.jsxs)("div",{className:"flex text-gray-100 mb-4 pr-4",children:[(0,r.jsx)("svg",{className:"w-6 h-6 mr-2 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 4h10a2 2 0 012 2v11a2 2 0 01-2 2H7a2 2 0 01-2-2V9a2 2 0 012-2zm3 4h4m-4 4h4"})}),(0,r.jsx)("span",{className:"text-sm",children:(0,r.jsx)("span",{className:"border-b-2 text-gray-100 font-semibold text-sm border-gray-800",children:(e=>{if(!e)return"N/A";try{return(0,a.GP)(new Date(e),"yyyy-MM-dd")}catch(e){return console.error("Date formatting error:",e),"Invalid date"}})(p.createdAt)})}),(0,r.jsx)("svg",{className:"w-6 h-6 mr-2 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),(0,r.jsx)("span",{className:"text-sm",children:(0,r.jsx)("span",{className:"border-b-2 text-gray-100 text-sm border-gray-800",children:p.createdBy||"N/A"})}),p.status&&(0,r.jsx)("p",{children:(0,r.jsx)("span",{className:"px-3 py-2 ml-2 text-sm font-medium ".concat("ACTIVE"===p.status?"text-green-800 bg-green-100":"text-red-800 bg-red-100"," rounded-full"),children:p.status})})]})]}),(0,r.jsx)("div",{className:"relative inline-block text-left",children:d||(0,r.jsx)(n.A,{response:{...p,resourceId:p.id,resourceType:p.resourceType||l},globalContext:{AccessTokenKey:y},customButton:u,apiServices:m,resourceType:p.resourceType||l})})]}):(0,r.jsx)("div",{className:"text-gray-400 text-sm",children:"No resource data available"})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5552,5441,7014,1440,6302,8441,1684,7358],()=>t(6729)),_N_E=e.O()}]);