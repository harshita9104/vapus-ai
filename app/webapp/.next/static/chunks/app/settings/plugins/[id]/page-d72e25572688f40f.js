(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1733],{545:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(5155),a=t(2115),l=t(1440),n=t(3024),c=t(9516),i=t(5255);function o(e){var s,t,o,d,u;let{params:m}=e,p=(0,a.use)(m),x=(null==p?void 0:p.id)?String(p.id).trim():"",[g,h]=(0,a.useState)("basic-info"),[f,v]=(0,a.useState)(null),[y,N]=(0,a.useState)(!0),[b,j]=(0,a.useState)(null),A=e=>{h(e)};if((0,a.useEffect)(()=>{let e=async()=>{if(!x){console.error("No plugin ID available"),j("No plugin ID provided"),N(!1);return}try{let e=await n.VA.getPluginsId(x);if(console.log("API Response:",e),!e){console.error("No response received from server"),j("No response received from server"),N(!1);return}e.output?Array.isArray(e.output)&&e.output.length>0?v(e.output[0]):"object"==typeof e.output?(console.log("Setting plugin data from object:",e.output),v(e.output)):(console.error("Unexpected output format:",e.output),j("Unexpected data format received")):(console.log("Response has no output property, checking if response itself is the data"),e.pluginId?(console.log("Using response as plugin data:",e),v(e)):(console.error("Response does not contain plugin data:",e),j("Invalid response format"))),N(!1)}catch(e){console.error("Error fetching plugin details:",e),j(e.message||"Failed to fetch plugin details"),N(!1)}};x?e():(j("No plugin ID provided"),N(!1))},[x]),b||!y&&!f)return(0,r.jsx)("div",{className:"bg-zinc-800 flex h-screen",children:(0,r.jsxs)("div",{className:"overflow-y-auto scrollbar h-screen w-full",children:[(0,r.jsx)(l.A,{sectionHeader:"Plugin Details",backListingLink:"/settings/plugins"}),(0,r.jsx)("div",{className:"flex justify-center items-center h-64 text-red-400",children:(0,r.jsxs)("div",{className:"text-xl",children:["Error: ",b||"Plugin not found"]})})]})});let k={plugin:{archive:n.L9.getPluginsArchive,delete:n.L9.getPluginsArchive}},P=f?{id:f.pluginId,name:f.name||"Unnamed Plugin",createdAt:(null===(s=f.resourceBase)||void 0===s?void 0:s.createdAt)?1e3*parseInt(f.resourceBase.createdAt):null,createdBy:null===(t=f.resourceBase)||void 0===t?void 0:t.createdBy,status:(null===(o=f.resourceBase)||void 0===o?void 0:o.status)||f.status,resourceBase:f.resourceBase,resourceType:"plugin",createActionParams:f.createActionParams||{weblink:"/settings/plugins/".concat(f.pluginId,"/update")}}:null;return(0,r.jsxs)("div",{className:"bg-zinc-800 flex h-screen relative",children:[(0,r.jsx)(i.A,{isLoading:y,text:"Loading plugin details",size:"default",isOverlay:!0,className:"absolute bg-zinc-800 inset-0 z-10"}),(0,r.jsxs)("div",{className:"overflow-y-auto h-screen w-full",children:[(0,r.jsx)(l.A,{sectionHeader:"Plugin Details",hideBackListingLink:!1,backListingLink:"/settings/plugins"}),(0,r.jsxs)("div",{className:"flex-grow p-2 w-full text-gray-100",children:[f&&f.pluginId&&P&&(0,r.jsx)(c.A,{resourceId:f.pluginId,resourceData:P,resourceType:"plugin",apiServices:k}),(0,r.jsxs)("div",{className:"overflow-x-auto text-gray-100 bg-zinc-800 rounded-lg p-8 shadow-md",children:[(0,r.jsx)("div",{className:"flex border-b border-zinc-500 font-semibold text-gray-50",children:(0,r.jsx)("button",{onClick:()=>A("basic-info"),className:"px-4 py-2 focus:outline-none ".concat("basic-info"===g?"bg-[oklch(0.205_0_0)] text-white rounded-t-[10px]":""),children:"Basic Info"})}),(0,r.jsxs)("div",{id:"basic-info",className:"mt-2 bg-[#1b1b1b] p-4 ".concat("basic-info"!==g?"hidden":""),children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Display Name:"}),(0,r.jsx)("p",{className:"p-2",children:(null==f?void 0:f.name)||"N/A"})]}),(0,r.jsxs)("div",{className:"lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Plugin id:"}),(0,r.jsx)("p",{className:"p-2",children:(null==f?void 0:f.pluginId)||"N/A"})]}),(0,r.jsxs)("div",{className:"lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Organization:"}),(0,r.jsx)("p",{className:"p-2",children:(null==f?void 0:f.organization)||"N/A"})]}),(0,r.jsxs)("div",{className:"lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Plugin Type:"}),(0,r.jsx)("p",{className:"p-2",children:(null==f?void 0:f.pluginType)||"N/A"})]}),(0,r.jsxs)("div",{className:"lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Plugin Service:"}),(0,r.jsx)("p",{className:"p-2",children:(null==f?void 0:f.pluginService)||"N/A"})]}),(0,r.jsxs)("div",{className:"lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Status:"}),(0,r.jsx)("p",{className:"p-2",children:(0,r.jsx)("span",{className:"px-3 py-1 text-sm font-medium ".concat((null==f?void 0:f.status)==="ACTIVE"||(null==f?void 0:null===(d=f.resourceBase)||void 0===d?void 0:d.status)==="ACTIVE"?"text-green-800 bg-green-100":"text-red-800 bg-red-100"," rounded-full"),children:(null==f?void 0:f.status)||(null==f?void 0:null===(u=f.resourceBase)||void 0===u?void 0:u.status)||"N/A"})})]})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("p",{className:"text-xl mb-4 text-[1.25rem] font-bold text-[#f4d1c2] underline",children:"Parameters:"}),Array.isArray(null==f?void 0:f.dynamicParams)&&f.dynamicParams.length>0?(0,r.jsx)("div",{className:"w-full bg-[#1b1b1b] rounded-lg",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-zinc-500 text-gray-100 border-2 border-zinc-500 text-xs",children:[(0,r.jsx)("thead",{className:"bg-zinc-900 divide-y divide-zinc-500 break-words text-sm font-medium text-gray-500 uppercase",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-3 py-3 text-left tracking-wider",children:"Key"}),(0,r.jsx)("th",{className:"px-3 py-3 text-left tracking-wider",children:"Value"})]})}),(0,r.jsx)("tbody",{className:"bg-zinc-800 divide-y divide-zinc-500",children:f.dynamicParams.some(e=>e&&e.key&&""!==e.key)?f.dynamicParams.map((e,s)=>e&&e.key&&""!==e.key?(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:e.key}),(0,r.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:e.value||""})]},s):null):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:"2",className:"px-3 py-3 text-center",children:"No parameters available for this plugin."})})})]})}):(0,r.jsx)("p",{className:"p-2",children:"No parameters available for this plugin."})]})]})]})]})]})]})}},2992:(e,s,t)=>{Promise.resolve().then(t.bind(t,545))},3024:(e,s,t)=>{"use strict";t.d(s,{L9:()=>i,S:()=>c,VA:()=>l,pV:()=>n});var r=t(6403);let a={PLUGINS:"/api/v1alpha1/plugins"},l={getPlugins:()=>(0,r.Zq)(a.PLUGINS,"GET",null),getPluginsId:e=>(0,r.Zq)("".concat(a.PLUGINS,"/").concat(e),"GET",null)},n={getpluginsForm:e=>(0,r.Zq)(a.PLUGINS,"POST",e)},c={getPluginsUpdateForm:e=>(0,r.Zq)(a.PLUGINS,"PUT",e)},i={getPluginsArchive:e=>(0,r.Zq)("".concat(a.PLUGINS,"/").concat(e),"DELETE",null)}},9516:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var r=t(5155),a=t(2115),l=t(3319),n=t(9774);let c=e=>{let{resourceId:s,resourceData:t=null,resourceType:c="default",fetchUrl:i=null,isLoading:o=!1,customActions:d=null,customButton:u=null,apiServices:m={}}=e,[p,x]=(0,a.useState)(null),[g,h]=(0,a.useState)(o||!t),[f,v]=(0,a.useState)(null),[y,N]=(0,a.useState)(null);return((0,a.useEffect)(()=>{N(localStorage.getItem("AccessTokenKey")||"")},[]),(0,a.useEffect)(()=>{let e=async()=>{if(t){x({...t,actionRules:t.actionRules||[],createActionParams:t.createActionParams||null,yamlSpec:t.yamlSpec||null,resourceType:t.resourceType||c}),h(!1);return}if(!i){v("No resource data or fetch URL provided"),h(!1);return}try{var e,r,a,l,n,o;let t=await fetch(i);if(!t.ok)throw Error("Failed to fetch ".concat(c));let d=await t.json(),u=null;switch(c){case"prompt":d&&d.output&&Array.isArray(d.output)&&(u=d.output.find(e=>e.promptId===s))&&u.resourceBase&&x({id:s,name:u.name,createdAt:1e3*parseInt(u.resourceBase.createdAt),createdBy:u.resourceBase.createdBy,status:u.resourceBase.status,resourceBase:u.resourceBase,actionRules:u.actionRules||[],createActionParams:u.createActionParams||null,yamlSpec:u.yamlSpec||null,resourceType:"prompt"});break;case"model":if(d&&d.output){if(d.output.modelNodeId===s)u=d.output;else for(let e of[d.output.generativeModels,d.output.embeddingModels].filter(e=>Array.isArray(e)))if(u=null==e?void 0:e.find(e=>e.modelNodeId===s))break;u&&x({id:s,name:u.name,createdAt:(null===(e=u.resourceBase)||void 0===e?void 0:e.createdAt)?1e3*parseInt(u.resourceBase.createdAt):null,createdBy:null===(r=u.resourceBase)||void 0===r?void 0:r.createdBy,status:null===(a=u.resourceBase)||void 0===a?void 0:a.status,resourceBase:u.resourceBase,actionRules:u.actionRules||[],createActionParams:u.createActionParams||null,yamlSpec:u.yamlSpec||null,resourceType:"model"})}break;default:if(d){let e=e=>{if(!e)return null;if(e.id===s||e.resourceId===s)return e;for(let t in e)if(Array.isArray(e[t])){let r=e[t].find(e=>e.id===s||e.resourceId===s||e.promptId===s||e.modelNodeId===s);if(r)return r}return null};(u=e(d)||e(d.output))&&x({id:s,name:u.name,createdAt:(null===(l=u.resourceBase)||void 0===l?void 0:l.createdAt)?1e3*parseInt(u.resourceBase.createdAt):u.createdAt?1e3*parseInt(u.createdAt):null,createdBy:(null===(n=u.resourceBase)||void 0===n?void 0:n.createdBy)||u.createdBy,status:(null===(o=u.resourceBase)||void 0===o?void 0:o.status)||u.status,resourceBase:u.resourceBase,actionRules:u.actionRules||[],createActionParams:u.createActionParams||null,yamlSpec:u.yamlSpec||null,resourceType:c})}}u||v("".concat(c," not found for ID: ").concat(s)),h(!1)}catch(e){console.error("Error fetching ".concat(c,":"),e),v(e.message),h(!1)}};s&&!t?e():t&&(x({...t,actionRules:t.actionRules||[],createActionParams:t.createActionParams||null,yamlSpec:t.yamlSpec||null,resourceType:t.resourceType||c}),h(!1))},[s,t,c,i]),g)?(0,r.jsx)("div",{className:"text-gray-400 text-sm",children:"Loading resource data..."}):f?(0,r.jsxs)("div",{className:"text-red-400 text-sm",children:["Error: ",f]}):p?(0,r.jsxs)("div",{className:"flex justify-between mt-2 items-center bg-[#1b1b1b] text-gray-100 rounded-lg shadow-md p-2",children:[(0,r.jsxs)("div",{className:"items-center",children:[(0,r.jsx)("h1",{className:"text-xl text-gray-100 font-semibold mb-2",children:p.name||"Unnamed Resource"}),(0,r.jsxs)("div",{className:"flex text-gray-100 mb-4 pr-4",children:[(0,r.jsx)("svg",{className:"w-6 h-6 mr-2 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 4h10a2 2 0 012 2v11a2 2 0 01-2 2H7a2 2 0 01-2-2V9a2 2 0 012-2zm3 4h4m-4 4h4"})}),(0,r.jsx)("span",{className:"text-sm",children:(0,r.jsx)("span",{className:"border-b-2 text-gray-100 font-semibold text-sm border-gray-800",children:(e=>{if(!e)return"N/A";try{return(0,l.GP)(new Date(e),"yyyy-MM-dd")}catch(e){return console.error("Date formatting error:",e),"Invalid date"}})(p.createdAt)})}),(0,r.jsx)("svg",{className:"w-6 h-6 mr-2 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),(0,r.jsx)("span",{className:"text-sm",children:(0,r.jsx)("span",{className:"border-b-2 text-gray-100 text-sm border-gray-800",children:p.createdBy||"N/A"})}),p.status&&(0,r.jsx)("p",{children:(0,r.jsx)("span",{className:"px-3 py-2 ml-2 text-sm font-medium ".concat("ACTIVE"===p.status?"text-green-800 bg-green-100":"text-red-800 bg-red-100"," rounded-full"),children:p.status})})]})]}),(0,r.jsx)("div",{className:"relative inline-block text-left",children:d||(0,r.jsx)(n.A,{response:{...p,resourceId:p.id,resourceType:p.resourceType||c},globalContext:{AccessTokenKey:y},customButton:u,apiServices:m,resourceType:p.resourceType||c})})]}):(0,r.jsx)("div",{className:"text-gray-400 text-sm",children:"No resource data available"})}}},e=>{var s=s=>e(e.s=s);e.O(0,[5552,5441,7014,1440,6302,8441,1684,7358],()=>s(2992)),_N_E=e.O()}]);