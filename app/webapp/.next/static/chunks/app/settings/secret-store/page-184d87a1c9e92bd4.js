(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1707],{255:(e,t,r)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),r(5155),r(7650),r(5744),r(589)},378:(e,t,r)=>{Promise.resolve().then(r.bind(r,7292))},2146:(e,t,r)=>{"use strict";function n(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),r(5262)},3011:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(5155),s=r(6874),a=r.n(s);function l(e){let{label:t="Add New",href:r="#",className:s="text-white text-sm px-1 py-1 rounded-lg bg-orange-700 hover:bg-pink-900 text-lg flex items-center"}=e;return(0,n.jsxs)(a(),{href:r,className:s,children:[(0,n.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{fill:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),t]})}},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return a},createSnapshot:function(){return o}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let s="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function a(){return s?new s:new n}function l(e){return s?s.bind(e):n.bind(e)}function o(){return s?s.snapshot():function(e,...t){return e(...t)}}},5028:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var n=r(6645),s=r.n(n)},5744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=r(7828)},6645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let n=r(8229)._(r(7357));function s(e,t){var r;let s={};"function"==typeof e&&(s.loader=e);let a={...s,...t};return(0,n.default)({...a,modules:null==(r=a.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7292:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(5155),s=r(2115),a=r(5028),l=r(1440),o=r(3011),i=r(9222);let c=(0,a.default)(()=>r.e(5736).then(r.bind(r,5736)),{loadableGenerated:{webpack:()=>[5736]},ssr:!1}),d=()=>{let[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[d,u]=(0,s.useState)(null),[f,p]=(0,s.useState)(""),g=async()=>{try{return(await i._5.getSecretStore()).output||[]}catch(e){return console.error("Error fetching model nodes data:",e),u(e.message||"Failed to fetch plugins data"),[]}},h=e=>e&&"0"!==e?new Date(1e3*parseInt(e)).toLocaleString():"N/A",b=(e,t)=>e?e.length>t?e.substring(0,t)+"...":e:"N/A",m=e=>e.map(e=>{var t;return{Name:e.name||"N/A","Secret Type":"CUSTOM_SECRET"===e.secretType?"Custom Secret":"Vapus Credential","Created At":h(null===(t=e.resourceBase)||void 0===t?void 0:t.createdAt),Description:b(e.description,30),"View Details":'<a href="secret-store/'.concat(e.name,'" target="_blank" class="relative group inline-flex items-center justify-center">\n                          \x3c!-- The Icon --\x3e\n                          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 200 200">\n                            <circle cx="100" cy="100" r="90" stroke="rgb(207, 86, 46)" stroke-width="10" fill="none" />\n                            <g transform="rotate(315, 100, 100)">\n                              <line x1="60" y1="100" x2="140" y2="100" stroke="rgb(207, 86, 46)" stroke-width="10" stroke-linecap="round" />\n                              <path d="M120,80 L140,100 L120,120" stroke="rgb(207, 86, 46)" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" fill="none" />\n                            </g>\n                          </svg>\n\n                          \x3c!-- Tooltip: adjust position and spacing --\x3e\n                          <div class="absolute -top-6 left-17 -translate-x-1/2 \n                                      hidden group-hover:block bg-gray-700 text-gray-100 text-xs rounded px-2 py-1 z-50 whitespace-nowrap">\n                            View user detail\n                          </div>\n                      </a>')}});return(0,s.useEffect)(()=>{(async()=>{a(!0);let e=await g();console.log("Secrets data fetched:",e);let r=m(e);console.log("Transformed data:",r),t(r),a(!1)})()},[]),(0,n.jsx)("div",{className:"bg-zinc-800 flex h-screen",children:(0,n.jsxs)("div",{className:"overflow-y-auto h-screen w-full",children:[(0,n.jsx)(l.A,{sectionHeader:"Secret Service",hideBackListingLink:!0,backListingLink:"./"}),(0,n.jsx)("div",{className:"flex-grow p-2 w-full",children:(0,n.jsxs)("section",{id:"tables",className:"space-y-6",children:[(0,n.jsx)("div",{className:"flex justify-between mb-2 items-center p-2",children:(0,n.jsx)(o.A,{href:"./secret-store/create",label:"Add New"})}),d?(0,n.jsx)("div",{className:"flex justify-center items-center h-64 text-red-400",children:(0,n.jsxs)("div",{className:"text-xl",children:["Error: ",d]})}):0!==e.length||r?(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)(c,{id:"secretStoreTable",data:e,columns:["Name","Secret Type","Created At","Description","View Details"],loading:r,filteredColumns:["Name","Secret Type"],dangerouslySetInnerHTML:!0,loadingText:"Loading Secrets..."})}):(0,n.jsx)("div",{className:"overflow-x-auto rounded-lg p-4 shadow-md text-gray-100",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-zinc-500 text-gray-100 border-2 border-zinc-500",id:"secretStoreTable",children:[(0,n.jsx)("thead",{className:"bg-zinc-900 divide-y divide-zinc-500 break-words   font-medium text-gray-500 uppercase",children:(0,n.jsx)("tr",{})}),(0,n.jsx)("tbody",{className:"divide-y divide-gray-200  ",children:(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:"5",className:"px-3 py-3 whitespace-nowrap text-center",children:"No Secrets found"})})})]})})]})}),(0,n.jsx)("div",{hidden:!0,id:"createTemplate",children:f})]})})},u=(0,a.default)(()=>Promise.resolve(d),{ssr:!1})},7357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let n=r(5155),s=r(2115),a=r(2146);function l(e){return{default:e&&"default"in e?e.default:e}}r(255);let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},i=function(e){let t={...o,...e},r=(0,s.lazy)(()=>t.loader().then(l)),i=t.loading;function c(e){let l=i?(0,n.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?s.Suspense:s.Fragment,d=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(c,{...o?{fallback:l}:{},children:d})}return c.displayName="LoadableComponent",c}},7828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,r(4054).createAsyncLocalStorage)()},9222:(e,t,r)=>{"use strict";r.d(t,{KI:()=>o,M5:()=>l,_5:()=>a});var n=r(6403);let s={SECRET_STORE:"/api/v1alpha1/secrets"},a={getSecretStore:()=>(0,n.Zq)(s.SECRET_STORE,"GET",null),getSecretStoreName:e=>(0,n.Zq)("".concat(s.SECRET_STORE,"/").concat(e),"GET",null)},l={getSecretStoreForm:e=>(0,n.Zq)(s.SECRET_STORE,"POST",e)},o={getSecretStoreArchive:e=>(0,n.Zq)("".concat(s.SECRET_STORE,"/").concat(e),"DELETE",null)}}},e=>{var t=t=>e(e.s=t);e.O(0,[5552,5441,1440,8441,1684,7358],()=>t(378)),_N_E=e.O()}]);