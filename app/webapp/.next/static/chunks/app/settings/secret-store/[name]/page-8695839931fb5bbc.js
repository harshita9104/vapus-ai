(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9465],{2417:(e,t,s)=>{"use strict";function r(e){return e?e.replace(/_/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function a(e,t){return e?!t||t<=0||e.length<=t?e:e.substring(0,t)+"...":""}s.d(t,{E:()=>r,m:()=>a}),function(){if("undefined"==typeof document)return;function e(e){e&&!e._hasTooltip&&(e._hasTooltip=!0,e.addEventListener("mouseenter",function(){let e=document.createElement("div");e.style.position="absolute",e.style.backgroundColor="#27272a",e.style.color="#fff",e.style.padding="5px 10px",e.style.borderRadius="4px",e.style.fontSize="14px",e.style.zIndex="1000",e.style.pointerEvents="none",e.textContent=this.getAttribute("tooltip")||this.textContent,document.body.appendChild(e);let t=this.getBoundingClientRect();e.style.left=t.left+"px",e.style.top=t.top-e.offsetHeight-5+"px",this._tooltip=e}),e.addEventListener("mouseleave",function(){this._tooltip&&this._tooltip.parentNode&&(document.body.removeChild(this._tooltip),this._tooltip=null)}))}function t(){document.querySelectorAll(".tooltip").forEach(e)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t();let s=new MutationObserver(function(t){t.forEach(function(t){t.addedNodes.length&&t.addedNodes.forEach(function(t){1===t.nodeType&&(t.classList&&t.classList.contains("tooltip")&&e(t),t.querySelectorAll&&t.querySelectorAll(".tooltip").forEach(e))})})});s.observe(document.body,{childList:!0,subtree:!0}),window.addEventListener("unload",function(){s.disconnect()})}()},6662:(e,t,s)=>{Promise.resolve().then(s.bind(s,8629))},8629:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5155),a=s(2115),c=s(1440),l=s(9516),o=s(9222),n=s(5255),i=s(2417);function d(e){var t,s,d,u,m;let p;let{params:x}=e;console.log("my params",x);let h=(0,a.use)(x),f=(null==h?void 0:h.name)?String(h.name).trim():"",[v,y]=(0,a.useState)(null),[g,N]=(0,a.useState)(!0),[b,S]=(0,a.useState)(null),[j,A]=(0,a.useState)("spec");(0,a.useEffect)(()=>{let e=async()=>{try{let e=await o._5.getSecretStoreName(f);if(console.log("secretDetails",e),!e){console.error("No response received from server"),S("No response received from server"),N(!1);return}e.output&&Array.isArray(e.output)&&e.output.length>0?y({SecretStore:e.output[0]}):e.output&&!Array.isArray(e.output)?y({SecretStore:e.output}):(console.error("Data does not contain expected output format:",e),S("Unexpected data format received from server")),N(!1)}catch(e){console.error("Error fetching secret details:",e),S(e.message),N(!1)}};f?e():(S("No secret name provided"),N(!1))},[f]);let E=e=>{A(e)};if(b)return(0,r.jsx)("div",{className:"bg-zinc-800 flex h-screen",children:(0,r.jsxs)("div",{className:"overflow-y-auto h-screen w-full",children:[(0,r.jsx)(c.A,{sectionHeader:"Secret Details",hideBackListingLink:!1,backListingLink:"./"}),(0,r.jsx)("div",{className:"flex justify-center items-center h-64 text-red-400",children:(0,r.jsxs)("div",{className:"text-xl",children:["Error: ",b]})})]})});if(!g&&!v)return(0,r.jsx)("div",{className:"bg-zinc-800 flex h-screen",children:(0,r.jsxs)("div",{className:"overflow-y-auto h-screen w-full",children:[(0,r.jsx)(c.A,{sectionHeader:"Secret Details",hideBackListingLink:!1,backListingLink:"./"}),(0,r.jsx)("div",{className:"flex justify-center items-center h-64 text-white",children:(0,r.jsx)("div",{className:"text-xl",children:"Secret not found"})})]})});let k=null==v?void 0:v.SecretStore,B={secret:{archive:o.KI.getSecretStoreArchive,delete:o.KI.getSecretStoreArchive}},w=k?{id:k.name,name:k.name||"Unnamed Secret",createdAt:(null===(t=k.resourceBase)||void 0===t?void 0:t.createdAt)?1e3*parseInt(k.resourceBase.createdAt):null,createdBy:null===(s=k.resourceBase)||void 0===s?void 0:s.createdBy,status:null===(d=k.resourceBase)||void 0===d?void 0:d.status,resourceBase:k.resourceBase,resourceType:"secret",createActionParams:k.createActionParams||{weblink:"./".concat(k.name,"/update")},yamlSpec:k.yamlSpec||JSON.stringify(k,null,2)}:null;return(0,r.jsxs)("div",{className:"bg-zinc-800 flex h-screen relative",children:[(0,r.jsx)(n.A,{isLoading:g,text:"Loading secret details",size:"default",isOverlay:!0,className:"absolute bg-zinc-800 inset-0 z-10"}),(0,r.jsxs)("div",{className:"overflow-y-auto h-screen w-full",children:[(0,r.jsx)(c.A,{sectionHeader:"Secret Details",hideBackListingLink:!1,backListingLink:"./"}),(0,r.jsxs)("div",{className:"flex-grow p-2 w-full text-gray-100",children:[k&&w&&(0,r.jsx)(l.A,{resourceId:k.name,resourceType:"secret",resourceData:w,apiServices:B}),(0,r.jsxs)("div",{className:"overflow-x-auto scrollbar text-gray-100 bg-zinc-800 rounded-lg p-8 shadow-md",children:[(0,r.jsx)("div",{className:"flex border-b border-zinc-500 font-semibold text-gray-50",children:(0,r.jsx)("button",{onClick:()=>E("spec"),className:"px-4 py-2 focus:outline-none ".concat("spec"===j?"bg-[oklch(0.205_0_0)] text-white rounded-t-[10px]":""),children:"Spec"})}),(0,r.jsx)("div",{id:"spec",className:"mt-2 bg-[#1b1b1b] p-4 ".concat("spec"!==j?"hidden":""),children:(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Name:"}),(0,r.jsx)("p",{className:"p-2",children:(p=null==k?void 0:k.name)&&""!==p?p:"N/A"})]}),(0,r.jsxs)("div",{className:"lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Secret Type:"}),(0,r.jsx)("p",{className:"p-2",children:(0,i.E)((null==k?void 0:k.secretType)||"N/A")})]}),(0,r.jsxs)("div",{className:"lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Provider:"}),(0,r.jsx)("p",{className:"p-2",children:(0,i.E)((null==k?void 0:k.provider)||"N/A")})]}),(0,r.jsxs)("div",{className:"lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Organization:"}),(0,r.jsx)("p",{className:"p-2",children:(null==k?void 0:null===(u=k.resourceBase)||void 0===u?void 0:u.organization)||"N/A"})]}),(0,r.jsxs)("div",{className:"lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Data:"}),(0,r.jsx)("p",{className:"p-2",children:(null==k?void 0:k.data)||"N/A"})]}),(0,r.jsxs)("div",{className:"lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Description:"}),(0,r.jsx)("p",{className:"p-2",children:(null==k?void 0:k.description)||"N/A"})]}),(0,r.jsxs)("div",{className:"lg:flex items-center",children:[(0,r.jsx)("p",{className:"text-base font-extralight text-[#f4d1c2] block",children:"Expire At:"}),(0,r.jsx)("p",{className:"p-2",children:(m=null==k?void 0:k.expireAt)&&"0"!==m?new Date(1e3*parseInt(m)).toLocaleString():"N/A"})]})]})})]})]})]})]})}},9222:(e,t,s)=>{"use strict";s.d(t,{KI:()=>o,M5:()=>l,_5:()=>c});var r=s(6403);let a={SECRET_STORE:"/api/v1alpha1/secrets"},c={getSecretStore:()=>(0,r.Zq)(a.SECRET_STORE,"GET",null),getSecretStoreName:e=>(0,r.Zq)("".concat(a.SECRET_STORE,"/").concat(e),"GET",null)},l={getSecretStoreForm:e=>(0,r.Zq)(a.SECRET_STORE,"POST",e)},o={getSecretStoreArchive:e=>(0,r.Zq)("".concat(a.SECRET_STORE,"/").concat(e),"DELETE",null)}},9516:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(5155),a=s(2115),c=s(3319),l=s(9774);let o=e=>{let{resourceId:t,resourceData:s=null,resourceType:o="default",fetchUrl:n=null,isLoading:i=!1,customActions:d=null,customButton:u=null,apiServices:m={}}=e,[p,x]=(0,a.useState)(null),[h,f]=(0,a.useState)(i||!s),[v,y]=(0,a.useState)(null),[g,N]=(0,a.useState)(null);return((0,a.useEffect)(()=>{N(localStorage.getItem("AccessTokenKey")||"")},[]),(0,a.useEffect)(()=>{let e=async()=>{if(s){x({...s,actionRules:s.actionRules||[],createActionParams:s.createActionParams||null,yamlSpec:s.yamlSpec||null,resourceType:s.resourceType||o}),f(!1);return}if(!n){y("No resource data or fetch URL provided"),f(!1);return}try{var e,r,a,c,l,i;let s=await fetch(n);if(!s.ok)throw Error("Failed to fetch ".concat(o));let d=await s.json(),u=null;switch(o){case"prompt":d&&d.output&&Array.isArray(d.output)&&(u=d.output.find(e=>e.promptId===t))&&u.resourceBase&&x({id:t,name:u.name,createdAt:1e3*parseInt(u.resourceBase.createdAt),createdBy:u.resourceBase.createdBy,status:u.resourceBase.status,resourceBase:u.resourceBase,actionRules:u.actionRules||[],createActionParams:u.createActionParams||null,yamlSpec:u.yamlSpec||null,resourceType:"prompt"});break;case"model":if(d&&d.output){if(d.output.modelNodeId===t)u=d.output;else for(let e of[d.output.generativeModels,d.output.embeddingModels].filter(e=>Array.isArray(e)))if(u=null==e?void 0:e.find(e=>e.modelNodeId===t))break;u&&x({id:t,name:u.name,createdAt:(null===(e=u.resourceBase)||void 0===e?void 0:e.createdAt)?1e3*parseInt(u.resourceBase.createdAt):null,createdBy:null===(r=u.resourceBase)||void 0===r?void 0:r.createdBy,status:null===(a=u.resourceBase)||void 0===a?void 0:a.status,resourceBase:u.resourceBase,actionRules:u.actionRules||[],createActionParams:u.createActionParams||null,yamlSpec:u.yamlSpec||null,resourceType:"model"})}break;default:if(d){let e=e=>{if(!e)return null;if(e.id===t||e.resourceId===t)return e;for(let s in e)if(Array.isArray(e[s])){let r=e[s].find(e=>e.id===t||e.resourceId===t||e.promptId===t||e.modelNodeId===t);if(r)return r}return null};(u=e(d)||e(d.output))&&x({id:t,name:u.name,createdAt:(null===(c=u.resourceBase)||void 0===c?void 0:c.createdAt)?1e3*parseInt(u.resourceBase.createdAt):u.createdAt?1e3*parseInt(u.createdAt):null,createdBy:(null===(l=u.resourceBase)||void 0===l?void 0:l.createdBy)||u.createdBy,status:(null===(i=u.resourceBase)||void 0===i?void 0:i.status)||u.status,resourceBase:u.resourceBase,actionRules:u.actionRules||[],createActionParams:u.createActionParams||null,yamlSpec:u.yamlSpec||null,resourceType:o})}}u||y("".concat(o," not found for ID: ").concat(t)),f(!1)}catch(e){console.error("Error fetching ".concat(o,":"),e),y(e.message),f(!1)}};t&&!s?e():s&&(x({...s,actionRules:s.actionRules||[],createActionParams:s.createActionParams||null,yamlSpec:s.yamlSpec||null,resourceType:s.resourceType||o}),f(!1))},[t,s,o,n]),h)?(0,r.jsx)("div",{className:"text-gray-400 text-sm",children:"Loading resource data..."}):v?(0,r.jsxs)("div",{className:"text-red-400 text-sm",children:["Error: ",v]}):p?(0,r.jsxs)("div",{className:"flex justify-between mt-2 items-center bg-[#1b1b1b] text-gray-100 rounded-lg shadow-md p-2",children:[(0,r.jsxs)("div",{className:"items-center",children:[(0,r.jsx)("h1",{className:"text-xl text-gray-100 font-semibold mb-2",children:p.name||"Unnamed Resource"}),(0,r.jsxs)("div",{className:"flex text-gray-100 mb-4 pr-4",children:[(0,r.jsx)("svg",{className:"w-6 h-6 mr-2 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 4h10a2 2 0 012 2v11a2 2 0 01-2 2H7a2 2 0 01-2-2V9a2 2 0 012-2zm3 4h4m-4 4h4"})}),(0,r.jsx)("span",{className:"text-sm",children:(0,r.jsx)("span",{className:"border-b-2 text-gray-100 font-semibold text-sm border-gray-800",children:(e=>{if(!e)return"N/A";try{return(0,c.GP)(new Date(e),"yyyy-MM-dd")}catch(e){return console.error("Date formatting error:",e),"Invalid date"}})(p.createdAt)})}),(0,r.jsx)("svg",{className:"w-6 h-6 mr-2 ml-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),(0,r.jsx)("span",{className:"text-sm",children:(0,r.jsx)("span",{className:"border-b-2 text-gray-100 text-sm border-gray-800",children:p.createdBy||"N/A"})}),p.status&&(0,r.jsx)("p",{children:(0,r.jsx)("span",{className:"px-3 py-2 ml-2 text-sm font-medium ".concat("ACTIVE"===p.status?"text-green-800 bg-green-100":"text-red-800 bg-red-100"," rounded-full"),children:p.status})})]})]}),(0,r.jsx)("div",{className:"relative inline-block text-left",children:d||(0,r.jsx)(l.A,{response:{...p,resourceId:p.id,resourceType:p.resourceType||o},globalContext:{AccessTokenKey:g},customButton:u,apiServices:m,resourceType:p.resourceType||o})})]}):(0,r.jsx)("div",{className:"text-gray-400 text-sm",children:"No resource data available"})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5552,5441,7014,1440,6302,8441,1684,7358],()=>t(6662)),_N_E=e.O()}]);