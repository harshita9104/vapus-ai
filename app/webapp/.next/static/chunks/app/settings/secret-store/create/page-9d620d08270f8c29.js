(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9280],{2269:(e,t,s)=>{"use strict";var r=s(9509);s(8375);var n=s(2115),a=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(n),i=void 0!==r&&r.env&&!0,l=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,s=t.name,r=void 0===s?"stylesheet":s,n=t.optimizeForSpeed,a=void 0===n?i:n;d(l(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",d("boolean"==typeof a,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=a,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){d("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),d(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;if(d(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(i||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){if(d(l(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return i||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},t.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var s="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(r){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];d(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},t.deleteRule=function(e){if("undefined"==typeof window){this._serverSheet.deleteRule(e);return}if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];d(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},t.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},t.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},t.makeStyleTag=function(e,t,s){t&&d(l(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var n=document.head||document.getElementsByTagName("head")[0];return s?n.insertBefore(r,s):n.appendChild(r),r},function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function d(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},u={};function p(e,t){if(!t)return"jsx-"+e;var s=String(t),r=e+s;return u[r]||(u[r]="jsx-"+c(e+"-"+s)),u[r]}function m(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var s=e+t;return u[s]||(u[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[s]}var h=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,r=void 0===s?null:s,n=t.optimizeForSpeed,a=void 0!==n&&n;this._sheet=r||new o({name:"styled-jsx",optimizeForSpeed:a}),this._sheet.inject(),r&&"boolean"==typeof a&&(this._sheet.setOptimizeForSpeed(a),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),r=s.styleId,n=s.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var a=n.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=a,this._instancesCounts[r]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var r=this._fromServer&&this._fromServer[s];r?(r.parentNode.removeChild(r),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],r=e[1];return a.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,r=e.id;if(s){var n=p(r,s);return{styleId:n,rules:Array.isArray(t)?t.map(function(e){return m(n,e)}):[m(n,t)]}}return{styleId:p(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),f=n.createContext(null);f.displayName="StyleSheetContext";var g=a.default.useInsertionEffect||a.default.useLayoutEffect,x="undefined"!=typeof window?new h:void 0;function y(e){var t=x||n.useContext(f);return t&&("undefined"==typeof window?t.add(e):g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}y.dynamic=function(e){return e.map(function(e){return p(e[0],e[1])}).join(" ")},t.style=y},2417:(e,t,s)=>{"use strict";function r(e){return e?e.replace(/_/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function n(e,t){return e?!t||t<=0||e.length<=t?e:e.substring(0,t)+"...":""}s.d(t,{E:()=>r,m:()=>n}),function(){if("undefined"==typeof document)return;function e(e){e&&!e._hasTooltip&&(e._hasTooltip=!0,e.addEventListener("mouseenter",function(){let e=document.createElement("div");e.style.position="absolute",e.style.backgroundColor="#27272a",e.style.color="#fff",e.style.padding="5px 10px",e.style.borderRadius="4px",e.style.fontSize="14px",e.style.zIndex="1000",e.style.pointerEvents="none",e.textContent=this.getAttribute("tooltip")||this.textContent,document.body.appendChild(e);let t=this.getBoundingClientRect();e.style.left=t.left+"px",e.style.top=t.top-e.offsetHeight-5+"px",this._tooltip=e}),e.addEventListener("mouseleave",function(){this._tooltip&&this._tooltip.parentNode&&(document.body.removeChild(this._tooltip),this._tooltip=null)}))}function t(){document.querySelectorAll(".tooltip").forEach(e)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t();let s=new MutationObserver(function(t){t.forEach(function(t){t.addedNodes.length&&t.addedNodes.forEach(function(t){1===t.nodeType&&(t.classList&&t.classList.contains("tooltip")&&e(t),t.querySelectorAll&&t.querySelectorAll(".tooltip").forEach(e))})})});s.observe(document.body,{childList:!0,subtree:!0}),window.addEventListener("unload",function(){s.disconnect()})}()},3093:(e,t,s)=>{"use strict";s.d(t,{N:()=>a,p:()=>i});var r=s(6403);let n={ENUMS:"/api/v1alpha1/resources-spec",BEDROCKGUARDRAILS:"/api/v1alpha1/aistudio/guardrails-plugins"},a={getEnums:()=>(0,r.Zq)(n.ENUMS,"GET",null)},i={getBedrockGuardrailsApi:()=>(0,r.Zq)(n.BEDROCKGUARDRAILS,"GET",null)}},4024:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(5155),n=s(2115),a=s(5695),i=s(1440);let l=["ANTHROPIC","AWS","AZURE_OPENAI","AZURE_PHI","BEDROCK","BITBUCKET","GCP","GEMINI","GENERIC","GITHUB","GITLAB","GROQ","HUGGING_FACE","META","MICROSOFT","MISTRAL","MONGO_ORG","OLLAMA","OPENAI","REDHAT","REDIS_ORG","SELF_HOSTED","TOGETHER","VAPUS"],o=["APIKEY","BASIC","BEARER"];function d(e){var t,s,a,i,d,c,u,p,m,h,f,g,x;let{onChange:y,value:b={},enums:v={}}=e,_={DataSourceAccessScope:v.DataSourceAccessScope||l,ApiTokenType:v.ApiTokenType||o},[j,S]=(0,n.useState)(!1),w=(0,n.useRef)(),N=e=>{if(null===e||"object"!=typeof e)return e;let t=Array.isArray(e)?[]:{};for(let s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=N(e[s]));return t},[C,E]=(0,n.useState)(()=>{let e={secretName:b.secretName||"",accessScope:b.accessScope||"",db:b.db||"",credentials:{username:"",password:"",apiToken:"",apiTokenType:""}};return b.credentials&&Object.keys(b.credentials).forEach(t=>{"aws_creds"===t||"gcp_creds"===t||"azure_creds"===t?b.credentials[t]&&(e.credentials[t]=N(b.credentials[t])):e.credentials[t]=b.credentials[t]}),e});(0,n.useEffect)(()=>{if(!w.current){w.current=N(b);return}if(function e(t,s){if(t===s)return!0;if("object"!=typeof t||null===t||"object"!=typeof s||null===s)return!1;let r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;for(let a of r)if(!n.includes(a)||!e(t[a],s[a]))return!1;return!0}(w.current,b))return;w.current=N(b);let e=N(C);void 0!==b.secretName&&(e.secretName=b.secretName),void 0!==b.accessScope&&(e.accessScope=b.accessScope),void 0!==b.db&&(e.db=b.db),b.credentials&&Object.keys(b.credentials).forEach(t=>{"aws_creds"===t||"gcp_creds"===t||"azure_creds"===t?b.credentials[t]&&(e.credentials[t]=N(b.credentials[t])):e.credentials[t]=b.credentials[t]}),E(e)},[b]);let T=e=>{var t,s,r;let n=N(e),a=e=>!!e&&Object.values(e).some(e=>"boolean"==typeof e||("object"==typeof e?a(e):null!=e&&""!==e));return(null===(t=n.credentials)||void 0===t?void 0:t.aws_creds)&&!a(n.credentials.aws_creds)&&delete n.credentials.aws_creds,(null===(s=n.credentials)||void 0===s?void 0:s.gcp_creds)&&!a(n.credentials.gcp_creds)&&delete n.credentials.gcp_creds,(null===(r=n.credentials)||void 0===r?void 0:r.azure_creds)&&!a(n.credentials.azure_creds)&&delete n.credentials.azure_creds,n},A=e=>{let{name:t,value:s,type:r}=e.target,n="checkbox"===r?e.target.checked:s;if(E(e=>{let s=N(e);if(t.includes(".")){let e=t.split("."),r=s;for(let t=0;t<e.length-1;t++)r[e[t]]||(r[e[t]]={}),r=r[e[t]];r[e[e.length-1]]=n}else s[t]=n;return s}),y){let e=N(C);if(t.includes(".")){let s=t.split("."),r=e;for(let e=0;e<s.length-1;e++)r[s[e]]||(r[s[e]]={}),r=r[s[e]];r[s[s.length-1]]=n}else e[t]=n;y(T(e))}},R=(e,t)=>t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ");return(0,r.jsxs)("div",{id:"genericCredentials",children:[(0,r.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center m-4",children:[(0,r.jsx)("input",{id:"isAlreadyInSecretBs",name:"dsCreds[0].isAlreadyInSecretBs",type:"checkbox",className:"h-4 w-4 text-indigo-600 border-gray-300 rounded accent-orange-700",checked:j,onChange:e=>{S(e.target.checked)}}),(0,r.jsx)("label",{htmlFor:"isAlreadyInSecretBs",className:"ml-2 block text-sm font-medium text-gray-100",children:"Already in Secret Store?"})]}),j&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"secretName",className:"labels",children:"Secret Name"}),(0,r.jsx)("input",{id:"secretName",type:"text",name:"secretName",placeholder:"Enter secret name",value:C.secretName,onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full"})]}),!j&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"accessScope",className:"labels",children:"Access Scope"}),(0,r.jsxs)("select",{id:"accessScope",name:"accessScope",value:C.accessScope,onChange:A,className:"mt-1 w-full p-2 base-input-field placeholder-gray-300 placeholder:text-sm rounded-sm bg-zinc-800 text-sm overflow-y-auto scrollbar",suppressHydrationWarning:!0,children:[(0,r.jsx)("option",{value:"ALL",children:"Select Credential Access Scope"}),_.DataSourceAccessScope.map(e=>(0,r.jsx)("option",{value:e,children:R("DSCAS",e)},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"db",className:"labels",children:"Datastore"}),(0,r.jsx)("input",{id:"db",type:"text",name:"db",placeholder:"Enter datastore",value:C.db,onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"labels",children:"Username"}),(0,r.jsx)("input",{id:"username",name:"credentials.username",type:"text",placeholder:"Enter username",value:C.credentials.username,onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"labels",children:"Password"}),(0,r.jsx)("input",{id:"password",name:"credentials.password",type:"password",placeholder:"Enter password",value:C.credentials.password,onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"apiToken",className:"labels",children:"API Token"}),(0,r.jsx)("input",{id:"apiToken",name:"credentials.apiToken",type:"text",placeholder:"Enter API token",value:C.credentials.apiToken,onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"apiTokenType",className:"labels",children:"API Token Type"}),(0,r.jsxs)("select",{id:"apiTokenType",name:"credentials.apiTokenType",value:C.credentials.apiTokenType,onChange:A,className:"mt-1 w-full p-2 base-input-field placeholder-gray-300 placeholder:text-sm rounded-sm bg-zinc-800 text-sm",suppressHydrationWarning:!0,children:[(0,r.jsx)("option",{value:"",children:"Select Token Type"}),_.ApiTokenType.map(e=>(0,r.jsx)("option",{value:e,children:R("",e)},e))]})]})]})]}),!j&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("details",{className:"border border-zinc-500 p-4 rounded mb-4 mt-2",children:[(0,r.jsx)("summary",{className:"text-lg font-semibold cursor-pointer",children:"AWS Creds"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"access_key_id",className:"labels",children:"Access Key ID"}),(0,r.jsx)("input",{id:"access_key_id",type:"text",name:"credentials.aws_creds.access_key_id",placeholder:"Access Key ID",value:(null===(t=C.credentials.aws_creds)||void 0===t?void 0:t.access_key_id)||"",onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"secret_access_key",className:"labels",children:"Secret Access Key"}),(0,r.jsx)("input",{id:"secret_access_key",type:"text",name:"credentials.aws_creds.secret_access_key",placeholder:"Secret Access Key",value:(null===(s=C.credentials.aws_creds)||void 0===s?void 0:s.secret_access_key)||"",onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"region",className:"labels",children:"Region"}),(0,r.jsx)("input",{id:"region",type:"text",name:"credentials.aws_creds.region",placeholder:"Region",value:(null===(a=C.credentials.aws_creds)||void 0===a?void 0:a.region)||"",onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"session_token",className:"labels",children:"Session Token"}),(0,r.jsx)("input",{id:"session_token",type:"text",name:"credentials.aws_creds.session_token",placeholder:"Session Token",value:(null===(i=C.credentials.aws_creds)||void 0===i?void 0:i.session_token)||"",onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{htmlFor:"role_arn",className:"labels",children:"Role Arn"}),(0,r.jsx)("input",{id:"role_arn",type:"text",name:"credentials.aws_creds.role_arn",placeholder:"Role Arn",value:(null===(d=C.credentials.aws_creds)||void 0===d?void 0:d.role_arn)||"",onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]})]}),(0,r.jsxs)("details",{className:"border border-zinc-500 p-4 rounded mb-4",children:[(0,r.jsx)("summary",{className:"text-lg font-semibold cursor-pointer",children:"GCP Creds"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,r.jsxs)("div",{className:"md:col-span-3",children:[(0,r.jsx)("label",{htmlFor:"service_account_key",className:"labels",children:"Service Account Key"}),(0,r.jsx)("textarea",{id:"service_account_key",name:"credentials.gcp_creds.service_account_key",placeholder:"Service Account Key",value:(null===(c=C.credentials.gcp_creds)||void 0===c?void 0:c.service_account_key)||"",onChange:A,className:"form-textarea overflow-y-auto scrollbar text-sm rounded-md bg-zinc-700 placeholder-gray-300 p-2 shadow-sm w-full",suppressHydrationWarning:!0})]}),(0,r.jsxs)("div",{className:"flex items-center mt-2",children:[(0,r.jsx)("input",{id:"base64_encoded",type:"checkbox",name:"credentials.gcp_creds.base64_encoded",checked:(null===(u=C.credentials.gcp_creds)||void 0===u?void 0:u.base64_encoded)||!1,onChange:A,className:"mr-2 h-4 w-4 text-orange-700 border-gray-300 rounded accent-orange-700",suppressHydrationWarning:!0}),(0,r.jsx)("label",{htmlFor:"base64_encoded",className:"labels cursor-pointer",children:"Is Base64 Encoded?"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"gcp_project_id",className:"labels",children:"Project ID"}),(0,r.jsx)("input",{id:"gcp_project_id",type:"text",name:"credentials.gcp_creds.project_id",placeholder:"Project Id",value:(null===(p=C.credentials.gcp_creds)||void 0===p?void 0:p.project_id)||"",onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"gcp_region",className:"labels",children:"Region"}),(0,r.jsx)("input",{id:"gcp_region",type:"text",name:"credentials.gcp_creds.region",placeholder:"Region",value:(null===(m=C.credentials.gcp_creds)||void 0===m?void 0:m.region)||"",onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"gcp_zone",className:"labels",children:"Zone"}),(0,r.jsx)("input",{id:"gcp_zone",type:"text",name:"credentials.gcp_creds.zone",placeholder:"Zone",value:(null===(h=C.credentials.gcp_creds)||void 0===h?void 0:h.zone)||"",onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]})]})]}),(0,r.jsxs)("details",{className:"border border-zinc-500 p-4 rounded mb-4",children:[(0,r.jsx)("summary",{className:"text-lg font-semibold cursor-pointer",children:"Azure Creds"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"azure_tenant_id",className:"labels",children:"Tenant ID"}),(0,r.jsx)("input",{id:"azure_tenant_id",type:"text",name:"credentials.azure_creds.tenant_id",placeholder:"Tenant Id",value:(null===(f=C.credentials.azure_creds)||void 0===f?void 0:f.tenant_id)||"",onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"azure_client_id",className:"labels",children:"Client ID"}),(0,r.jsx)("input",{id:"azure_client_id",type:"text",name:"credentials.azure_creds.client_id",placeholder:"Client Id",value:(null===(g=C.credentials.azure_creds)||void 0===g?void 0:g.client_id)||"",onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"azure_client_secret",className:"labels",children:"Client Secret"}),(0,r.jsx)("input",{id:"azure_client_secret",type:"text",name:"credentials.azure_creds.client_secret",placeholder:"Client Secret",value:(null===(x=C.credentials.azure_creds)||void 0===x?void 0:x.client_secret)||"",onChange:A,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]})]})]})]})]})}var c=s(9222),u=s(9994),p=s(5255),m=s(5799),h=s(3093),f=s(2417);function g(e){let{createActionParams:t,backListingLink:s}=e,l=(0,a.useRouter)(),[o,g]=(0,n.useState)("form"),[x,y]=(0,n.useState)({name:"",expiresAt:"",secretType:"",data:"",description:""}),[b,v]=(0,n.useState)(!1),[_,j]=(0,n.useState)({}),[S,w]=(0,n.useState)([]),[N,C]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=new Date().toISOString().slice(0,16);y(t=>({...t,expiresAt:e})),(async()=>{try{v(!0),((await h.N.getEnums()).enumResponse||[]).forEach(e=>{"VapusSecretType"===e.name&&w(e.value||[])})}catch(e){console.error("Failed to fetch enum data:",e),C(e.message),m.oR.error("Failed to fetch configuration data")}finally{v(!1)}})()},[]);let E=e=>{g(e)},T=e=>{let{name:t,value:s}=e.target,r=t.replace("spec.","");y(e=>({...e,[r]:s}))},A=e=>new TextEncoder().encode(e),R=e=>{let t="";return e.forEach(e=>{t+=String.fromCharCode(e)}),btoa(t)},k=async e=>{e.preventDefault();let t={...x,credentials:_};console.log("Form Data:",t);let s={...t};if(s.expiresAt){let e=new Date(s.expiresAt);s.expiresAt=Math.floor(e.getTime()/1e3)}if(""===s.data&&"VAPUS_CREDENTIAL"===s.secretType){var r;let e=R(A(JSON.stringify((null===(r=s.credentials)||void 0===r?void 0:r.credentials)||{})));s.data=e}else if(""!==s.data){let e=R(A(s.data));s.data=e}console.log("Transformed Data Object:",s),console.log("Raw Credentials Data:",s.credentials),console.log("Full API Payload:",{spec:{name:s.name,expiresAt:s.expiresAt,secretType:s.secretType,data:s.data,description:s.description}}),await z(s)},z=async e=>{try{v(!0);let t=await c.M5.getSecretStoreForm({spec:e});console.log("Resource created:",t);let r=t.result;r&&(m.oR.success("Resource Created","".concat(r.resource," Resource created successfully.")),l.push("".concat(s||"/settings/secret-store","/").concat(r.resourceId)))}catch(e){console.error("Error sending API request:",e),m.oR.error("Resource Creation Failed","Resource creation failed")}finally{v(!1)}};return(0,r.jsx)("div",{className:"bg-zinc-800 flex h-screen ",children:(0,r.jsxs)("div",{className:"overflow-y-auto h-screen w-full overflow-y-auto scrollbar",children:[(0,r.jsx)(i.A,{sectionHeader:"Create Secret",hideBackListingLink:!1,backListingLink:"./"}),(0,r.jsx)(u.A,{}),(0,r.jsx)(p.A,{isLoading:b,isOverlay:!0}),(0,r.jsx)("div",{className:"flex-grow p-4 overflow-y-auto w-full",children:(0,r.jsx)("section",{id:"grids",className:"space-y-2",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto bg-[#1b1b1b] shadow rounded-lg p-2",children:[(0,r.jsx)("div",{className:"text-gray-100 mb-2 flex justify-center",children:(0,r.jsx)("button",{id:"formSpecB",className:"whitespace-nowrap border-b-2 ".concat("form"===o?"border-orange-700 text-orange-700 font-semibold":"border-black"," py-2 px-2 text-md font-medium focus:outline-none ml-4"),onClick:()=>E("form"),suppressHydrationWarning:!0,children:"Form"})}),"yaml"===o&&(0,r.jsx)("div",{id:"yamlSpec",children:(0,r.jsx)("p",{className:"text-gray-100",children:"YAML Editor Placeholder"})}),"form"===o&&(0,r.jsx)("div",{id:"formSpec",children:(0,r.jsxs)("form",{id:"SecretServiceSpec",className:"space-y-2 border border-zinc-500 rounded-md text-gray-100 p-2",onSubmit:k,children:[(0,r.jsxs)("fieldset",{className:"p-4 rounded",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"labels",children:"Name"}),(0,r.jsx)("input",{id:"name",name:"spec.name",type:"text",placeholder:"Enter name",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",value:x.name,onChange:T,required:!0,suppressHydrationWarning:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"labels",children:"Expires At"}),(0,r.jsx)("input",{name:"spec.expiresAt",type:"datetime-local",id:"dateInput",placeholder:"Select date and time",max:"2050-12-31T23:59",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",value:x.expiresAt,onChange:T,required:!0})]}),(0,r.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("label",{className:"labels",children:"Secret Type"}),(0,r.jsxs)("select",{id:"modelNode",name:"spec.secretType",className:"mt-1 w-full flex justify-between items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",value:x.secretType,onChange:e=>{let t=e.target.value;y(e=>({...e,secretType:t}))},required:!0,suppressHydrationWarning:!0,children:[(0,r.jsx)("option",{value:"",children:"Select Secret Type"}),S.map((e,t)=>(0,r.jsx)("option",{value:e,className:"text-sm ",children:(0,f.E)(e)},t))]})]})})]}),(0,r.jsxs)("fieldset",{className:"rounded mb-4 border border-zinc-500 rounded-md shadow-sm p-4",children:[(0,r.jsx)("legend",{className:"text-lg font-semibold"}),(0,r.jsx)("div",{id:"custom-data",className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-2 ".concat("CUSTOM_SECRET"===x.secretType?"":"hidden"),children:(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium",children:"Data"}),(0,r.jsx)("textarea",{name:"spec.data",rows:"3",type:"text",placeholder:"Enter Data",className:"form-textarea overflow-y-auto scrollbar text-sm rounded-md bg-zinc-700 placeholder-gray-300 p-2 shadow-sm w-full ",value:x.data,onChange:T})]})}),(0,r.jsx)("div",{id:"generic-cred",className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-2 ".concat("VAPUS_CREDENTIAL"===x.secretType?"":"hidden"),children:(0,r.jsx)(d,{onChange:e=>{j(e)}})}),(0,r.jsx)("div",{className:"grid grid-cols-1 mt-2 md:grid-cols-1 gap-4",children:(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium",children:"Description"}),(0,r.jsx)("textarea",{name:"spec.description",rows:"4",type:"text",placeholder:"Enter Description",className:"form-textarea overflow-y-auto scrollbar text-sm rounded-md bg-zinc-700 placeholder-gray-300 p-2 shadow-sm w-full",value:x.description,onChange:T})]})})]})]}),(0,r.jsx)("div",{className:"mt-4 flex justify-end space-x-2",children:b?(0,r.jsx)("button",{type:"button",id:"loading",className:"px-6 py-2 bg-orange-700 text-white rounded-md shadow hover:bg-pink-900",children:(0,r.jsxs)("svg",{className:"animate-spin h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}):(0,r.jsx)("button",{type:"submit",id:"submit",className:"px-6 py-2 bg-orange-700 text-white rounded-md shadow hover:bg-pink-900",suppressHydrationWarning:!0,children:"Submit"})})]})})]})})}),(0,r.jsx)("div",{hidden:!0,id:"createTemplate",children:null==t?void 0:t.yamlSpec})]})})}},5241:(e,t,s)=>{Promise.resolve().then(s.bind(s,4024))},5255:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(5155),n=s(9137),a=s.n(n);function i(e){let{isLoading:t,size:s="default",text:n="Loading",showProgressBar:i=!0,className:l="",isOverlay:o=!1}=e,d={small:{spinner:"w-8 h-8",dot:"w-1 h-1",progressBar:"w-32 h-0.5"},default:{spinner:"w-16 h-16",dot:"w-2 h-2",progressBar:"w-48 h-1"},large:{spinner:"w-24 h-24",dot:"w-3 h-3",progressBar:"w-64 h-1.5"}},c=d[s]||d.default;return t?(0,r.jsxs)("div",{className:"jsx-367ba324d4365b98 "+((o?"absolute inset-0 z-10 flex items-center h-full w-full justify-center bg-zinc-600/90 ".concat(l):"flex items-center justify-center min-h-screen bg-[#1b1b1b] ".concat(l))||""),children:[(0,r.jsxs)("div",{className:"jsx-367ba324d4365b98 flex flex-col items-center space-y-6",children:[(0,r.jsxs)("div",{className:"jsx-367ba324d4365b98 relative",children:[(0,r.jsx)("div",{className:"jsx-367ba324d4365b98 "+"".concat(c.spinner," border-4 border-slate-200 dark:border-slate-700 rounded-full animate-pulse")}),(0,r.jsx)("div",{className:"jsx-367ba324d4365b98 "+"absolute top-0 left-0 ".concat(c.spinner," border-4 border-transparent border-t-orange-700 border-r-orange-700 rounded-full animate-spin")}),(0,r.jsx)("div",{className:"jsx-367ba324d4365b98 "+"absolute top-1/2 left-1/2 ".concat(c.dot," bg-orange-700 rounded-full transform -translate-x-1/2 -translate-y-1/2 animate-ping")})]}),(0,r.jsxs)("div",{className:"jsx-367ba324d4365b98 flex items-center space-x-1",children:[(0,r.jsx)("span",{className:"jsx-367ba324d4365b98 text-slate-600 dark:text-slate-400 font-medium",children:n}),(0,r.jsxs)("div",{className:"jsx-367ba324d4365b98 flex space-x-1",children:[(0,r.jsx)("div",{style:{animationDelay:"0ms"},className:"jsx-367ba324d4365b98 w-1 h-1 bg-orange-700 rounded-full animate-bounce"}),(0,r.jsx)("div",{style:{animationDelay:"150ms"},className:"jsx-367ba324d4365b98 w-1 h-1 bg-orange-700 rounded-full animate-bounce"}),(0,r.jsx)("div",{style:{animationDelay:"300ms"},className:"jsx-367ba324d4365b98 w-1 h-1 bg-orange-700 rounded-full animate-bounce"})]})]}),i&&(0,r.jsx)("div",{className:"jsx-367ba324d4365b98 "+"".concat(c.progressBar," bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden"),children:(0,r.jsx)("div",{style:{width:"60%",animation:"loading-progress 2s ease-in-out infinite"},className:"jsx-367ba324d4365b98 h-full bg-gradient-to-r from-orange-700 to-orange-500 rounded-full animate-pulse"})})]}),(0,r.jsx)(a(),{id:"367ba324d4365b98",children:"@-webkit-keyframes loading-progress{0%{width:0%}50%{width:70%}100%{width:100%}}@-moz-keyframes loading-progress{0%{width:0%}50%{width:70%}100%{width:100%}}@-o-keyframes loading-progress{0%{width:0%}50%{width:70%}100%{width:100%}}@keyframes loading-progress{0%{width:0%}50%{width:70%}100%{width:100%}}"})]}):null}s(2115)},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},8375:()=>{},9137:(e,t,s)=>{"use strict";e.exports=s(2269).style},9222:(e,t,s)=>{"use strict";s.d(t,{KI:()=>l,M5:()=>i,_5:()=>a});var r=s(6403);let n={SECRET_STORE:"/api/v1alpha1/secrets"},a={getSecretStore:()=>(0,r.Zq)(n.SECRET_STORE,"GET",null),getSecretStoreName:e=>(0,r.Zq)("".concat(n.SECRET_STORE,"/").concat(e),"GET",null)},i={getSecretStoreForm:e=>(0,r.Zq)(n.SECRET_STORE,"POST",e)},l={getSecretStoreArchive:e=>(0,r.Zq)("".concat(n.SECRET_STORE,"/").concat(e),"DELETE",null)}}},e=>{var t=t=>e(e.s=t);e.O(0,[5552,5441,1440,8441,1684,7358],()=>t(5241)),_N_E=e.O()}]);