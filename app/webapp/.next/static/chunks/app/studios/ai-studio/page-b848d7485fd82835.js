(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5122],{975:(e,t,a)=>{"use strict";a.d(t,{UG:()=>n,bl:()=>l,eM:()=>o,tW:()=>i});var r=a(6403);let s={PROMPTS:"/api/v1alpha1/aistudio/prompts"},o={getPrompts:()=>(0,r.Zq)(s.PROMPTS,"GET",null),getPromptsId:e=>(0,r.Zq)("".concat(s.PROMPTS,"/").concat(e),"GET",null)},n={getPromptsForm:e=>(0,r.Zq)(s.PROMPTS,"POST",e)},l={getPromptsUpdteForm:e=>(0,r.Zq)(s.PROMPTS,"PUT",e)},i={getPromptArchive:e=>(0,r.Zq)("".concat(s.PROMPTS,"/").concat(e),"DELETE",null)}},1090:(e,t,a)=>{"use strict";a.d(t,{$N:()=>l,MX:()=>o,QS:()=>i,ky:()=>n});var r=a(6403);let s={MODELS_REGISTRY:"/api/v1alpha1/aistudio/models"},o={getModelsRegistry:()=>(0,r.Zq)(s.MODELS_REGISTRY,"GET",null),getModelsRegistryID:e=>(0,r.Zq)("".concat(s.MODELS_REGISTRY,"/").concat(e),"GET",null)},n={getmodelsRegistryForm:e=>(0,r.Zq)(s.MODELS_REGISTRY,"POST",e)},l={getmodelsRegistryUpdateForm:e=>(0,r.Zq)(s.MODELS_REGISTRY,"PUT",e)},i={getModelsRegistryArchive:e=>(0,r.Zq)("".concat(s.MODELS_REGISTRY,"/").concat(e),"DELETE",null)}},1834:(e,t,a)=>{"use strict";a.d(t,{H:()=>n,Q:()=>o});var r=a(6403);let s={UPLOAD:"/api/v1alpha1/utility/upload",DOWNLOAD:"/api/v1alpha1/utility/download"},o={getUploadFile:e=>(0,r.Zq)(s.UPLOAD,"POST",e)},n={getDownloadFile:e=>{let t=new URLSearchParams;e&&e.path&&t.append("path",e.path);let a="".concat(s.DOWNLOAD,"?").concat(t.toString());return(0,r.Zq)(a,"GET",null)}}},8248:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var r=a(5155),s=a(9137),o=a.n(s),n=a(8126),l=a.n(n),i=a(2115),c=a(3554),d=a(5695),m=a(1440),u=a(8279),h=a(1090);let p=e=>{let{onModelSelect:t}=e,[a,s]=(0,i.useState)(!1),[o,n]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[d,m]=(0,i.useState)([]),[u,p]=(0,i.useState)(!0),[g,x]=(0,i.useState)(null),[f,b]=(0,i.useState)(null),y=(0,i.useRef)(null);(0,i.useEffect)(()=>{(async()=>{try{var e,t;p(!0);let a=await h.MX.getModelsRegistry();m((null===(e=a.output)||void 0===e?void 0:e.aiModelNodes)||[]),console.log(null===(t=a.output)||void 0===t?void 0:t.aiModelNodes),p(!1)}catch(e){console.error("Error fetching AI models:",e),x(e.message),p(!1)}})()},[]),(0,i.useEffect)(()=>{let e=e=>{y.current&&!y.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let j=(e,t)=>{t.stopPropagation(),b(f===e?null:e)},w=(e,a)=>{n("".concat(e,"||").concat(a)),c(a),s(!1),t&&t({modelNodeId:e,modelName:a})};return(0,r.jsxs)("div",{className:"relative mb-2 mt-2",ref:y,children:[(0,r.jsxs)("button",{onClick:()=>{s(!a)},className:"vapus-dropdown-toggle border border-gray-400 cursor-pointer rounded-lg bg-zinc-800 text-sm text-white px-4 py-2 w-full text-left flex justify-between items-center",children:[l||"Select AI Models",(0,r.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),a&&(0,r.jsx)("div",{className:"vapus-dropdown-menu absolute z-10 mt-1 w-full rounded-xl bg-[oklch(0.37_0.013_285.805)] text-[rgb(235,235,235)] shadow-lg border border-[oklch(0.552_0.016_285.938)] max-h-60 overflow-y-auto scrollbar",children:u?(0,r.jsx)("div",{className:"text-center py-4",children:"Loading..."}):g?(0,r.jsx)("div",{className:"text-center text-red-500 py-4",children:g}):0===d.length?(0,r.jsx)("div",{className:"text-center py-4",children:"No models available"}):d.map(e=>{var t,a;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"vapus-dropdown-item parent bg-[#cecfcf] text-[#010101] cursor-pointer text-xs px-6 py-2 my-1 mx-2 rounded-xl font-bold flex justify-between items-center",onClick:t=>j(e.modelNodeId,t),children:[e.name,(0,r.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(f===e.modelNodeId?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),f===e.modelNodeId&&(null===(a=e.attributes)||void 0===a?void 0:null===(t=a.generativeModels)||void 0===t?void 0:t.map(t=>(0,r.jsx)("div",{className:"vapus-dropdown-item child text-xs px-6 py-2 hover:bg-[oklch(0.21_0.006_285.885)] hover:text-[#FFFFFF] rounded-lg cursor-pointer ml-2",onClick:()=>w(e.modelNodeId,t.modelName),children:t.modelName},"".concat(e.modelNodeId,"-").concat(t.modelName))))]},e.modelNodeId)})}),(0,r.jsx)("input",{type:"hidden",id:"aiModel",value:o})]})};var g=a(975);let x=e=>{let{onPromptSelect:t}=e,[a,s]=(0,i.useState)(!1),[o,n]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[d,m]=(0,i.useState)([]),[u,h]=(0,i.useState)(!0),[p,x]=(0,i.useState)(null),f=(0,i.useRef)(null);(0,i.useEffect)(()=>{(async()=>{try{h(!0);let e=await g.eM.getPrompts();m(e.output||[]),h(!1)}catch(e){console.error("Error fetching prompts:",e),x(e.message),h(!1)}})()},[]),(0,i.useEffect)(()=>{let e=e=>{f.current&&!f.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let b=(e,a)=>{n(e),c(a),s(!1),t&&t(e)};return(0,r.jsxs)("div",{className:"relative mb-2 mt-2",ref:f,children:[(0,r.jsxs)("button",{onClick:()=>{s(!a)},className:"vapus-dropdown-toggle border border-gray-400 cursor-pointer rounded-lg bg-zinc-800 text-sm text-white px-4 py-2 w-full text-left flex justify-between items-center",children:[l||"Select Prompt",(0,r.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),a&&(0,r.jsx)("div",{className:"vapus-dropdown-menu absolute z-10 mt-1 w-full rounded-xl bg-[oklch(0.37_0.013_285.805)] text-[rgb(235,235,235)] shadow-lg border border-[oklch(0.552_0.016_285.938)] max-h-60 overflow-y-auto scrollbar",children:u?(0,r.jsx)("div",{className:"text-center py-4",children:"Loading..."}):p?(0,r.jsx)("div",{className:"text-center text-red-500 py-4",children:p}):0===d.length?(0,r.jsx)("div",{className:"text-center py-4",children:"No prompts available"}):d.map(e=>(0,r.jsx)("div",{className:"vapus-dropdown-item child text-xs px-6 py-2 hover:bg-[oklch(0.21_0.006_285.885)] hover:text-[#FFFFFF] rounded-lg cursor-pointer ml-2",onClick:()=>b(e.promptId,e.name),children:e.name},e.promptId))})]})};var f=a(5799),b=a(1834),y=a(259),j=a(41);function w(e){var t;let{isOpen:a,onClose:s}=e,[o,n]=(0,i.useState)([]),[l,c]=(0,i.useState)(!1),[d,m]=(0,i.useState)(null),[u,h]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{if(a)try{var e;let t=await (0,y.J)();if(h(t),console.log("my data",t),null==t?void 0:null===(e=t.userInfo)||void 0===e?void 0:e.userId){let e=t.userInfo.userId;console.log("User ID:",e);let a=await j.z.getuserProfile(e);console.log("data",a);let r=a.output.users[0];m(r)}else console.error("User ID not found in global context")}catch(e){console.error("Error fetching user data:",e),f.oR.error("Failed to load user profile data")}})()},[a]);let p=(null==d?void 0:d.email)||(null==u?void 0:null===(t=u.userInfo)||void 0===t?void 0:t.email)||"",g=async e=>{if(e.size>0x3200000){f.oR.error("File size must be less than 50MB");return}if(e.type.startsWith("image/")){let t=new FileReader;t.onload=async t=>{let a=t.target.result,r={id:Date.now()+Math.random(),name:e.name,type:e.type,size:e.size,preview:a,file:e,uploaded:!1,uploadPath:null,isImage:!0};n(e=>[...e,r]),await x(e,a,r.id)},t.readAsDataURL(e)}else{let t=new FileReader;t.onload=async t=>{let a=t.target.result,r={id:Date.now()+Math.random(),name:e.name,type:e.type,size:e.size,file:e,uploaded:!1,uploadPath:null,isImage:!1};n(e=>[...e,r]),await x(e,a,r.id)},t.readAsDataURL(e)}},x=async(e,t,a)=>{try{if(c(!0),console.log("Starting upload API call for:",e.name),!p)throw Error("User email not found. Cannot upload file.");let r=e.name.split(".").pop().toLowerCase(),s=t.split(",")[1],o={resourceId:p,resource:"ContextModal",objects:[{name:e.name,data:s,format:r}]};console.log("Upload API payload:",o);let l=await b.Q.getUploadFile(o);if(console.log("Upload API response:",l),l.output&&l.output.length>0){let t=l.output[0].responsePath;n(e=>e.map(e=>e.id===a?{...e,uploaded:!0,uploadPath:t}:e)),console.log("File uploaded successfully:",t),f.oR.success("".concat(e.name," uploaded successfully!"))}else throw Error("Invalid upload response format")}catch(t){console.error("Error uploading file:",t),f.oR.error("Failed to upload ".concat(e.name,": ").concat(t.message)),n(e=>e.map(e=>e.id===a?{...e,uploaded:!1,error:!0}:e))}finally{c(!1)}},w=e=>{n(t=>t.filter(t=>t.id!==e))},v=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},k=e=>{if(e.startsWith("image/"))return"\uD83D\uDDBC️";if(e.includes("pdf"))return"\uD83D\uDCC4";if(e.includes("word")||e.includes("document"))return"\uD83D\uDCDD";if(e.includes("excel")||e.includes("spreadsheet"))return"\uD83D\uDCCA";if(e.includes("powerpoint")||e.includes("presentation"))return"\uD83D\uDCFD️";else if(e.startsWith("video/"))return"\uD83C\uDFA5";else if(e.startsWith("audio/"))return"\uD83C\uDFB5";else if(e.includes("zip")||e.includes("rar")||e.includes("tar"))return"\uD83D\uDDDC️";else if(e.includes("text/"))return"\uD83D\uDCC4";else return"\uD83D\uDCCE"};return a?(0,r.jsx)("div",{className:"fixed inset-0 bg-zinc-600/90 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-zinc-800 rounded-lg shadow-lg p-6 w-4/5 max-w-4xl max-h-[80vh] overflow-auto scrollbar text-gray-100 relative",children:[(0,r.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-white hover:bg-zinc-700 rounded-full p-2 transition-colors duration-200 z-10 cursor-pointer","aria-label":"Close modal",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-pink-900 hover:text-pink-800",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Additional Params"}),(0,r.jsx)("ul",{className:"divide-y divide-gray-200 mb-4",children:(0,r.jsxs)("li",{className:"flex items-center px-4 py-2 cursor-pointer ".concat(p?"hover:bg-zinc-900":"opacity-50 cursor-not-allowed"),onClick:()=>{let e=document.createElement("input");e.type="file",e.multiple=!0,e.accept="*/*",e.onchange=async e=>{let t=e.target.files;if(t&&t.length>0)for(let e of(console.log("Selected files:",t),t))await g(e)},e.click()},children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,r.jsx)("path",{d:"M3 4a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-4v2h2a1 1 0 110 2H7a1 1 0 110-2h2v-2H5a2 2 0 01-2-2V4zm2 0v8h10V4H5z"}),(0,r.jsx)("path",{d:"M10 6a1 1 0 011 1v1.586l.293-.293a1 1 0 011.414 1.414l-2 2a1 1 0 01-1.414 0l-2-2a1 1 0 111.414-1.414L9 8.586V7a1 1 0 011-1z"})]}),(0,r.jsxs)("span",{className:"text-sm",children:["Upload from Computer (All File Types)",!p&&" - Loading user data..."]}),l&&(0,r.jsx)("div",{className:"ml-2",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-500"})})]})}),o.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h4",{className:"text-md font-medium text-gray-200 mb-3",children:"Uploaded Files:"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(e=>(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)("div",{className:"rounded-lg overflow-hidden bg-zinc-700 border-2 border-zinc-600 p-4",children:[e.isImage?(0,r.jsx)("div",{className:"aspect-square mb-2",children:(0,r.jsx)("img",{src:e.preview,alt:e.name,className:"w-full h-full object-cover rounded"})}):(0,r.jsx)("div",{className:"aspect-square mb-2 flex items-center justify-center text-6xl",children:k(e.type)}),(0,r.jsxs)("div",{className:"text-white",children:[(0,r.jsx)("div",{className:"text-sm font-medium truncate",title:e.name,children:e.name}),(0,r.jsx)("div",{className:"text-xs text-gray-300 mt-1",children:v(e.size)}),(0,r.jsx)("div",{className:"flex items-center justify-between mt-2",children:(0,r.jsx)("span",{className:"text-xs ".concat(e.uploaded?"text-green-400":e.error?"text-red-400":"text-yellow-400"),children:e.uploaded?"✓ Uploaded":e.error?"✗ Failed":"⏳ Uploading..."})})]})]}),(0,r.jsx)("button",{onClick:()=>w(e.id),className:"absolute cursor-pointer top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"\xd7"})]},e.id))})]}),(0,r.jsxs)("div",{className:"mt-4 p-4 rounded-lg",children:[(0,r.jsx)("label",{htmlFor:"systemMessage",className:"block text-sm font-medium",children:"System Message"}),(0,r.jsx)("textarea",{id:"contextValue",className:"form-textarea overflow-y-auto scrollbar text-sm rounded-md bg-zinc-700 placeholder-gray-300 p-2 shadow-sm w-full",rows:"5",placeholder:"Enter system message here..."})]}),(0,r.jsx)("div",{className:"flex justify-end mt-4",children:(0,r.jsx)("button",{className:"bg-red-500 text-gray-100 px-4 py-2 rounded-lg hover:bg-red-600 focus:outline-none focus:ring focus:ring-red-300",onClick:s,children:"Done"})})]})}):null}var v=a(6403);let k={CREATE_CHAT:"/api/v1alpha1/aistudio/chats",AI_CHAT:"/api/v1alpha1/aistudio/chat",AI_GATEWAY:"/gateway/v1/chat/completions"},N={getAiChat:(e,t)=>(0,v.Zq)(k.AI_CHAT,"POST",e,t)},S={getAiGatewayChat:(e,t)=>(0,v.Zq)(k.AI_GATEWAY,"POST",e,t)},C={getCreateChat:e=>(0,v.Zq)(k.CREATE_CHAT,"POST",e)},I={getChatHistory:()=>(0,v.Zq)(k.CREATE_CHAT,"GET",null),getChatData:e=>(0,v.Zq)("".concat(k.CREATE_CHAT,"?chat_id=").concat(e),"GET",null)};function E(e){let{response:t,globalContext:a,aiStudioChat:s}=e,n=(0,d.useRouter)(),[h,g]=(0,i.useState)(!1),[b,y]=(0,i.useState)(!1),[j,v]=(0,i.useState)(!1),[k,E]=(0,i.useState)(!1),[z,T]=(0,i.useState)(""),[L,M]=(0,i.useState)({}),[A,P]=(0,i.useState)([]),[R,F]=(0,i.useState)([]),[_,B]=(0,i.useState)(null),[O,D]=(0,i.useState)({spec:{Tools:[]}}),U=e=>e.split(/(```[\s\S]*?```)/g).map((e,t)=>{if(!(e.startsWith("```")&&e.endsWith("```")))return(0,r.jsx)("span",{className:"whitespace-pre-wrap",children:e},t);{let a=e.split("\n"),s=a[0].replace("```","").trim()||"text",o=a.slice(1,-1).join("\n");return(0,r.jsx)("div",{className:"my-4",children:(0,r.jsxs)("div",{className:"bg-[#0d1117] rounded-lg overflow-hidden border border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between bg-[#161b22] px-4 py-2 text-sm border-b border-gray-700",children:[(0,r.jsx)("span",{className:"text-gray-300 font-medium",children:s}),(0,r.jsxs)("button",{onClick:()=>H(o),className:"flex items-center space-x-1 bg-pink-900 hover:bg-pink-700 cursor-pointer px-3 py-1 rounded text-white transition-all duration-200 text-xs font-medium",children:[(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 2z"})}),(0,r.jsx)("span",{children:"Copy"})]})]}),(0,r.jsx)("div",{className:"syntax-highlight-container",children:(0,r.jsx)("pre",{className:"p-4 overflow-x-auto text-sm leading-relaxed",children:(0,r.jsx)("code",{className:"language-".concat(s," hljs"),dangerouslySetInnerHTML:{__html:q(o,s)}})})})]})},t)}}),q=(e,t)=>{if(window.hljs)try{let a;return(t&&window.hljs.getLanguage(t)?window.hljs.highlight(e,{language:t}).value:window.hljs.highlightAuto(e).value).replace(/<span class="hljs-keyword">/g,'<span class="hljs-keyword" style="color: #ff7b72; font-weight: 600;">').replace(/<span class="hljs-string">/g,'<span class="hljs-string" style="color: #a5d6ff;">').replace(/<span class="hljs-number">/g,'<span class="hljs-number" style="color: #79c0ff;">').replace(/<span class="hljs-comment">/g,'<span class="hljs-comment" style="color: #8b949e; font-style: italic;">').replace(/<span class="hljs-function">/g,'<span class="hljs-function" style="color: #d2a8ff;">').replace(/<span class="hljs-variable">/g,'<span class="hljs-variable" style="color: #ffa657;">').replace(/<span class="hljs-title">/g,'<span class="hljs-title" style="color: #7ee787;">').replace(/<span class="hljs-attr">/g,'<span class="hljs-attr" style="color: #79c0ff;">').replace(/<span class="hljs-tag">/g,'<span class="hljs-tag" style="color: #7ee787;">').replace(/<span class="hljs-name">/g,'<span class="hljs-name" style="color: #7ee787;">').replace(/<span class="hljs-built_in">/g,'<span class="hljs-built_in" style="color: #ffa657;">').replace(/<span class="hljs-literal">/g,'<span class="hljs-literal" style="color: #79c0ff;">').replace(/<span class="hljs-type">/g,'<span class="hljs-type" style="color: #ffa657;">').replace(/<span class="hljs-symbol">/g,'<span class="hljs-symbol" style="color: #79c0ff;">').replace(/<span class="hljs-class">/g,'<span class="hljs-class" style="color: #ffa657;">').replace(/<span class="hljs-operator">/g,'<span class="hljs-operator" style="color: #ff7b72;">').replace(/<span class="hljs-punctuation">/g,'<span class="hljs-punctuation" style="color: #e6edf3;">').replace(/<span class="hljs-regexp">/g,'<span class="hljs-regexp" style="color: #7ee787;">').replace(/<span class="hljs-selector-tag">/g,'<span class="hljs-selector-tag" style="color: #7ee787;">').replace(/<span class="hljs-selector-class">/g,'<span class="hljs-selector-class" style="color: #ffa657;">').replace(/<span class="hljs-selector-id">/g,'<span class="hljs-selector-id" style="color: #79c0ff;">').replace(/<span class="hljs-property">/g,'<span class="hljs-property" style="color: #79c0ff;">').replace(/<span class="hljs-value">/g,'<span class="hljs-value" style="color: #a5d6ff;">')}catch(e){console.error("Highlighting error:",e)}return e},H=async e=>{try{await navigator.clipboard.writeText(e),f.oR.success("Code copied to clipboard!")}catch(e){console.error("Failed to copy:",e),f.oR.error("Failed to copy code")}},V=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];P(r=>[...r,{id:Date.now()+Math.random(),content:e,isUser:t,isThinking:a,timestamp:new Date().toLocaleTimeString()}])},[]),G=(0,i.useCallback)(e=>{P(t=>t.map(t=>t.isThinking?{...t,content:e,isThinking:!1}:t))},[]),W=(0,i.useCallback)(e=>{let t={Accept:"application/x-ndjson","Content-Type":"application/x-ndjson"};return e&&(t["x-aimodelnode"]=e),t},[]),Z=(0,i.useCallback)(e=>{let t=W(e);M(t),console.log("API Headers updated:",t)},[W]);(0,i.useEffect)(()=>{if(!s){let e=document.querySelector('input[name="aiInteractionMode"][value="CHAT_MODE"]');e&&(e.checked=!0),Q("CHAT_MODE")}},[]);let J=(0,i.useCallback)(()=>{var e;let t=document.getElementById("input"),a=document.getElementById("promptInput"),r=document.getElementById("aiModel").value,s=document.getElementById("temperatureValue").value,o=document.getElementById("maxTokens").value,n=document.getElementById("topk").value,l=document.getElementById("topP").value,i=document.getElementById("promptId").value,c=document.getElementById("currentChatId").value,d=document.getElementById("systemMessage"),m=(null===(e=document.querySelector('input[name="aiInteractionMode"]:checked'))||void 0===e?void 0:e.value)||"P2P",u=document.getElementById("toggleStreamButton"),h=(null==u?void 0:u.getAttribute("aria-checked"))==="true",p=(null==t?void 0:t.value)||"",g=(null==a?void 0:a.value)||"",x={messages:[]};if(i&&(x.promptId=i,""!==g))try{x.promptInput=JSON.parse(g)}catch(e){x.promptInput=g}if(O.spec.Tools&&O.spec.Tools.length>0&&(x.tools=O.spec.Tools),p){if(""===p)return f.oR.error("Please provide a valid input for the AI model."),null;x.messages.push({role:"user",content:p})}let b=(null==d?void 0:d.value)||"";if(x.messages.push({role:"system",content:b}),s&&(x.temperature=parseFloat(s)),l&&(x.topP=parseFloat(l)),o&&(x.max_output_tokens=Number(o)),!r)return f.oR.error("Please select an AI model"),null;let[y,j]=r.split("||");if(!j||!y)return f.oR.error("Invalid model selection"),null;j&&(x.model=j),y&&(x.modelNodeId=y,Z(y)),x.mode=m;let w=c||z;return w&&""!==w&&(x.chat_id=w),x.stream=h,n&&(x.topK=parseInt(n)),x},[O.spec.Tools,z,Z]),Y=async e=>{try{let t;v(!0),E(!0);let a=document.getElementById("input"),r=(null==a?void 0:a.value)||"";r&&V(r,!0),V("Thinking...",!1,!0),document.getElementById("input").value="",document.getElementById("promptInput").value="",document.getElementById("input").classList.remove("hidden"),document.getElementById("promptInput").classList.add("hidden");let s={headers:L};if(console.log("Sending API request with headers:",s),"CHAT_MODE"===e.mode?(t=await N.getAiChat(e,s),console.log("Chat mode result:",t)):e.stream?(t=await S.getAiGatewayChat(e,s),console.log("Stream mode result:",t)):(t=await S.getAiGatewayChat(e,s),console.log("Api mode result:",t)),console.log("API result:",t),t&&t.result&&t.result.choices&&t.result.choices.length>0){let e=t.result.choices[0].messages;e&&e.content?G(e.content):(G("Sorry, I couldn't generate a response."),f.oR.error("No content in response"))}else G("Sorry, I couldn't generate a response."),f.oR.error("No response received from API");K()}catch(e){console.error("Error sending message:",e),G("Sorry, there was an error processing your request."),f.oR.error("Failed to send message: ".concat(e.message))}finally{v(!1),E(!1);let e=document.getElementById("input");e&&(e.disabled=!1)}},K=()=>{let e=document.getElementById("input"),t=document.getElementById("promptInput");e&&(e.value="",e.disabled=!1),t&&(t.value="")},X=async()=>{if(j){f.oR.info("Please wait for the current request to complete");return}let e=J();if(!e)return;let t=document.getElementById("input");t&&(t.disabled=!0);try{var a;let r=(null===(a=document.getElementById("currentChatId"))||void 0===a?void 0:a.value)||z;if(!r||""===r){console.log("No active chat found, creating new chat first..."),f.oR.info("Creating new chat...");try{let t=await $();if(!t)throw Error("Failed to create new chat");e.chat_id=t,console.log("New chat created with ID:",t)}catch(e){console.error("Error creating new chat:",e),f.oR.error("Failed to create new chat. Please try again."),t&&(t.disabled=!1);return}}console.log("Payload being sent:",e),console.log("Headers being sent:",L),await Y(e)}catch(e){console.error("Error in submitInput:",e),f.oR.error("Failed to process request: ".concat(e.message)),t&&(t.disabled=!1)}};function Q(e){document.getElementsByName("aiInteractionMode").forEach(t=>{var a,r;t.value===e?null===(a=document.getElementById(e))||void 0===a||a.classList.remove("hidden"):null===(r=document.getElementById(t.value))||void 0===r||r.classList.add("hidden")})}let $=async()=>{try{v(!0);let e=await C.getCreateChat({action:"CREATE"},{headers:L});if(console.log("Chat created:",e),(null==e?void 0:e.output)&&e.output.length>0){let t=e.output[0].chatId;if(t){T(t);let e=document.getElementById("currentChatId");e&&(e.value=t),P([]);let r=(null==a?void 0:a.CurrentUrl)||window.location.pathname,s="".concat(r,"?aiChatId=").concat(t);try{window.history.pushState({chatId:t},"",s)}catch(e){console.warn("Failed to update URL:",e)}return t}throw Error("Failed to get chat ID from response")}throw Error("Invalid response format from chat creation API")}catch(e){throw console.error("Error creating new chat:",e),e}finally{v(!1)}},ee=async()=>{try{let e=await $();f.oR.success("New chat created successfully"),setTimeout(()=>{let t=(null==a?void 0:a.CurrentUrl)||window.location.pathname,r="".concat(t,"?aiChatId=").concat(e);try{n.push(r)}catch(e){window.location.href=r}},1e3)}catch(e){console.error("Error creating new chat:",e),f.oR.error("Failed to create new chat. Please try again.")}};(0,i.useEffect)(()=>{(async()=>{try{v(!0),B(null);let e=await I.getChatHistory(),t=(null==e?void 0:e.output)||[];t.length>0?F(t):(F([]),console.warn("No chat history found in response"))}catch(e){console.error("Failed to fetch chat history:",e),B(e.message),F([])}finally{v(!1)}})()},[]);let et=async e=>{try{v(!0),B(null);let t=await I.getChatData(e);if((null==t?void 0:t.output)&&t.output.length>0){let a=(t.output[0].messages||[]).map((e,t)=>({id:Date.now()+t+Math.random(),content:e.content,isUser:"user"===e.role,isThinking:!1,timestamp:new Date().toLocaleTimeString()}));P(a),T(e);let r=document.getElementById("currentChatId");r&&(r.value=e)}else f.oR.error("No chat data found"),P([])}catch(e){console.error("Error loading chat data:",e),B(e.message),f.oR.error("Failed to load chat: ".concat(e.message)),P([])}finally{v(!1)}},ea=async(e,t)=>{t.preventDefault(),await et(e);let r=(null==a?void 0:a.CurrentUrl)||window.location.pathname,s="".concat(r,"?chat_id=").concat(e);window.history.pushState({chatId:e},"",s)};function er(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),X())}return(0,i.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("chat_id");e&&e!==z&&et(e)},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("meta",{charSet:"UTF-8",className:"jsx-485def3317ee8c32"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0",className:"jsx-485def3317ee8c32"}),(0,r.jsx)("title",{className:"jsx-485def3317ee8c32",children:"AI Studio"}),(0,r.jsx)("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css",rel:"stylesheet",className:"jsx-485def3317ee8c32"}),(0,r.jsx)("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css",rel:"stylesheet",className:"jsx-485def3317ee8c32"}),(0,r.jsx)("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css",rel:"stylesheet",className:"jsx-485def3317ee8c32"}),(0,r.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/9.10.0/jsoneditor.min.css",className:"jsx-485def3317ee8c32"}),(0,r.jsx)(o(),{id:"485def3317ee8c32",children:'.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:1000}.modal.active{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.rightbar{-webkit-transition:-webkit-transform.3s ease-in-out;-moz-transition:-moz-transform.3s ease-in-out;-o-transition:-o-transform.3s ease-in-out;transition:-webkit-transform.3s ease-in-out;transition:-moz-transform.3s ease-in-out;transition:-o-transform.3s ease-in-out;transition:transform.3s ease-in-out}.rightbar.hidden{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-ms-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%)}.rightbar.visible{-webkit-transform:translatex(0);-moz-transform:translatex(0);-ms-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0)}.loading-spinner{-webkit-animation:spin 1s linear infinite;-moz-animation:spin 1s linear infinite;-o-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{from{-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{from{-o-transform:rotate(0deg);transform:rotate(0deg)}to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.thinking-pulse{-webkit-animation:pulse 1.5s ease-in-out infinite;-moz-animation:pulse 1.5s ease-in-out infinite;-o-animation:pulse 1.5s ease-in-out infinite;animation:pulse 1.5s ease-in-out infinite}@-webkit-keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}@-moz-keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}@-o-keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}.syntax-highlight-container .hljs{background:#0d1117!important;color:#e6edf3!important;font-family:"SF Mono","Monaco","Inconsolata","Roboto Mono","Source Code Pro",monospace;font-size:14px;line-height:1.5;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}.syntax-highlight-container .hljs-keyword{color:#ff7b72!important;font-weight:600}.syntax-highlight-container .hljs-string{color:#a5d6ff!important}.syntax-highlight-container .hljs-number{color:#79c0ff!important}.syntax-highlight-container .hljs-comment{color:#8b949e!important;font-style:italic}.syntax-highlight-container .hljs-function,.syntax-highlight-container .hljs-title.function_{color:#d2a8ff!important}.syntax-highlight-container .hljs-variable{color:#ffa657!important}.syntax-highlight-container .hljs-title,.syntax-highlight-container .hljs-tag,.syntax-highlight-container .hljs-name{color:#7ee787!important}.syntax-highlight-container .hljs-attr{color:#79c0ff!important}.syntax-highlight-container .hljs-built_in,.syntax-highlight-container .hljs-type{color:#ffa657!important}.syntax-highlight-container .hljs-literal{color:#79c0ff!important}.syntax-highlight-container .hljs-symbol,.syntax-highlight-container .hljs-operator{color:#ff7b72!important}.syntax-highlight-container .hljs-punctuation{color:#e6edf3!important}.syntax-highlight-container .hljs-regexp{color:#7ee787!important}.syntax-highlight-container .hljs-selector-tag{color:#7ee787!important}.syntax-highlight-container .hljs-selector-class{color:#ffa657!important}.syntax-highlight-container .hljs-selector-id{color:#79c0ff!important}.syntax-highlight-container .hljs-property{color:#79c0ff!important}.syntax-highlight-container .hljs-value{color:#a5d6ff!important}.syntax-highlight-container .hljs-meta{color:#8b949e!important}.syntax-highlight-container .hljs-doctag{color:#8b949e!important}.syntax-highlight-container .hljs-section{color:#1f6feb!important;font-weight:bold}.syntax-highlight-container .hljs-addition{color:#aff5b4!important;background-color:#033a16!important}.syntax-highlight-container .hljs-deletion{color:#ffdcd7!important;background-color:#67060c!important}.syntax-highlight-container .hljs-emphasis{font-style:italic}.syntax-highlight-container .hljs-strong{font-weight:bold}.chat-message{margin-bottom:16px;-webkit-animation:slideIn.3s ease-out;-moz-animation:slideIn.3s ease-out;-o-animation:slideIn.3s ease-out;animation:slideIn.3s ease-out}@-webkit-keyframes slideIn{from{opacity:0;-webkit-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes slideIn{from{opacity:0;-moz-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes slideIn{from{opacity:0;-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes slideIn{from{opacity:0;-webkit-transform:translatey(10px);-moz-transform:translatey(10px);-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}.chat-message.user{text-align:right}.chat-message.assistant{text-align:left}.input-disabled{opacity:.6;cursor:not-allowed}.button-hover-effect{-webkit-transition:all.2s ease-in-out;-moz-transition:all.2s ease-in-out;-o-transition:all.2s ease-in-out;transition:all.2s ease-in-out}.button-hover-effect:hover{-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px);-webkit-box-shadow:0 4px 12px rgba(0,0,0,.15);-moz-box-shadow:0 4px 12px rgba(0,0,0,.15);box-shadow:0 4px 12px rgba(0,0,0,.15)}.stream-toggle{-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease}.stream-toggle .indicator{-webkit-transition:-webkit-transform.3s ease;-moz-transition:-moz-transform.3s ease;-o-transition:-o-transform.3s ease;transition:-webkit-transform.3s ease;transition:-moz-transform.3s ease;transition:-o-transform.3s ease;transition:transform.3s ease}.copy-button{opacity:.7;-webkit-transition:opacity.2s ease;-moz-transition:opacity.2s ease;-o-transition:opacity.2s ease;transition:opacity.2s ease}.copy-button:hover{opacity:1}.chat-history-item{-webkit-transition:background-color.2s ease;-moz-transition:background-color.2s ease;-o-transition:background-color.2s ease;transition:background-color.2s ease;cursor:pointer;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:8px 12px;margin-bottom:4px}.chat-history-item:hover{background-color:rgba(156,163,175,.1)}.chat-history-item.active{background-color:rgba(59,130,246,.1);border-left:3px solid#3b82f6}.Toastify__toast{-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}.Toastify__toast--success{background:-webkit-linear-gradient(315deg,#10b981,#059669);background:-moz-linear-gradient(315deg,#10b981,#059669);background:-o-linear-gradient(315deg,#10b981,#059669);background:linear-gradient(135deg,#10b981,#059669)}.Toastify__toast--error{background:-webkit-linear-gradient(315deg,#ef4444,#dc2626);background:-moz-linear-gradient(315deg,#ef4444,#dc2626);background:-o-linear-gradient(315deg,#ef4444,#dc2626);background:linear-gradient(135deg,#ef4444,#dc2626)}.Toastify__toast--info{background:-webkit-linear-gradient(315deg,#3b82f6,#2563eb);background:-moz-linear-gradient(315deg,#3b82f6,#2563eb);background:-o-linear-gradient(315deg,#3b82f6,#2563eb);background:linear-gradient(135deg,#3b82f6,#2563eb)}.dropdown-menu{-webkit-box-shadow:0 10px 25px rgba(0,0,0,.15);-moz-box-shadow:0 10px 25px rgba(0,0,0,.15);box-shadow:0 10px 25px rgba(0,0,0,.15);-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;border:1px solid rgba(229,231,235,.2)}.dropdown-item{-webkit-transition:background-color.15s ease;-moz-transition:background-color.15s ease;-o-transition:background-color.15s ease;transition:background-color.15s ease}.dropdown-item:hover{background-color:rgba(156,163,175,.1)}.tool-modal{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.tool-modal .modal-content{background:white;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;-webkit-box-shadow:0 25px 50px rgba(0,0,0,.25);-moz-box-shadow:0 25px 50px rgba(0,0,0,.25);box-shadow:0 25px 50px rgba(0,0,0,.25);max-height:90vh;overflow-y:auto}.context-modal .modal-content{background:-webkit-linear-gradient(315deg,#f8fafc,#f1f5f9);background:-moz-linear-gradient(315deg,#f8fafc,#f1f5f9);background:-o-linear-gradient(315deg,#f8fafc,#f1f5f9);background:linear-gradient(135deg,#f8fafc,#f1f5f9);-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;-webkit-box-shadow:0 25px 50px rgba(0,0,0,.25);-moz-box-shadow:0 25px 50px rgba(0,0,0,.25);box-shadow:0 25px 50px rgba(0,0,0,.25)}.custom-scrollbar{scrollbar-width:thin;scrollbar-color:rgba(156,163,175,.5)transparent}.custom-scrollbar::-webkit-scrollbar{width:6px}.custom-scrollbar::-webkit-scrollbar-track{background:transparent}.custom-scrollbar::-webkit-scrollbar-thumb{background-color:rgba(156,163,175,.5);-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.custom-scrollbar::-webkit-scrollbar-thumb:hover{background-color:rgba(156,163,175,.7)}.temperature-slider{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;background:-webkit-linear-gradient(left,#3b82f6,#8b5cf6,#ef4444);background:-moz-linear-gradient(left,#3b82f6,#8b5cf6,#ef4444);background:-o-linear-gradient(left,#3b82f6,#8b5cf6,#ef4444);background:linear-gradient(to right,#3b82f6,#8b5cf6,#ef4444);-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;height:8px;outline:none}.temperature-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;background:white;border:2px solid#3b82f6;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;cursor:pointer;height:20px;width:20px}.temperature-slider::-moz-range-thumb{background:white;border:2px solid#3b82f6;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;cursor:pointer;height:16px;width:16px}@media(max-width:768px){.syntax-highlight-container .hljs{font-size:12px}.chat-message{margin-bottom:12px}.rightbar{width:100%!important}}@media(max-width:640px){.modal .modal-content{margin:20px;max-height:-webkit-calc(100vh - 40px);max-height:-moz-calc(100vh - 40px);max-height:calc(100vh - 40px)}.syntax-highlight-container pre{padding:12px!important}}input:focus,textarea:focus,select:focus{outline:2px solid#3b82f6;outline-offset:2px}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media(prefers-color-scheme:dark){.tool-modal .modal-content{background:#1f2937;color:#f3f4f6}.context-modal .modal-content{background:-webkit-linear-gradient(315deg,#1f2937,#111827);background:-moz-linear-gradient(315deg,#1f2937,#111827);background:-o-linear-gradient(315deg,#1f2937,#111827);background:linear-gradient(135deg,#1f2937,#111827);color:#f3f4f6}}'})]}),(0,r.jsx)(c.default,{src:"https://cdn.jsdelivr.net/npm/marked/marked.min.js"}),(0,r.jsx)(c.default,{src:"https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/9.10.0/jsoneditor.min.js"}),(0,r.jsx)(c.default,{src:"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"}),(0,r.jsx)(c.default,{src:"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/go.min.js"}),(0,r.jsx)(c.default,{src:"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"}),(0,r.jsx)(c.default,{src:"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"}),(0,r.jsx)(c.default,{src:"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"}),(0,r.jsx)(c.default,{src:"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"}),(0,r.jsx)(c.default,{src:"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-go.min.js"}),(0,r.jsx)(c.default,{src:"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"}),(0,r.jsxs)("div",{className:"bg-zinc-800 flex h-screen",children:[(0,r.jsxs)("div",{className:"h-screen w-full",children:[(0,r.jsx)(m.A,{sectionHeader:"AI Studio Interface",hideBackListingLink:!0,backListingLink:"./"}),(0,r.jsx)("button",{id:"optionsIcon",className:"fixed bottom-4 right-4 bg-orange-700 p-3 rounded-full shadow-lg focus:outline-none z-50 cursor-pointer hover:bg-orange-600 transition-colors",onClick:()=>{let e=document.getElementById("rightbar"),t=null==e?void 0:e.classList.contains("hidden");null==e||e.classList.toggle("hidden",!t),null==e||e.classList.toggle("visible",t)},children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,r.jsxs)("div",{id:"aistudiodiv",className:"flex flex-1",children:[(0,r.jsxs)("div",{className:"flex bg-zinc-800 p-2 flex-col w-full overflow-y-auto overflow-x-auto scrollbar",style:{height:"calc(100vh - 65px)"},children:[(0,r.jsx)("div",{id:"aiChatResult",className:"ml-8 mr-8 flex-grow rounded-lg bg-gray-50 table-container overflow-y-auto scrollbar",style:{height:"500px",background:"radial-gradient(circle, black -25%, transparent 10%) 0 0, radial-gradient(circle, black -25%, transparent 10%) 10px 10px",backgroundSize:"20px 20px"},children:0===A.length?(0,r.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,r.jsx)("p",{children:"Start a conversation..."})}):(0,r.jsx)("div",{className:"space-y-4 p-4",children:A.map(e=>(0,r.jsx)("div",{className:"flex ".concat(e.isUser?"justify-end":"justify-start"),children:(0,r.jsx)("div",{className:"inline-block max-w-[85%] px-4 py-2 rounded-3xl ".concat(e.isUser?"bg-[#1b1b1b] text-white":e.isThinking?"bg-gray-300 text-gray-700 thinking-animation":"text-gray-100 bg-transparent"),style:{wordWrap:"break-word",wordBreak:"break-word",overflowWrap:"break-word"},children:e.isThinking?(0,r.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content}):(0,r.jsx)("div",{className:"text-sm",children:e.isUser?(0,r.jsx)("p",{className:"whitespace-pre-wrap",children:e.content}):(0,r.jsx)("div",{className:"prose prose-invert max-w-none",children:U(e.content)})})})},e.id))})}),(0,r.jsxs)("div",{id:"userInputGround",className:"ml-8 mr-8 mt-2 bg-[#1b1b1b] p-1 rounded-lg shadow-md border border-zinc-500",children:[(0,r.jsx)("textarea",{id:"input",onKeyDown:er,onInput:e=>{e.target.style.height="auto",e.target.style.height=Math.min(e.target.scrollHeight,300)+"px"},disabled:j,className:"w-full min-h-[64px] max-h-[300px] p-3 rounded-lg focus:outline-none text-gray-100 overflow-y-auto scrollbar disabled:opacity-50 disabled:cursor-not-allowed resize-none leading-5",style:{height:"64px",lineHeight:"1.25rem"},placeholder:j?"Sending message...":"Type your message here...",rows:"1"}),(0,r.jsx)("textarea",{id:"promptInput",onKeyDown:er,onInput:e=>{e.target.style.height="auto",e.target.style.height=Math.min(e.target.scrollHeight,300)+"px"},className:"w-full min-h-[64px] max-h-[300px] p-3 rounded-lg focus:outline-none text-gray-100 hidden resize-none leading-5",style:{height:"64px",lineHeight:"1.25rem"},placeholder:"Type your message here...",rows:"1"}),(0,r.jsxs)("div",{className:"flex h-[40px] items-center justify-between mt-2 mb-2 px-3",children:[(0,r.jsx)("div",{className:"flex gap-x-2",children:(0,r.jsx)("button",{title:"View selected dataproduct prompts","aria-label":"datafiles","data-testid":"datafiles",className:"flex h-10 w-10 items-center justify-center rounded-full transition-colors hover:opacity-70 focus-visible:outline-none focus-visible:outline-black bg-orange-700",onClick:()=>y(!b),disabled:j,children:(0,r.jsx)("svg",{viewBox:"0 0 24 24",className:"h-6 w-6 shrink-0",children:(0,r.jsx)("path",{fill:"currentColor",d:"M16.5 6v11.5a4 4 0 0 1-4 4a4 4 0 0 1-4-4V5A2.5 2.5 0 0 1 11 2.5A2.5 2.5 0 0 1 13.5 5v10.5a1 1 0 0 1-1 1a1 1 0 0 1-1-1V6H10v9.5a2.5 2.5 0 0 0 2.5 2.5a2.5 2.5 0 0 0 2.5-2.5V5a4 4 0 0 0-4-4a4 4 0 0 0-4 4v12.5a5.5 5.5 0 0 0 5.5 5.5a5.5 5.5 0 0 0 5.5-5.5V6z"})})})}),(0,r.jsx)("button",{"aria-label":"startChat","data-testid":"startChat",id:"startChat",className:"flex cursor-pointer h-10 w-10 items-center justify-center rounded-full transition-colors hover:opacity-70 focus-visible:outline-none focus-visible:outline-black disabled:text-[#f4f4f4] disabled:hover:opacity-100 disabled:dark:bg-token-text-quaternary bg-orange-700 disabled:bg-[#D7D7D7] ".concat(j?"hidden":""),onClick:X,disabled:j,children:(0,r.jsx)("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1918 8.90615C15.6381 8.45983 16.3618 8.45983 16.8081 8.90615L21.9509 14.049C22.3972 14.4953 22.3972 15.2189 21.9509 15.6652C21.5046 16.1116 20.781 16.1116 20.3347 15.6652L17.1428 12.4734V22.2857C17.1428 22.9169 16.6311 23.4286 15.9999 23.4286C15.3688 23.4286 14.8571 22.9169 14.8571 22.2857V12.4734L11.6652 15.6652C11.2189 16.1116 10.4953 16.1116 10.049 15.6652C9.60265 15.2189 9.60265 14.4953 10.049 14.049L15.1918 8.90615Z",fill:"currentColor"})})}),(0,r.jsx)("button",{"aria-label":"inprogressChat","data-testid":"inprogressChat",id:"inprogressChat",className:"flex h-10 w-10 items-center justify-center rounded-full transition-colors hover:opacity-70 focus-visible:outline-none focus-visible:outline-black disabled:text-[#f4f4f4] disabled:hover:opacity-100 disabled:dark:bg-token-text-quaternary bg-orange-700 disabled:bg-[#D7D7D7] ".concat(j?"":"hidden"),onClick:()=>{E(!1),v(!1),P(e=>e.map(e=>e.isThinking?{...e,content:"Request cancelled",isThinking:!1}:e));let e=document.getElementById("input");e&&(e.disabled=!1),f.oR.info("Stream cancelled")},children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("rect",{x:"9",y:"9",width:"6",height:"6",fill:"currentColor"})})})]})]})]}),(0,r.jsxs)("div",{className:"w-[220px] min-w-[220px] bg-[#1b1b1b] p-2 text-gray-100 flex flex-col",style:{height:"calc(100vh - 65px)"},children:[(0,r.jsxs)("div",{className:"flex-shrink-0 mb-2 space-y-2 text-gray-100",children:[(0,r.jsx)("label",{htmlFor:"aiInteractionMode",className:"block font-medium text-sm mb-1",children:"Interaction Mode"}),(0,r.jsx)("div",{className:"flex items-center space-x-4 mt-2"}),(0,r.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:"aiInteractionMode",value:"P2P",className:"peer hidden",onClick:()=>Q("P2P"),defaultChecked:!0}),(0,r.jsx)("div",{className:" w-4 h-4 rounded-full border-2 peer-checked:bg-orange-700 transition"}),(0,r.jsx)("span",{className:" ml-2 mr-2 text-sm",children:"Api"})]}),(0,r.jsxs)("label",{className:" inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:"aiInteractionMode",value:"CHAT_MODE",className:"peer hidden",onClick:()=>Q("CHAT_MODE")}),(0,r.jsx)("div",{className:"w-4 h-4 rounded-full border-2  peer-checked:bg-orange-700 transition"}),(0,r.jsx)("span",{className:"ml-2 text-sm",children:"Chat"})]})]}),(0,r.jsxs)("div",{className:"flex-shrink-0 mb-2 mt-2 text-gray-100",children:[(0,r.jsx)(p,{onModelSelect:e=>{let{modelNodeId:t,modelName:a}=e;console.log("Model received:",t,a),Z(t)}}),(0,r.jsx)("input",{type:"text",id:"aiModel",hidden:!0})]}),(0,r.jsxs)("div",{id:"P2P",className:"flex-shrink-0 text-gray-100",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("label",{htmlFor:"toggleStateLabel",id:"toggleStateLabel",className:"block text-sm font-medium mb-1",children:"Stream OFF"}),(0,r.jsx)("button",{id:"toggleStreamButton",className:"relative cursor-pointer inline-flex h-6 w-16 items-center rounded-full bg-gray-300 transition-colors focus:outline-none focus:ring-2 focus:ring-[#ff5f1f]",role:"switch","aria-checked":"false",onClick:e=>(function(e){let t="BUTTON"===e.tagName?e:e.closest("button");if(!t)return;let a="true"!==t.getAttribute("aria-checked");t.classList.toggle("bg-orange-700",a),t.classList.toggle("bg-gray-300",!a);let r=t.querySelector("span");r&&(r.style.transform=a?"translateX(32px)":"translateX(0)");let s=document.getElementById("toggleStateLabel");s&&(s.textContent=a?"Stream ON":"Stream OFF"),t.setAttribute("aria-checked",a.toString())})(e.target),children:(0,r.jsx)("span",{className:"absolute left-1 w-6 h-6 bg-white rounded-full shadow-md transition-transform transform"})})]}),(0,r.jsxs)("div",{className:"mb-2 mt-2",children:[(0,r.jsx)(x,{onPromptSelect:e=>{console.log("prompt received:",e)}}),(0,r.jsx)("input",{type:"text",id:"promptId",hidden:!0})]}),(0,r.jsxs)("div",{id:"toolCall",className:"flex mt-2 mb-2",children:[(0,r.jsx)("button",{id:"addToolCallButton",type:"button",onClick:()=>g(!0),className:"bg-orange-700 w-full px-2 py-2 text-sm rounded-lg focus:outline-none cursor-pointer hover:bg-orange-600 transition-colors",disabled:j,children:"Add Tool Call"}),(0,r.jsx)(u.A,{isOpen:h,onClose:()=>g(!1),onAddTool:e=>{D(t=>({...t,spec:{...t.spec,Tools:[e]}})),f.oR.success("Tool added successfully")}})]})]}),(0,r.jsxs)("div",{id:"CHAT_MODE",className:"hidden flex-1 flex flex-col min-h-0 overflow-hidden",children:[(0,r.jsx)("div",{className:"flex-shrink-0 mb-2 mt-2",children:(0,r.jsx)("a",{className:"flex p-2 bg-orange-700 hover:bg-zinc-900 items-center justify-between text-sm font-medium transition-colors rounded-lg cursor-pointer",href:"#",onClick:ee,children:(0,r.jsxs)("span",{className:"flex flex-row items-center justify-start",children:[(0,r.jsx)("div",{slot:"icon",className:"w-4 text-neutral-white",children:(0,r.jsx)("svg",{viewBox:"0 0 24 24",className:"h-full w-6",stroke:"currentColor",children:(0,r.jsx)("path",{fill:"currentColor",d:"M5 3c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7h-2v7H5V5h7V3zm12.78 1a.7.7 0 0 0-.48.2l-1.22 1.21l2.5 2.5L19.8 6.7c.26-.26.26-.7 0-.95L18.25 4.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L8 13.5V16h2.5l7.37-7.38z"})})}),(0,r.jsx)("span",{className:"ml-2 pl-2 justify-center text-sm",children:"Start New Chat"})]})})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[(0,r.jsx)("label",{htmlFor:"chatHistory",className:"flex-shrink-0 block font-semibold text-sm mb-2",children:"Chat History"}),(0,r.jsx)("div",{className:"flex-1 overflow-hidden",children:j?(0,r.jsx)("div",{className:"p-2 text-gray-500",children:"Loading chat history..."}):_?(0,r.jsxs)("div",{className:"p-2 text-red-500",children:["Error loading chat history: ",_]}):(0,r.jsx)("div",{className:"h-full overflow-y-auto scrollbar",children:(0,r.jsx)("ul",{className:"space-y-2 pr-1",children:R.length>0?R.map((e,t)=>e.currentLog&&(0,r.jsx)("li",{className:"border-b border-zinc-500",children:(0,r.jsxs)("a",{href:"#",onClick:t=>ea(e.chatId,t),className:"block p-2 text-gray-100 hover:bg-zinc-900 hover:text-white cursor-pointer transition-colors rounded",children:[(0,r.jsx)("p",{className:"font-semibold text-xs break-words",children:e.currentLog.value.length>35?e.currentLog.value.substring(0,35)+"...":e.currentLog.value}),(0,r.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Started: ",new Date(1e3*parseInt(e.startedAt)).toLocaleString()]})]})},e.chatId||t)):(0,r.jsx)("li",{className:"p-2 bg-zinc-900 shadow-sm rounded-md",children:(0,r.jsx)("p",{className:"font-semibold text-xs break-words",children:"No history available"})})})})})]})]})]}),(0,r.jsxs)("div",{id:"rightbar",className:"rightbar fixed top-20 right-0 w-64 h-full bg-[#1b1b1b] shadow-lg hidden rounded-lg text-gray-100",children:[(0,r.jsxs)("div",{className:"p-4 bg-zinc-900 flex justify-between items-center rounded-md",children:[(0,r.jsx)("h2",{className:"text-lg font-bold",children:"Sidebar"}),(0,r.jsx)("button",{id:"closeSidebar",onClick:function(){let e=document.getElementById("rightbar");null==e||e.classList.add("hidden")},className:"hover:text-gray-100 focus:outline-none cursor-pointer",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("label",{htmlFor:"temperatureSelect",className:"block text-sm font-medium mb-1",children:"Select Temperature"}),(0,r.jsxs)("div",{id:"temperatureSelect",className:"flex items-center space-x-4 mt-2",children:[(0,r.jsx)("input",{id:"temperatureSlider",type:"range",min:"0.0",max:"1.0",step:"0.1",defaultValue:"0.7",className:"w-full h-2 bg-orange-700 rounded-lg appearance-none cursor-pointer",onChange:e=>(function(e){let t=document.getElementById("temperatureValue");t&&(t.value=parseFloat(e).toFixed(1))})(e.target.value)}),(0,r.jsx)("input",{id:"temperatureValue",type:"number",step:"0.1",min:"0.0",max:"1.0",defaultValue:"0.7",className:"w-16 px-2 py-1 border border-gray-300 rounded-lg text-center focus:outline-none focus:ring focus:ring-orange-700",onChange:e=>(function(e){let t=parseFloat(e);if(t>=0&&t<=1){let e=document.getElementById("temperatureSlider");e&&(e.value=t.toFixed(1))}})(e.target.value)})]}),(0,r.jsx)("label",{htmlFor:"maxTokens",className:"block text-sm font-medium mt-4 mb-1",children:"Select Max Tokens"}),(0,r.jsx)("input",{type:"text",id:"maxTokens",placeholder:"Max Tokens...",className:"w-full px-3 py-2 mb-1 text-gray-100 shadow-md rounded-lg focus:outline-none focus:ring text-sm focus:ring-orange-700"}),(0,r.jsx)("label",{htmlFor:"topk",className:"block text-sm font-medium mt-4 mb-1",children:"Select Top K"}),(0,r.jsx)("input",{type:"text",id:"topk",placeholder:"Top K value between 0 - 1000",className:"w-full px-3 py-2 text-gray-100 mb-1 shadow-md rounded-lg focus:outline-none focus:ring text-sm focus:ring-orange-700"}),(0,r.jsx)("label",{htmlFor:"topP",className:"block text-sm font-medium mt-4 mb-1",children:"Select Top P"}),(0,r.jsx)("input",{type:"text",id:"topP",placeholder:"Top P value between 0.0 - 1.0",className:"w-full px-3 py-2 text-gray-100 mb-1 shadow-md rounded-lg focus:outline-none focus:ring text-sm focus:ring-orange-700"})]})]}),(0,r.jsx)("input",{type:"text",id:"currentChatId",hidden:!0}),(0,r.jsx)("div",{id:"currentChat",className:"hidden",children:s?JSON.stringify(s):""})]})]}),(0,r.jsx)(w,{isOpen:b,onClose:()=>y(!1)})]})]})}},8279:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(5155),s=a(2115);function o(e){let[t,a]=(0,s.useState)(e?"loading":"idle");return(0,s.useEffect)(()=>{if(!e){a("idle");return}let t=document.querySelector('script[src="'.concat(e,'"]'));if(t)a(t.getAttribute("data-status"));else{(t=document.createElement("script")).src=e,t.async=!0,t.setAttribute("data-status","loading"),document.body.appendChild(t);let a=e=>{t.setAttribute("data-status","load"===e.type?"ready":"error")};t.addEventListener("load",a),t.addEventListener("error",a)}let r=e=>{a("load"===e.type?"ready":"error")};return t.addEventListener("load",r),t.addEventListener("error",r),()=>{t&&(t.removeEventListener("load",r),t.removeEventListener("error",r))}},[e]),t}function n(e){let{isOpen:t,onClose:a,onAddTool:n,existingTools:l=null,editingIndex:i=-1}=e,[c,d]=(0,s.useState)("plainJSON"),[m,u]=(0,s.useState)(null),[h,p]=(0,s.useState)(""),[g,x]=(0,s.useState)(""),[f,b]=(0,s.useState)(""),[y,j]=(0,s.useState)(JSON.stringify({schema:"Tool schema will appear here"},null,2)),w=(0,s.useRef)(null),v=-1!==i,k=o("https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"),N=o("https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/theme-twilight.js"),S=o("https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-json.js"),C="ready"===k&&"ready"===N&&"ready"===S;(0,s.useEffect)(()=>{!t&&m&&(m.destroy(),u(null))},[t,m]),(0,s.useEffect)(()=>{if(t&&C&&!m&&w.current)try{let e=window.ace;if(e){let t=e.edit(w.current);t.setTheme("ace/theme/twilight"),t.session.setMode("ace/mode/json"),t.setOptions({fontSize:"14px",showPrintMargin:!1,highlightActiveLine:!1}),t.setValue(y),t.on("change",()=>{j(t.getValue())}),u(t)}}catch(e){console.error("Error initializing editor:",e)}},[t,C,m,y]);let I=e=>{d(e)},E=e=>{if(null===e)return{type:"null"};if(Array.isArray(e))return 0===e.length?{type:"array",items:{}}:{type:"array",items:E(e[0])};if("object"==typeof e){let t={type:"object",properties:{},required:[]};for(let a in e)Object.hasOwnProperty.call(e,a)&&(t.properties[a]=E(e[a]),t.required.push(a));return t}return"string"==typeof e?{type:"string"}:"number"==typeof e?{type:"number"}:"boolean"==typeof e?{type:"boolean"}:{}};return((0,s.useEffect)(()=>{if(l&&t){var e,a,r,s;p((null===(e=l.schema)||void 0===e?void 0:e.name)||""),x((null===(a=l.schema)||void 0===a?void 0:a.description)||""),b(l.rawJsonParams||"");let t="string"==typeof(null===(r=l.schema)||void 0===r?void 0:r.parameters)?l.schema.parameters:JSON.stringify((null===(s=l.schema)||void 0===s?void 0:s.parameters)||{schema:"Tool schema will appear here"},null,2);j(t),m&&(m.setValue(t),m.clearSelection())}else if(t){p(""),x(""),b("");let e=JSON.stringify({schema:"Tool schema will appear here"},null,2);j(e),m&&(m.setValue(e),m.clearSelection())}},[l,t,m]),t)?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"fixed inset-0 bg-zinc-600/80 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-zinc-800 rounded-lg shadow-lg w-3/4 h-3/4 md:w-1/2 overflow-y-auto scrollbar text-gray-100",children:[(0,r.jsxs)("div",{className:"bg-zinc-900 px-4 py-2 flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-lg font-bold",children:v?"Update AI Tool":"Add AI Tool"}),(0,r.jsx)("button",{className:"text-gray-100 cursor-pointer text-lg",type:"button",onClick:a,children:"\xd7"})]}),(0,r.jsx)("div",{className:"px-4 py-2 flex justify-between items-center",children:(0,r.jsx)("input",{type:"text",placeholder:"Enter function name...",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",value:h,onChange:e=>p(e.target.value)})}),(0,r.jsx)("div",{className:"px-4 py-2 flex justify-between items-center",children:(0,r.jsx)("input",{type:"text",placeholder:"Enter description name...",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",value:g,onChange:e=>x(e.target.value)})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("button",{type:"button",className:"w-1/2 py-2 text-center ".concat("plainJSON"===c?"text-orange-700":"hover:text-orange-700 hover:border-orange-700 cursor-pointer"),onClick:()=>I("plainJSON"),children:"Plain JSON"}),(0,r.jsx)("button",{type:"button",className:"w-1/2 py-2 text-center ".concat("toolSchema"===c?"text-orange-700":"hover:text-orange-700 hover:border-orange-700 cursor-pointer"),onClick:()=>I("toolSchema"),children:"Tool Schema"})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"tab-content ".concat("plainJSON"!==c?"hidden":""),children:[(0,r.jsx)("textarea",{className:"form-textarea overflow-y-auto scrollbar text-sm rounded-md bg-zinc-700 placeholder-gray-500 p-2 shadow-sm w-full",rows:"9",placeholder:"Enter JSON here, and convert it to json Schema by clicking the button below...",value:f,onChange:e=>b(e.target.value)}),(0,r.jsx)("button",{onClick:()=>{try{let e=JSON.parse(f),t=E(e),a=JSON.stringify(t,null,2);j(a),m&&(m.setValue(a),m.clearSelection()),I("toolSchema")}catch(e){console.error(e)}},type:"button",className:"bg-zinc-900 text-gray-100 px-4 py-2 mt-3 text-sm rounded-lg hover:bg-zinc-900 cursor-pointer",children:"Convert to JSON Schema"})]}),(0,r.jsx)("div",{className:"tab-content ".concat("toolSchema"!==c?"hidden":""),children:(0,r.jsx)("div",{ref:w,className:"w-full scrollbar border border-zinc-600 rounded",style:{height:"300px"}})})]})]}),(0,r.jsxs)("div",{className:"px-4 py-2 flex justify-end",children:[(0,r.jsx)("button",{className:"bg-zinc-900 text-gray-100 px-4 py-2 rounded hover:bg-gray-600 mr-2 cursor-pointer",type:"button",onClick:a,children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{try{n({schema:{name:h,parameters:y,description:g},rawJsonParams:f,autoGenerate:!1}),a()}catch(e){console.error("Error saving tool schema:",e)}},type:"button",className:"bg-orange-700 text-gray-100 px-4 py-2 rounded hover:bg-zinc-900 cursor-pointer",children:v?"Update":"Add"})]})]})})}):null}},9391:(e,t,a)=>{Promise.resolve().then(a.bind(a,8248))}},e=>{var t=t=>e(e.s=t);e.O(0,[5552,5441,5206,1440,8441,1684,7358],()=>t(9391)),_N_E=e.O()}]);