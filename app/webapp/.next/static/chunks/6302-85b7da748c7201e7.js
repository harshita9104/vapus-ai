"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6302],{5255:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(5155),l=t(9137),r=t.n(l);function a(e){let{isLoading:s,size:t="default",text:l="Loading",showProgressBar:a=!0,className:o="",isOverlay:i=!1}=e,c={small:{spinner:"w-8 h-8",dot:"w-1 h-1",progressBar:"w-32 h-0.5"},default:{spinner:"w-16 h-16",dot:"w-2 h-2",progressBar:"w-48 h-1"},large:{spinner:"w-24 h-24",dot:"w-3 h-3",progressBar:"w-64 h-1.5"}},d=c[t]||c.default;return s?(0,n.jsxs)("div",{className:"jsx-367ba324d4365b98 "+((i?"absolute inset-0 z-10 flex items-center h-full w-full justify-center bg-zinc-600/90 ".concat(o):"flex items-center justify-center min-h-screen bg-[#1b1b1b] ".concat(o))||""),children:[(0,n.jsxs)("div",{className:"jsx-367ba324d4365b98 flex flex-col items-center space-y-6",children:[(0,n.jsxs)("div",{className:"jsx-367ba324d4365b98 relative",children:[(0,n.jsx)("div",{className:"jsx-367ba324d4365b98 "+"".concat(d.spinner," border-4 border-slate-200 dark:border-slate-700 rounded-full animate-pulse")}),(0,n.jsx)("div",{className:"jsx-367ba324d4365b98 "+"absolute top-0 left-0 ".concat(d.spinner," border-4 border-transparent border-t-orange-700 border-r-orange-700 rounded-full animate-spin")}),(0,n.jsx)("div",{className:"jsx-367ba324d4365b98 "+"absolute top-1/2 left-1/2 ".concat(d.dot," bg-orange-700 rounded-full transform -translate-x-1/2 -translate-y-1/2 animate-ping")})]}),(0,n.jsxs)("div",{className:"jsx-367ba324d4365b98 flex items-center space-x-1",children:[(0,n.jsx)("span",{className:"jsx-367ba324d4365b98 text-slate-600 dark:text-slate-400 font-medium",children:l}),(0,n.jsxs)("div",{className:"jsx-367ba324d4365b98 flex space-x-1",children:[(0,n.jsx)("div",{style:{animationDelay:"0ms"},className:"jsx-367ba324d4365b98 w-1 h-1 bg-orange-700 rounded-full animate-bounce"}),(0,n.jsx)("div",{style:{animationDelay:"150ms"},className:"jsx-367ba324d4365b98 w-1 h-1 bg-orange-700 rounded-full animate-bounce"}),(0,n.jsx)("div",{style:{animationDelay:"300ms"},className:"jsx-367ba324d4365b98 w-1 h-1 bg-orange-700 rounded-full animate-bounce"})]})]}),a&&(0,n.jsx)("div",{className:"jsx-367ba324d4365b98 "+"".concat(d.progressBar," bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden"),children:(0,n.jsx)("div",{style:{width:"60%",animation:"loading-progress 2s ease-in-out infinite"},className:"jsx-367ba324d4365b98 h-full bg-gradient-to-r from-orange-700 to-orange-500 rounded-full animate-pulse"})})]}),(0,n.jsx)(r(),{id:"367ba324d4365b98",children:"@-webkit-keyframes loading-progress{0%{width:0%}50%{width:70%}100%{width:100%}}@-moz-keyframes loading-progress{0%{width:0%}50%{width:70%}100%{width:100%}}@-o-keyframes loading-progress{0%{width:0%}50%{width:70%}100%{width:100%}}@keyframes loading-progress{0%{width:0%}50%{width:70%}100%{width:100%}}"})]}):null}t(2115)},9774:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(5155),l=t(2115),r=t(5799),a=t(9994);let o=e=>{let{isOpen:s,message:t,onConfirm:l,onCancel:r}=e;return s?(0,n.jsx)("div",{className:"fixed inset-0 bg-zinc-600/80 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:"bg-zinc-800 rounded-lg shadow-lg w-3/4 md:w-1/2 lg:w-1/3 text-gray-100",children:[(0,n.jsxs)("div",{className:"bg-zinc-900 px-4 py-2 flex justify-between items-center rounded-t-lg",children:[(0,n.jsx)("h3",{className:"text-lg font-medium",children:"Confirmation"}),(0,n.jsx)("button",{onClick:r,className:"text-gray-400  hover:text-pink-900 cursor-pointer",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)("p",{className:"mb-6",children:t}),(0,n.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,n.jsx)("button",{onClick:r,className:"px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-md cursor-pointer",children:"No"}),(0,n.jsx)("button",{onClick:l,className:"px-4 py-2 bg-orange-700 hover:bg-pink-900 rounded-md cursor-pointer",children:"Yes"})]})]})]})}):null},i=e=>{let{response:s={},globalContext:t={},isVisible:i=!1,customButton:c=null,apiServices:d={}}=e,{resourceId:h,createActionParams:m,actionRules:u,yamlSpec:x,resourceType:p}=s,{AccessTokenKey:v}=t||{},[w,g]=(0,l.useState)(!1),[f,b]=(0,l.useState)(""),[j,y]=(0,l.useState)(null),N=e=>e?e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"",k=async(e,s,t,n,l,a)=>{if("archive"===s.toLowerCase()||"delete"===s.toLowerCase()){b("Are you sure you want to delete this resource?"),y(()=>async()=>{console.log("Confirmed deletion!");try{var e,t,n;let l=(null===(e=d[p])||void 0===e?void 0:e[s.toLowerCase()])||(null===(t=d[p])||void 0===t?void 0:t.delete)||(null===(n=d[p])||void 0===n?void 0:n.archive);if(l&&"function"==typeof l){let e=await l(h);console.log("Resource deleted successfully:",e),r.oR.success("Resource deleted successfully"),window.location.href="./"}else console.error("No API service available for this resource type and action"),r.oR.error("Unable to delete resource. No API service configured.")}catch(e){console.error("Error deleting resource:",e),r.oR.error("Failed to delete resource. Please try again.")}}),g(!0);return}if(["validate","publish","unpublish"].includes(s.toLowerCase())){console.log("Handling ".concat(s," action for ").concat(h)),alert("The ".concat(s," functionality needs to be implemented."));return}if("sync"===s.toLowerCase()){console.log("Handling sync action for ".concat(h)),alert("The sync functionality needs to be implemented.");return}["create","update","deploy","add_users"].includes(s.toLowerCase())&&(document.getElementById("actionTitle").innerHTML=s.toUpperCase(),document.getElementById("yamlSpecTitle").innerHTML=n,L(a,l,e,t))},C=(e,s)=>{let t=new Blob([document.getElementById(e).innerText],{type:"text/yaml"}),n=document.createElement("a");n.href=URL.createObjectURL(t),n.download="".concat(s,".yaml"),n.click(),URL.revokeObjectURL(n.href)},L=(e,s,t,n)=>{console.log("Open YAML editor:",e,s,t,n)},z=(!u||0===u.length)&&p&&d[p]&&(d[p].archive||d[p].delete);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o,{isOpen:w,message:f,onConfirm:()=>{j&&j(),g(!1)},onCancel:()=>{g(!1)}}),(0,n.jsxs)("div",{id:"actionDropdownMenu",className:"absolute right-0 mt-2 w-60 text-gray-100 bg-zinc-800 border border-zinc-500 rounded-md shadow-lg z-10 ".concat(i?"":"hidden"),children:[(0,n.jsx)(a.A,{}),(0,n.jsxs)("ul",{className:"py-1",children:[m&&(0,n.jsx)("li",{className:"text-sm p-1 rounded-md",children:(0,n.jsxs)("a",{href:m.weblink,className:"flex items-center px-2 py-2 hover:bg-pink-900 hover:text-white rounded-md",children:[(0,n.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M12 2L2 7v2c0 5.25 3.25 10.17 10 15 6.75-4.83 10-9.75 10-15V7L12 2zm0 3.84l7 3.89v.95c0 3.98-2.45 8.19-7 11.57-4.55-3.38-7-7.59-7-11.57v-.95l7-3.89zm-1 3.16v5.25l4.5 2.67.75-1.23-3.75-2.22V9H11z"})}),"Update"]})}),c&&c.show&&(0,n.jsx)("li",{className:"text-sm p-1 rounded-md",children:(0,n.jsxs)("a",{href:"#",onClick:()=>{c&&c.onClick&&c.onClick()},className:"flex items-center px-2 py-2 hover:bg-pink-900 hover:text-white rounded-md",children:[(0,n.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.icon||(0,n.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),c.title||"Custom Action"]})}),u&&u.length>0?u.map((e,s)=>(0,n.jsxs)("li",{className:"text-sm p-1 rounded-md",children:[(0,n.jsxs)("a",{href:"#",onClick:()=>k("".concat(h,"-").concat(e.action),e.action,e.method,e.title,v,e.api,e.isRedirect),className:"flex items-center px-2 py-2 hover:bg-pink-900 hover:text-white rounded-md",children:["Upgrade"===e.action||"Deploy"===e.action?(0,n.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M12 2L2 7v2c0 5.25 3.25 10.17 10 15 6.75-4.83 10-9.75 10-15V7L12 2zm0 3.84l7 3.89v.95c0 3.98-2.45 8.19-7 11.57-4.55-3.38-7-7.59-7-11.57v-.95l7-3.89zm-1 3.16v5.25l4.5 2.67.75-1.23-3.75-2.22V9H11z"})}):(0,n.jsx)("svg",{className:"w-5 h-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M15.232 4.232a1 1 0 0 1 1.415 0l3.122 3.122a1 1 0 0 1 0 1.415l-11.3 11.3a1 1 0 0 1-.707.293H5a1 1 0 0 1-1-1v-2.829a1 1 0 0 1 .293-.707l11.3-11.3zM16.646 2.818L17.788 3.96l-10.464 10.464-1.142-1.142L16.646 2.818zM3 21h18v2H3v-2z"})}),N(e.action)]}),(0,n.jsx)("div",{hidden:!0,id:"".concat(h,"-").concat(e.action),children:e.yamlSpec})]},s)):null,z&&(0,n.jsx)("li",{className:"text-sm p-1 rounded-md",children:(0,n.jsxs)("a",{href:"#",onClick:()=>k("".concat(h,"-archive"),"archive","DELETE","Archive Resource",v,"",!1),className:"flex items-center px-2 py-2 hover:bg-pink-900 hover:text-white rounded-md",children:[(0,n.jsx)("svg",{className:"w-5 h-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})}),"Archive"]})}),x&&(0,n.jsxs)("li",{className:"text-sm p-1 rounded-md",children:[(0,n.jsx)("div",{hidden:!0,id:"yamlSpec",children:x}),(0,n.jsxs)("a",{href:"#",onClick:()=>C("yamlSpec",h),className:"flex items-center px-2 py-2 hover:bg-pink-900 hover:text-white rounded-lg",children:[(0,n.jsx)("svg",{className:"w-6 h-6 mr-2",viewBox:"0 0 24 24",fill:"white",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M5 20h14v2H5v-2zm7-2c-.28 0-.53-.11-.71-.29L8 13.41l1.41-1.41L11 14.17V4h2v10.17l1.59-1.59L16 13.41l-3.29 3.29c-.18.18-.43.29-.71.29z",fill:"#fff"})}),"Download Yaml Spec"]})]})]})]})]})};function c(e){let{response:s,globalContext:t,customButton:r,apiServices:a={}}=e,[o,c]=(0,l.useState)(!1),d=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=e=>{d.current&&!d.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,n.jsxs)("div",{className:"relative",ref:d,children:[(0,n.jsxs)("button",{onClick:()=>{c(!o)},className:"flex items-center px-1 py-1 bg-orange-700 text-white rounded-md focus:outline-none hover:bg-pink-900 cursor-pointer",children:["Actions",(0,n.jsx)("svg",{className:"w-4 h-4 ml-2 transform ".concat(o?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),(0,n.jsx)(i,{response:s||{},globalContext:t||{},isVisible:o,customButton:r,apiServices:a})]})}}}]);