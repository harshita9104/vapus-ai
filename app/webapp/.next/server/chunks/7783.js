"use strict";exports.id=7783,exports.ids=[7783],exports.modules={17783:(e,s,l)=>{l.d(s,{A:()=>a});var t=l(60687),r=l(43210),n=l(8222),o=l(96368);let i=({isOpen:e,message:s,onConfirm:l,onCancel:r})=>e?(0,t.jsx)("div",{className:"fixed inset-0 bg-zinc-600/80 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-zinc-800 rounded-lg shadow-lg w-3/4 md:w-1/2 lg:w-1/3 text-gray-100",children:[(0,t.jsxs)("div",{className:"bg-zinc-900 px-4 py-2 flex justify-between items-center rounded-t-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Confirmation"}),(0,t.jsx)("button",{onClick:r,className:"text-gray-400  hover:text-pink-900 cursor-pointer",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("p",{className:"mb-6",children:s}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:r,className:"px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-md cursor-pointer",children:"No"}),(0,t.jsx)("button",{onClick:l,className:"px-4 py-2 bg-orange-700 hover:bg-pink-900 rounded-md cursor-pointer",children:"Yes"})]})]})]})}):null,c=({response:e={},globalContext:s={},isVisible:l=!1,customButton:c=null,apiServices:a={}})=>{let{resourceId:d,createActionParams:h,actionRules:m,yamlSpec:x,resourceType:u}=e,{AccessTokenKey:p}=s||{},[v,w]=(0,r.useState)(!1),[g,f]=(0,r.useState)(""),[j,y]=(0,r.useState)(null),b=e=>e?e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"",N=async(e,s,l,t,r,o)=>{if("archive"===s.toLowerCase()||"delete"===s.toLowerCase()){f("Are you sure you want to delete this resource?"),y(()=>async()=>{console.log("Confirmed deletion!");try{let e=a[u]?.[s.toLowerCase()]||a[u]?.delete||a[u]?.archive;if(e&&"function"==typeof e){let s=await e(d);console.log("Resource deleted successfully:",s),n.oR.success("Resource deleted successfully"),window.location.href="./"}else console.error("No API service available for this resource type and action"),n.oR.error("Unable to delete resource. No API service configured.")}catch(e){console.error("Error deleting resource:",e),n.oR.error("Failed to delete resource. Please try again.")}}),w(!0);return}if(["validate","publish","unpublish"].includes(s.toLowerCase())){console.log(`Handling ${s} action for ${d}`),alert(`The ${s} functionality needs to be implemented.`);return}if("sync"===s.toLowerCase()){console.log(`Handling sync action for ${d}`),alert("The sync functionality needs to be implemented.");return}["create","update","deploy","add_users"].includes(s.toLowerCase())&&(document.getElementById("actionTitle").innerHTML=s.toUpperCase(),document.getElementById("yamlSpecTitle").innerHTML=t,L(o,r,e,l))},C=(e,s)=>{let l=new Blob([document.getElementById(e).innerText],{type:"text/yaml"}),t=document.createElement("a");t.href=URL.createObjectURL(l),t.download=`${s}.yaml`,t.click(),URL.revokeObjectURL(t.href)},L=(e,s,l,t)=>{console.log("Open YAML editor:",e,s,l,t)},k=(!m||0===m.length)&&u&&a[u]&&(a[u].archive||a[u].delete);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i,{isOpen:v,message:g,onConfirm:()=>{j&&j(),w(!1)},onCancel:()=>{w(!1)}}),(0,t.jsxs)("div",{id:"actionDropdownMenu",className:`absolute right-0 mt-2 w-60 text-gray-100 bg-zinc-800 border border-zinc-500 rounded-md shadow-lg z-10 ${l?"":"hidden"}`,children:[(0,t.jsx)(o.A,{}),(0,t.jsxs)("ul",{className:"py-1",children:[h&&(0,t.jsx)("li",{className:"text-sm p-1 rounded-md",children:(0,t.jsxs)("a",{href:h.weblink,className:"flex items-center px-2 py-2 hover:bg-pink-900 hover:text-white rounded-md",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M12 2L2 7v2c0 5.25 3.25 10.17 10 15 6.75-4.83 10-9.75 10-15V7L12 2zm0 3.84l7 3.89v.95c0 3.98-2.45 8.19-7 11.57-4.55-3.38-7-7.59-7-11.57v-.95l7-3.89zm-1 3.16v5.25l4.5 2.67.75-1.23-3.75-2.22V9H11z"})}),"Update"]})}),c&&c.show&&(0,t.jsx)("li",{className:"text-sm p-1 rounded-md",children:(0,t.jsxs)("a",{href:"#",onClick:()=>{c&&c.onClick&&c.onClick()},className:"flex items-center px-2 py-2 hover:bg-pink-900 hover:text-white rounded-md",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.icon||(0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),c.title||"Custom Action"]})}),m&&m.length>0?m.map((e,s)=>(0,t.jsxs)("li",{className:"text-sm p-1 rounded-md",children:[(0,t.jsxs)("a",{href:"#",onClick:()=>N(`${d}-${e.action}`,e.action,e.method,e.title,p,e.api,e.isRedirect),className:"flex items-center px-2 py-2 hover:bg-pink-900 hover:text-white rounded-md",children:["Upgrade"===e.action||"Deploy"===e.action?(0,t.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M12 2L2 7v2c0 5.25 3.25 10.17 10 15 6.75-4.83 10-9.75 10-15V7L12 2zm0 3.84l7 3.89v.95c0 3.98-2.45 8.19-7 11.57-4.55-3.38-7-7.59-7-11.57v-.95l7-3.89zm-1 3.16v5.25l4.5 2.67.75-1.23-3.75-2.22V9H11z"})}):(0,t.jsx)("svg",{className:"w-5 h-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M15.232 4.232a1 1 0 0 1 1.415 0l3.122 3.122a1 1 0 0 1 0 1.415l-11.3 11.3a1 1 0 0 1-.707.293H5a1 1 0 0 1-1-1v-2.829a1 1 0 0 1 .293-.707l11.3-11.3zM16.646 2.818L17.788 3.96l-10.464 10.464-1.142-1.142L16.646 2.818zM3 21h18v2H3v-2z"})}),b(e.action)]}),(0,t.jsx)("div",{hidden:!0,id:`${d}-${e.action}`,children:e.yamlSpec})]},s)):null,k&&(0,t.jsx)("li",{className:"text-sm p-1 rounded-md",children:(0,t.jsxs)("a",{href:"#",onClick:()=>N(`${d}-archive`,"archive","DELETE","Archive Resource",p,"",!1),className:"flex items-center px-2 py-2 hover:bg-pink-900 hover:text-white rounded-md",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})}),"Archive"]})}),x&&(0,t.jsxs)("li",{className:"text-sm p-1 rounded-md",children:[(0,t.jsx)("div",{hidden:!0,id:"yamlSpec",children:x}),(0,t.jsxs)("a",{href:"#",onClick:()=>C("yamlSpec",d),className:"flex items-center px-2 py-2 hover:bg-pink-900 hover:text-white rounded-lg",children:[(0,t.jsx)("svg",{className:"w-6 h-6 mr-2",viewBox:"0 0 24 24",fill:"white",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M5 20h14v2H5v-2zm7-2c-.28 0-.53-.11-.71-.29L8 13.41l1.41-1.41L11 14.17V4h2v10.17l1.59-1.59L16 13.41l-3.29 3.29c-.18.18-.43.29-.71.29z",fill:"#fff"})}),"Download Yaml Spec"]})]})]})]})]})};function a({response:e,globalContext:s,customButton:l,apiServices:n={}}){let[o,i]=(0,r.useState)(!1),a=(0,r.useRef)(null);return(0,t.jsxs)("div",{className:"relative",ref:a,children:[(0,t.jsxs)("button",{onClick:()=>{i(!o)},className:"flex items-center px-1 py-1 bg-orange-700 text-white rounded-md focus:outline-none hover:bg-pink-900 cursor-pointer",children:["Actions",(0,t.jsx)("svg",{className:`w-4 h-4 ml-2 transform ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),(0,t.jsx)(c,{response:e||{},globalContext:s||{},isVisible:o,customButton:l,apiServices:n})]})}}};