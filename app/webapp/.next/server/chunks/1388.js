"use strict";exports.id=1388,exports.ids=[1388],exports.modules={11388:(e,s,r)=>{r.d(s,{A:()=>t});var n=r(60687),a=r(43210);r(50591);var l=r(83613);function d({onChange:e,isAlreadyInSecret:s=!1,value:r={},enums:d={}}){let[t,c]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[p,m]=(0,a.useState)([]);(0,a.useRef)();let u={ApiTokenType:d.ApiTokenType||p},g=e=>{if(null===e||"object"!=typeof e)return e;let s=Array.isArray(e)?[]:{};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=g(e[r]));return s},[h,x]=(0,a.useState)(()=>{let e={credentials:{username:"",password:"",apiToken:"",apiTokenType:""}};return r.credentials&&Object.keys(r.credentials).forEach(s=>{"aws_creds"===s||"gcp_creds"===s||"azure_creds"===s?r.credentials[s]&&(e.credentials[s]=g(r.credentials[s])):e.credentials[s]=r.credentials[s]}),e}),_=e=>{let s=g(e),r=e=>!!e&&Object.values(e).some(e=>"boolean"==typeof e||("object"==typeof e?r(e):null!=e&&""!==e));return s.credentials?.aws_creds&&!r(s.credentials.aws_creds)&&delete s.credentials.aws_creds,s.credentials?.gcp_creds&&!r(s.credentials.gcp_creds)&&delete s.credentials.gcp_creds,s.credentials?.azure_creds&&!r(s.credentials.azure_creds)&&delete s.credentials.azure_creds,s},y=s=>{let{name:r,value:n,type:a}=s.target,l="checkbox"===a?s.target.checked:n;if(x(e=>{let s=g(e);if(r.includes(".")){let e=r.split("."),n=s;for(let s=0;s<e.length-1;s++)n[e[s]]||(n[e[s]]={}),n=n[e[s]];n[e[e.length-1]]=l}else s[r]=l;return s}),e){let s=g(h);if(r.includes(".")){let e=r.split("."),n=s;for(let s=0;s<e.length-1;s++)n[e[s]]||(n[e[s]]={}),n=n[e[s]];n[e[e.length-1]]=l}else s[r]=l;e(_(s))}};return(0,n.jsxs)("div",{id:"genericCredentials",children:[!s&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-4 mt-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"username",className:"labels",children:"Username"}),(0,n.jsx)("input",{id:"username",name:"credentials.username",type:"text",placeholder:"Enter username",value:h.credentials.username||"",onChange:y,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"labels",children:"Password"}),(0,n.jsx)("input",{id:"password",name:"credentials.password",type:"password",placeholder:"Enter password",value:h.credentials.password||"",onChange:y,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"apiToken",className:"labels",children:"API Token"}),(0,n.jsx)("input",{id:"apiToken",name:"credentials.apiToken",type:"text",placeholder:"Enter API token",value:h.credentials.apiToken||"",onChange:y,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"apiTokenType",className:"labels",children:"API Token Type"}),(0,n.jsxs)("select",{id:"apiTokenType",name:"credentials.apiTokenType",value:h.credentials.apiTokenType||"",onChange:y,className:"mt-1 w-full p-2 base-input-field placeholder-gray-300 placeholder:text-sm rounded-sm bg-zinc-800 text-sm",suppressHydrationWarning:!0,disabled:t,children:[(0,n.jsx)("option",{value:"",children:"Select Token Type"}),u.ApiTokenType.map(e=>(0,n.jsx)("option",{value:e,children:(0,l.E)(e)},e))]}),t&&(0,n.jsx)("div",{className:"text-xs mt-1 text-gray-300",children:"Loading..."}),i&&(0,n.jsx)("div",{className:"text-xs mt-1 text-red-400",children:"Error loading token types"})]})]})}),!s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("details",{className:"border border-zinc-500 p-4 rounded mb-4 mt-2",children:[(0,n.jsx)("summary",{className:"text-lg font-semibold cursor-pointer",children:"AWS Creds"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"access_key_id",className:"labels",children:"Access Key ID"}),(0,n.jsx)("input",{id:"access_key_id",type:"text",name:"credentials.aws_creds.access_key_id",placeholder:"Access Key ID",value:h.credentials.aws_creds?.access_key_id||"",onChange:y,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"secret_access_key",className:"labels",children:"Secret Access Key"}),(0,n.jsx)("input",{id:"secret_access_key",type:"text",name:"credentials.aws_creds.secret_access_key",placeholder:"Secret Access Key",value:h.credentials.aws_creds?.secret_access_key||"",onChange:y,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"region",className:"labels",children:"Region"}),(0,n.jsx)("input",{id:"region",type:"text",name:"credentials.aws_creds.region",placeholder:"Region",value:h.credentials.aws_creds?.region||"",onChange:y,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"session_token",className:"labels",children:"Session Token"}),(0,n.jsx)("input",{id:"session_token",type:"text",name:"credentials.aws_creds.session_token",placeholder:"Session Token",value:h.credentials.aws_creds?.session_token||"",onChange:y,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]})]}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("label",{htmlFor:"role_arn",className:"labels",children:"Role Arn"}),(0,n.jsx)("input",{id:"role_arn",type:"text",name:"credentials.aws_creds.role_arn",placeholder:"Role Arn",value:h.credentials.aws_creds?.role_arn||"",onChange:y,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]})]}),(0,n.jsxs)("details",{className:"border border-zinc-500 p-4 rounded mb-4",children:[(0,n.jsx)("summary",{className:"text-lg font-semibold cursor-pointer",children:"GCP Creds"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,n.jsxs)("div",{className:"md:col-span-3",children:[(0,n.jsx)("label",{htmlFor:"service_account_key",className:"labels",children:"Service Account Key"}),(0,n.jsx)("textarea",{id:"service_account_key",name:"credentials.gcp_creds.service_account_key",placeholder:"Service Account Key",value:h.credentials.gcp_creds?.service_account_key||"",onChange:y,className:"form-textarea overflow-y-auto scrollbar text-sm rounded-md bg-zinc-700 placeholder-gray-300 p-2 shadow-sm w-full",suppressHydrationWarning:!0})]}),(0,n.jsxs)("div",{className:"flex items-center mt-2",children:[(0,n.jsx)("input",{id:"base64_encoded",type:"checkbox",name:"credentials.gcp_creds.base64_encoded",checked:h.credentials.gcp_creds?.base64_encoded||!1,onChange:y,className:"mr-2 h-4 w-4 text-orange-700 border-gray-300 rounded accent-orange-700",suppressHydrationWarning:!0}),(0,n.jsx)("label",{htmlFor:"base64_encoded",className:"labels cursor-pointer",children:"Is Base64 Encoded?"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"gcp_project_id",className:"labels",children:"Project ID"}),(0,n.jsx)("input",{id:"gcp_project_id",type:"text",name:"credentials.gcp_creds.project_id",placeholder:"Project Id",value:h.credentials.gcp_creds?.project_id||"",onChange:y,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"gcp_region",className:"labels",children:"Region"}),(0,n.jsx)("input",{id:"gcp_region",type:"text",name:"credentials.gcp_creds.region",placeholder:"Region",value:h.credentials.gcp_creds?.region||"",onChange:y,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"gcp_zone",className:"labels",children:"Zone"}),(0,n.jsx)("input",{id:"gcp_zone",type:"text",name:"credentials.gcp_creds.zone",placeholder:"Zone",value:h.credentials.gcp_creds?.zone||"",onChange:y,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]})]})]}),(0,n.jsxs)("details",{className:"border border-zinc-500 p-4 rounded mb-4",children:[(0,n.jsx)("summary",{className:"text-lg font-semibold cursor-pointer",children:"Azure Creds"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"azure_tenant_id",className:"labels",children:"Tenant ID"}),(0,n.jsx)("input",{id:"azure_tenant_id",type:"text",name:"credentials.azure_creds.tenant_id",placeholder:"Tenant Id",value:h.credentials.azure_creds?.tenant_id||"",onChange:y,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"azure_client_id",className:"labels",children:"Client ID"}),(0,n.jsx)("input",{id:"azure_client_id",type:"text",name:"credentials.azure_creds.client_id",placeholder:"Client Id",value:h.credentials.azure_creds?.client_id||"",onChange:y,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"azure_client_secret",className:"labels",children:"Client Secret"}),(0,n.jsx)("input",{id:"azure_client_secret",type:"text",name:"credentials.azure_creds.client_secret",placeholder:"Client Secret",value:h.credentials.azure_creds?.client_secret||"",onChange:y,className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]})]})]})]})]})}let t=({onParamsChange:e,initialParams:s={}})=>{let[r,l]=(0,a.useState)({url:s?.url||"",port:s?.port||"",version:s?.version||"",secretName:s?.secretName||"",isAlreadyInSecret:s?.isAlreadyInSecretBs||!1,credentials:{username:s?.credentials?.username||"",password:s?.credentials?.password||"",apiToken:s?.credentials?.apiToken||"",apiTokenType:s?.credentials?.apiTokenType||"BASIC",aws_creds:s?.credentials?.aws_creds||null,gcp_creds:s?.credentials?.gcp_creds||null,azure_creds:s?.credentials?.azure_creds||null}});(0,a.useEffect)(()=>{s&&Object.keys(s).length>0&&l({url:s.url||"",port:s.port||"",version:s.version||"",secretName:s.secretName||"",isAlreadyInSecret:s.isAlreadyInSecretBs||!1,credentials:{username:s?.credentials?.username||"",password:s?.credentials?.password||"",apiToken:s?.credentials?.apiToken||"",apiTokenType:s?.credentials?.apiTokenType||"BASIC",aws_creds:s?.credentials?.aws_creds||null,gcp_creds:s?.credentials?.gcp_creds||null,azure_creds:s?.credentials?.azure_creds||null}})},[s]);let t=(e,s)=>{l(r=>({...r,[e]:s}))},c=(0,a.useCallback)(()=>{let{url:e,port:s,version:n,secretName:a,isAlreadyInSecret:l,credentials:d}=r,t={url:e,port:isNaN(parseInt(s))?"0":String(parseInt(s)),version:n,secretName:l?a:"",isAlreadyInSecretBs:l,credentials:{username:d?.username||"",password:d?.password||"",apiToken:d?.apiToken||"",apiTokenType:d?.apiTokenType||"BASIC"}};return d?.aws_creds&&Object.values(d.aws_creds).some(Boolean)&&(t.credentials.aws_creds=d.aws_creds),t.credentials.gcpCreds={serviceAccountKey:d?.gcp_creds?.service_account_key||"",base64Encoded:d?.gcp_creds?.base64_encoded||!1,projectId:d?.gcp_creds?.project_id||"",region:d?.gcp_creds?.region||"",zone:d?.gcp_creds?.zone||""},d?.azure_creds&&Object.values(d.azure_creds).some(Boolean)&&(t.credentials.azure_creds=d.azure_creds),t},[r]);(0,a.useEffect)(()=>{e&&e(c())},[c,e]);let{url:i,port:o,version:p,secretName:m,isAlreadyInSecret:u}=r;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"net_address",className:"labels",children:"Address"}),(0,n.jsx)("input",{id:"net_address",name:"url",type:"text",placeholder:"Enter url",value:i,onChange:e=>t("url",e.target.value),className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"net_port",className:"labels",children:"Port"}),(0,n.jsx)("input",{id:"net_port",name:"port",type:"number",placeholder:"Enter port",value:o,onChange:e=>t("port",e.target.value),className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"net_version",className:"labels",children:"Version"}),(0,n.jsx)("input",{id:"net_version",type:"text",name:"version",placeholder:"Enter version",value:p,onChange:e=>t("version",e.target.value),className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]})]}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center m-4",children:[(0,n.jsx)("input",{id:"isAlreadyInSecretBs",name:"isAlreadyInSecretBs",type:"checkbox",className:"h-4 w-4 text-indigo-600 border-gray-300 rounded accent-orange-700",checked:u,onChange:e=>t("isAlreadyInSecret",e.target.checked)}),(0,n.jsx)("label",{htmlFor:"isAlreadyInSecretBs",className:"ml-2 block text-sm font-medium text-gray-100",children:"Already in Secret Store?"})]}),u&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"secretName",className:"labels",children:"Secret Name"}),(0,n.jsx)("input",{id:"secretName",type:"text",name:"secretName",placeholder:"Enter secret name",value:m,onChange:e=>t("secretName",e.target.value),className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",required:u})]})]})}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(d,{onChange:e=>{l(s=>({...s,credentials:e.credentials}))},isAlreadyInSecret:u,value:{credentials:r.credentials}})})]})}},50591:(e,s,r)=>{r.d(s,{N:()=>l,p:()=>d});var n=r(29341);let a={ENUMS:"/api/v1alpha1/resources-spec",BEDROCKGUARDRAILS:"/api/v1alpha1/aistudio/guardrails-plugins"},l={getEnums:()=>(0,n.Zq)(a.ENUMS,"GET",null)},d={getBedrockGuardrailsApi:()=>(0,n.Zq)(a.BEDROCKGUARDRAILS,"GET",null)}},83613:(e,s,r)=>{function n(e){return e?e.replace(/_/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function a(e,s){return e?!s||s<=0||e.length<=s?e:e.substring(0,s)+"...":""}r.d(s,{E:()=>n,m:()=>a})}};