(()=>{var e={};e.id=220,e.ids=[220],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12530:(e,s,t)=>{"use strict";t.d(s,{$N:()=>o,MX:()=>l,QS:()=>d,ky:()=>i});var a=t(29341);let r={MODELS_REGISTRY:"/api/v1alpha1/aistudio/models"},l={getModelsRegistry:()=>(0,a.Zq)(r.MODELS_REGISTRY,"GET",null),getModelsRegistryID:e=>(0,a.Zq)(`${r.MODELS_REGISTRY}/${e}`,"GET",null)},i={getmodelsRegistryForm:e=>(0,a.Zq)(r.MODELS_REGISTRY,"POST",e)},o={getmodelsRegistryUpdateForm:e=>(0,a.Zq)(r.MODELS_REGISTRY,"PUT",e)},d={getModelsRegistryArchive:e=>(0,a.Zq)(`${r.MODELS_REGISTRY}/${e}`,"DELETE",null)}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19336:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(60687),r=t(43210),l=t(16189),i=t(8222);t(86292);var o=t(74595),d=t(96368),n=t(56723),c=t(24689);function m(){let e=(0,l.useRouter)(),[s,t]=(0,r.useState)("form"),[m,u]=(0,r.useState)(!0),[p,g]=(0,r.useState)(),[b,h]=(0,r.useState)([]),[v,x]=(0,r.useState)({}),[f,y]=(0,r.useState)(""),[j,N]=(0,r.useState)([]),[w,A]=(0,r.useState)(""),[M,k]=(0,r.useState)([]),[S,E]=(0,r.useState)(""),[R,J]=(0,r.useState)([]),[K,P]=(0,r.useState)({logo:"",favicon:"",dmAccessJwtKeys:{name:"",publicJwtKey:"",privateJwtKey:"",vId:"",signingAlgorithm:"",status:""},aiAttributes:{embeddingModelNode:"",embeddingModel:"",generativeModelNode:"",generativeModel:"",guardrailModelNode:"",guardrailModel:""}}),[_,G]=(0,r.useState)({addresses:[],logo:"",description:"",moto:"",favicon:""}),I=(e,s=!0)=>{y(e);let t=b.find(s=>s.modelNodeId===e);console.log("Selected generative node:",t),t?.attributes?.generativeModels?N(t.attributes.generativeModels):N([]),P(t=>({...t,aiAttributes:{...t.aiAttributes,generativeModelNode:e,generativeModel:s?"":t.aiAttributes.generativeModel}}))},T=(e,s=!0)=>{A(e);let t=b.find(s=>s.modelNodeId===e);console.log("Selected guardrail node:",t),console.log("Node attributes:",t?.attributes);let a=[];t?.attributes&&(a=t.attributes.guardrailModels||t.attributes.guardRailModels||t.attributes.generativeModels||[]),console.log("Guardrail models found:",a),k(a),P(t=>({...t,aiAttributes:{...t.aiAttributes,guardrailModelNode:e,guardrailModel:s?"":t.aiAttributes.guardrailModel}}))},L=(e,s=!0)=>{E(e);let t=b.find(s=>s.modelNodeId===e);console.log("Selected embedding node:",t),console.log("Node attributes:",t?.attributes),t?.attributes?.embeddingModels?J(t.attributes.embeddingModels):J([]),console.log("Embedding models found:",t?.attributes?.embeddingModels||[]),P(t=>({...t,aiAttributes:{...t.aiAttributes,embeddingModelNode:e,embeddingModel:s?"":t.aiAttributes.embeddingModel}}))},U=e=>{let{name:s,value:t,type:a,checked:r}=e.target,l=s.split(".");P(e=>{let s={...e},i=s;for(let e=0;e<l.length-1;e++)i[l[e]]||(i[l[e]]={}),i=i[l[e]];let o=l[l.length-1];return"checkbox"===a?i[o]=r:i[o]=t,s}),("logo"===s||"favicon"===s)&&G(e=>({...e,[s]:t}))},F=async s=>{s.preventDefault();try{u(!0);let s={actions:"UPDATE_PROFILE",spec:{profile:_,dmAccessJwtKeys:K.dmAccessJwtKeys,aiAttributes:K.aiAttributes}};console.log("Submitting platform update:",s),await c.$.getplatformUpdate(s),console.log("Platform updated successfully"),i.oR.success("Platform updated successfully!"),setTimeout(()=>{e.push("./")},1e3)}catch(e){console.error("Error updating platform:",e),i.oR.error(e.message||"Failed to update platform")}finally{u(!1)}};return(0,a.jsx)("div",{className:"bg-zinc-800 flex h-screen",children:(0,a.jsxs)("div",{className:"overflow-y-auto scrollbar h-screen w-full",children:[(0,a.jsx)(o.A,{sectionHeader:"Update Platform",hideBackListingLink:!1,backListingLink:"./"}),(0,a.jsx)(d.A,{}),(0,a.jsx)(n.A,{isLoading:m,isOverlay:!0}),(0,a.jsx)("div",{className:"flex-grow p-4 overflow-y-auto w-full",children:(0,a.jsx)("section",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto bg-[#1b1b1b] shadow rounded-lg p-2",children:[(0,a.jsx)("div",{className:"text-gray-100 mb-2 flex justify-center",children:(0,a.jsx)("button",{onClick:()=>t("form"),className:`whitespace-nowrap border-b-2 py-2 px-2 text-md font-medium focus:outline-none ml-4 ${"form"===s?"border-orange-700 text-orange-700 font-semibold":""}`,suppressHydrationWarning:!0,children:"Form"})}),"form"===s&&(0,a.jsx)("div",{id:"formSpec",children:(0,a.jsxs)("form",{id:"platformUpdateForm",className:"space-y-4 border border-zinc-500 rounded-md text-gray-100 p-4",onSubmit:F,children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"logo",className:"labels block text-sm font-medium mb-2",children:"Logo URL"}),(0,a.jsx)("input",{id:"logo",name:"logo",type:"text",placeholder:"Enter logo URL",className:"form-input-field w-full p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm",value:K.logo,onChange:U,suppressHydrationWarning:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"favicon",className:"labels block text-sm font-medium mb-2",children:"Favicon URL"}),(0,a.jsx)("input",{id:"favicon",name:"favicon",type:"text",placeholder:"Enter favicon URL",className:"form-input-field w-full p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm",value:K.favicon,onChange:U,suppressHydrationWarning:!0})]})]}),(0,a.jsxs)("details",{className:"border border-zinc-500 p-4 rounded mb-4",children:[(0,a.jsx)("summary",{className:"text-lg font-semibold cursor-pointer",children:"JWT Params"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"dmAccessJwtKeys.name",className:"labels block text-sm font-medium mb-2",children:"JWT Key Name"}),(0,a.jsx)("input",{id:"dmAccessJwtKeys.name",name:"dmAccessJwtKeys.name",type:"text",placeholder:"Enter JWT key name",className:"form-input-field w-full p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm",value:K.dmAccessJwtKeys.name,onChange:U,suppressHydrationWarning:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"dmAccessJwtKeys.signingAlgorithm",className:"labels block text-sm font-medium mb-2",children:"Signing Algorithm"}),(0,a.jsxs)("select",{id:"dmAccessJwtKeys.signingAlgorithm",name:"dmAccessJwtKeys.signingAlgorithm",className:"mt-1 w-full flex justify-between items-center bg-zinc-700 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700 rounded-md shadow-sm outline-none border-none",value:K.dmAccessJwtKeys.signingAlgorithm,onChange:U,suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Signing Algorithm"}),p?.EncryptionAlgo?.map(e=>a.jsx("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{htmlFor:"dmAccessJwtKeys.publicJwtKey",className:"labels block text-sm font-medium mb-2",children:"Public JWT Key"}),(0,a.jsx)("textarea",{id:"dmAccessJwtKeys.publicJwtKey",name:"dmAccessJwtKeys.publicJwtKey",rows:"3",placeholder:"Enter public JWT key",className:"form-textarea overflow-y-auto scrollbar text-sm rounded-md bg-zinc-700 placeholder-gray-300 p-2 shadow-sm w-full",value:K.dmAccessJwtKeys.publicJwtKey,onChange:U,suppressHydrationWarning:!0})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{htmlFor:"dmAccessJwtKeys.privateJwtKey",className:"labels block text-sm font-medium mb-2",children:"Private JWT Key"}),(0,a.jsx)("textarea",{id:"dmAccessJwtKeys.privateJwtKey",name:"dmAccessJwtKeys.privateJwtKey",rows:"3",placeholder:"Enter private JWT key",className:"form-textarea overflow-y-auto scrollbar text-sm rounded-md bg-zinc-700 placeholder-gray-300 p-2 shadow-sm w-full",value:K.dmAccessJwtKeys.privateJwtKey,onChange:U,suppressHydrationWarning:!0})]})]})]}),(0,a.jsxs)("details",{className:"shadow-sm border border-zinc-500 rounded-md shadow-sm p-4 mb-4",children:[(0,a.jsx)("summary",{className:"text-lg font-semibold text-gray-100 cursor-pointer",children:"Generative AI Params"}),(0,a.jsx)("fieldset",{className:"rounded mb-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"aiAttributes_generativeModelNode",className:"labels",children:"Generative Model Node"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("select",{id:"aiAttributes_generativeModelNode",name:"aiAttributes.generativeModelNode",onChange:e=>I(e.target.value),value:K.aiAttributes.generativeModelNode,className:"mt-1 w-full flex justify-between overflow-y-auto scrollbar items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Model Gateway"}),b.map(e=>(0,a.jsx)("option",{value:e.modelNodeId,className:"text-sm",children:e.name},e.modelNodeId))]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"aiAttributes_generativeModel",className:"labels",children:"Generative Model"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("select",{id:"aiAttributes_generativeModel",name:"aiAttributes.generativeModel",value:K.aiAttributes.generativeModel,onChange:U,className:"mt-1 w-full flex justify-between overflow-y-auto scrollbar items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Model"}),j.map(e=>(0,a.jsx)("option",{value:e.modelId,className:"text-sm",children:e.modelName},e.modelId))]})})]})]})})]}),(0,a.jsxs)("details",{className:"shadow-sm border border-zinc-500 rounded-md shadow-sm p-4 mb-4",children:[(0,a.jsx)("summary",{className:"text-lg font-semibold text-gray-100 cursor-pointer",children:"Embedding Generator AI Params"}),(0,a.jsx)("fieldset",{className:"rounded mb-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"aiAttributes_embeddingModelNode",className:"labels",children:"Embedding Model Node"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("select",{id:"aiAttributes_embeddingModelNode",name:"aiAttributes.embeddingModelNode",onChange:e=>L(e.target.value),value:K.aiAttributes.embeddingModelNode,className:"mt-1 w-full flex justify-between overflow-y-auto scrollbar items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Model Gateway"}),b.map(e=>(0,a.jsx)("option",{value:e.modelNodeId,className:"text-sm",children:e.name},e.modelNodeId))]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"aiAttributes_embeddingModel",className:"labels",children:"Embedding Model"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("select",{id:"aiAttributes_embeddingModel",name:"aiAttributes.embeddingModel",value:K.aiAttributes.embeddingModel,onChange:U,className:"mt-1 w-full flex justify-between overflow-y-auto scrollbar items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Model"}),R.length>0?R.map(e=>(0,a.jsx)("option",{value:e.modelId,className:"text-sm",children:e.modelName},e.modelId)):(0,a.jsx)("option",{disabled:!0,className:"text-gray-500",children:S?"No models available":"Select a node first"})]})})]})]})})]}),(0,a.jsxs)("details",{className:"shadow-sm border border-zinc-500 rounded-md shadow-sm p-4 mb-4",children:[(0,a.jsx)("summary",{className:"text-lg font-semibold text-gray-100 cursor-pointer",children:"Guardrail AI Params"}),(0,a.jsx)("fieldset",{className:"rounded mb-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"aiAttributes_guardrailModelNode",className:"labels",children:"Guardrail Model Node"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("select",{id:"aiAttributes_guardrailModelNode",name:"aiAttributes.guardrailModelNode",onChange:e=>T(e.target.value),value:K.aiAttributes.guardrailModelNode,className:"mt-1 w-full flex justify-between overflow-y-auto scrollbar items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Model Gateway"}),b.map(e=>(0,a.jsx)("option",{value:e.modelNodeId,className:"text-sm",children:e.name},e.modelNodeId))]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"aiAttributes_guardrailModel",className:"labels",children:"Guardrail Model"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("select",{id:"aiAttributes_guardrailModel",name:"aiAttributes.guardrailModel",value:K.aiAttributes.guardrailModel,onChange:U,className:"mt-1 w-full flex justify-between overflow-y-auto scrollbar items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Model"}),M.length>0?M.map(e=>(0,a.jsx)("option",{value:e.modelId,className:"text-sm",children:e.modelName},e.modelId)):(0,a.jsx)("option",{disabled:!0,className:"text-gray-500",children:w?"No models available":"Select a node first"})]})})]})]})})]}),(0,a.jsx)("div",{className:"mt-6 flex justify-end",children:(0,a.jsx)("button",{type:"submit",disabled:m,className:`px-6 py-2 bg-orange-700 text-white rounded-md shadow ${m?"opacity-50 cursor-not-allowed":"hover:bg-pink-900"}`,suppressHydrationWarning:!0,children:m?"Updating...":"Update"})})]})})]})})})]})})}t(50591),t(12530)},24689:(e,s,t)=>{"use strict";t.d(s,{$:()=>i,y:()=>l});var a=t(29341);let r={PLATFORM:"/api/v1alpha1/platform"},l={getPlatform:()=>(0,a.Zq)(r.PLATFORM,"GET",null)},i={getplatformUpdate:e=>(0,a.Zq)(r.PLATFORM,"POST",e)}},25815:(e,s,t)=>{Promise.resolve().then(t.bind(t,19336))},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},50591:(e,s,t)=>{"use strict";t.d(s,{N:()=>l,p:()=>i});var a=t(29341);let r={ENUMS:"/api/v1alpha1/resources-spec",BEDROCKGUARDRAILS:"/api/v1alpha1/aistudio/guardrails-plugins"},l={getEnums:()=>(0,a.Zq)(r.ENUMS,"GET",null)},i={getBedrockGuardrailsApi:()=>(0,a.Zq)(r.BEDROCKGUARDRAILS,"GET",null)}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70498:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/settings/platform/update/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/settings/platform/update/page.js","default")},79551:e=>{"use strict";e.exports=require("url")},84974:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>n});var a=t(65239),r=t(48088),l=t(88170),i=t.n(l),o=t(30893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(s,d);let n={children:["",{children:["settings",{children:["platform",{children:["update",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,70498)),"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/settings/platform/update/page.js"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,75535)),"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,28069)),"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/not-found.js"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/settings/platform/update/page.js"],m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/settings/platform/update/page",pathname:"/settings/platform/update",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},88863:(e,s,t)=>{Promise.resolve().then(t.bind(t,70498))}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[4447,8259,4291,3124,4595],()=>t(84974));module.exports=a})();