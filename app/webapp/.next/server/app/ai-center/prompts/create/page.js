(()=>{var e={};e.id=9526,e.ids=[9526],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11306:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var r=a(60687),t=a(74595),l=a(56723),n=a(96368),o=a(78907),i=a(63995),p=a(16189),c=a(43210),d=a(8222);function m(){let e=(0,p.useRouter)(),[s,a]=(0,c.useState)("form"),[m,u]=(0,c.useState)(!1),[x,h]=(0,c.useState)(!1),[g,b]=(0,c.useState)({name:"",promptTypes:[],spec:{variables:[],userMessage:"",systemMessage:"",sample:{inputText:"",response:""},tools:[]},labels:[]}),y=(0,c.useRef)(null),v=(0,c.useRef)(null),f=(0,c.useRef)(null),j=(0,c.useRef)(null),w=(0,c.useRef)(null),N=async s=>{s.preventDefault();try{u(!0);let s={name:g.name,promptTypes:g.promptTypes,spec:{variables:g.spec.variables,userMessage:g.spec.userMessage,systemMessage:g.spec.systemMessage,sample:{inputText:g.spec.sample.inputText,response:g.spec.sample.response},tools:g.spec.tools},labels:g.labels};console.log("Form Data:",s),(await i.UG.getPromptsForm({spec:s})).result?(d.oR.success("Prompt created successfully."),setTimeout(()=>{e.push("/ai-center/prompts")},1e3)):d.oR.success("Resource Created","Resource created successfully.")}catch(e){console.error("Error sending API request:",e),d.oR.error("Failed to create Prompt. Please try again.")}finally{u(!1)}},k=(e,s)=>{if(s.trim()){if(("variables"===e?g.spec.variables:"promptTypes"===e?g.promptTypes:g.labels).length>=4){d.oR.error("Tag Limit, Field cannot be greater than 4");return}b(a=>"variables"===e?{...a,spec:{...a.spec,variables:[...a.spec.variables,s.trim()]}}:"promptTypes"===e?{...a,promptTypes:[...a.promptTypes,s.trim()]}:"labels"===e?{...a,labels:[...a.labels,s.trim()]}:a)}},T=(e,s)=>{b(a=>"variables"===e?{...a,spec:{...a.spec,variables:a.spec.variables.filter((e,a)=>a!==s)}}:"promptTypes"===e?{...a,promptTypes:a.promptTypes.filter((e,a)=>a!==s)}:"labels"===e?{...a,labels:a.labels.filter((e,a)=>a!==s)}:a)},P=(e,s)=>{"Enter"===e.key&&(e.preventDefault(),k(s,e.target.value),e.target.value="")};return(0,r.jsx)("div",{className:"bg-zinc-800 flex h-screen",children:(0,r.jsxs)("div",{className:"overflow-y-auto scrollbar h-screen w-full",children:[(0,r.jsx)(t.A,{sectionHeader:"Build Your Prompt",hideBackListingLink:!1,backListingLink:"./"}),(0,r.jsx)(n.A,{}),(0,r.jsx)(l.A,{isLoading:m,isOverlay:!0}),(0,r.jsx)("div",{className:"flex-grow p-4 overflow-y-auto w-full",children:(0,r.jsx)("section",{id:"grids",className:"space-y-2",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto bg-[#1b1b1b] shadow rounded-lg p-2",children:[(0,r.jsx)("div",{className:" mb-2 flex justify-center",children:(0,r.jsx)("button",{onClick:()=>a("form"),className:`whitespace-nowrap text-gray-100 border-b-2 py-2 px-2 text-md font-medium focus:outline-none ml-4 ${"form"===s?"border-orange-700 text-orange-700 font-semibold":"border-black"}`,suppressHydrationWarning:!0,children:"Form"})}),"yaml"===s?(0,r.jsx)("div",{id:"yamlSpec",children:(0,r.jsx)("div",{className:"p-4 bg-zinc-700 rounded text-gray-100",children:"YAML Editor placeholder - would need the actual YAML editor component"})}):(0,r.jsx)("div",{id:"formSpec",children:(0,r.jsxs)("form",{onSubmit:N,className:"space-y-2 border border-zinc-500 rounded-md text-gray-100 p-2",children:[(0,r.jsxs)("fieldset",{className:"p-4 rounded",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"labels",children:"Name"}),(0,r.jsx)("input",{id:"name",name:"name",type:"text",placeholder:"Enter name",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",value:g.name,onChange:e=>b({...g,name:e.target.value}),suppressHydrationWarning:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"labels",children:"Prompt Types"}),(0,r.jsx)("input",{type:"text",ref:v,placeholder:"Enter Prompt Types",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",onKeyDown:e=>P(e,"promptTypes"),suppressHydrationWarning:!0}),(0,r.jsx)("ul",{className:"flex flex-wrap gap-2 mt-1",children:g.promptTypes.map((e,s)=>(0,r.jsxs)("li",{className:"text-purple-800 bg-purple-100 px-2 py-1 rounded-lg flex items-center",children:[e,(0,r.jsx)("button",{type:"button",className:"ml-2 text-purple-800 cursor-pointer",onClick:()=>T("promptTypes",s),children:"\xd7"})]},s))})]})]}),(0,r.jsxs)("fieldset",{className:"rounded mb-4 border border-zinc-600 rounded-md shadow-sm p-4",children:[(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("label",{className:"labels",children:"Variable"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"text",ref:y,placeholder:"Enter Variables",className:"form-input-field rounded-md p-2 bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 w-full mt-2",onKeyDown:e=>P(e,"variables"),suppressHydrationWarning:!0}),(0,r.jsx)("ul",{className:"flex flex-wrap gap-2 mt-1",children:g.spec.variables.map((e,s)=>(0,r.jsxs)("li",{className:"text-purple-800 bg-purple-100 px-2 py-1 rounded-lg flex items-center",children:[e,(0,r.jsx)("button",{type:"button",className:"ml-2 text-purple-800 cursor-pointer",onClick:()=>T("variables",s),children:"\xd7"})]},s))})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 mt-6 md:grid-cols-1 gap-4",children:(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("label",{className:"labels",children:"User Message"}),(0,r.jsx)("textarea",{id:"myTextarea-2",ref:j,name:"userMessage",rows:"4",placeholder:"Enter User Message",className:"form-textarea overflow-y-auto scrollbar text-sm rounded-md bg-zinc-700 placeholder-gray-300 p-2 shadow-sm w-full",value:g.spec.userMessage,onChange:e=>b({...g,spec:{...g.spec,userMessage:e.target.value}})})]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 mt-6 md:grid-cols-1 gap-4",children:(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("label",{className:"labels",children:"System Message"}),(0,r.jsx)("textarea",{id:"myTextarea-1",ref:w,name:"systemMessage",rows:"4",placeholder:"Enter System Message",className:"form-textarea overflow-y-auto scrollbar text-sm rounded-md bg-zinc-700 placeholder-gray-300 p-2 shadow-sm w-full",value:g.spec.systemMessage,onChange:e=>b({...g,spec:{...g.spec,systemMessage:e.target.value}})})]})}),(0,r.jsxs)("fieldset",{className:"rounded mt-6 mb-4",children:[(0,r.jsx)("legend",{className:"text-lg font-semibold text-gray-100",children:"Sample"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"labels",children:"Input Text"}),(0,r.jsx)("input",{name:"inputText",type:"text",placeholder:"Enter Input Text",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",value:g.spec.sample.inputText,suppressHydrationWarning:!0,onChange:e=>b({...g,spec:{...g.spec,sample:{...g.spec.sample,inputText:e.target.value}}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"labels",children:"Response"}),(0,r.jsx)("input",{name:"response",type:"text",placeholder:"Enter Response",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",value:g.spec.sample.response,suppressHydrationWarning:!0,onChange:e=>b({...g,spec:{...g.spec,sample:{...g.spec.sample,response:e.target.value}}})})]})]})]}),(0,r.jsx)("div",{id:"Labels",className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("label",{className:"labels",children:"Labels"}),(0,r.jsx)("input",{type:"text",ref:f,placeholder:"Enter Labels",className:"form-input-field rounded-md p-2 bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 w-full mt-2",onKeyDown:e=>P(e,"labels"),suppressHydrationWarning:!0}),(0,r.jsx)("ul",{className:"flex flex-wrap gap-2 mt-1",children:g.labels.map((e,s)=>(0,r.jsxs)("li",{className:"text-yellow-800 bg-yellow-100 px-2 py-1 rounded-lg flex items-center",children:[e,(0,r.jsx)("button",{type:"button",className:"ml-2 text-yellow-800 cursor-pointer",onClick:()=>T("labels",s),children:"\xd7"})]},s))})]})}),(0,r.jsxs)("div",{id:"toolCall",className:"flex mt-2 mb-2",children:[(0,r.jsx)("button",{id:"addToolCallButton",type:"button",onClick:()=>{h(!0)},className:"bg-orange-700 w-full px-2 py-2 text-sm rounded-lg focus:outline-none cursor-pointer",suppressHydrationWarning:!0,children:"Add Tool Call"}),(0,r.jsx)(o.A,{isOpen:x,onClose:()=>{h(!1)},onAddTool:e=>{console.log("Tool data received:",e),b(s=>{let a=[...s.spec.tools,e];return console.log("Updated tools array:",a),{...s,spec:{...s.spec,tools:a}}})}})]})]})]}),(0,r.jsx)("div",{className:"mt-4 flex justify-end space-x-2",children:m?(0,r.jsx)("button",{type:"button",className:"px-6 py-2 bg-orange-700 text-white rounded-md shadow",disabled:!0,children:(0,r.jsxs)("svg",{className:"animate-spin h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}):(0,r.jsx)("button",{type:"submit",className:"px-6 py-2 bg-orange-700 text-white rounded-md shadow hover:bg-pink-900",suppressHydrationWarning:!0,children:"Submit"})})]})})]})})})]})})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},56808:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/ai-center/prompts/create/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/ai-center/prompts/create/page.js","default")},61058:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>d,pages:()=>c,routeModule:()=>m,tree:()=>p});var r=a(65239),t=a(48088),l=a(88170),n=a.n(l),o=a(30893),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);a.d(s,i);let p={children:["",{children:["ai-center",{children:["prompts",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,56808)),"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/ai-center/prompts/create/page.js"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,75535)),"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(a.bind(a,28069)),"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/not-found.js"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/ai-center/prompts/create/page.js"],d={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/ai-center/prompts/create/page",pathname:"/ai-center/prompts/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63995:(e,s,a)=>{"use strict";a.d(s,{UG:()=>n,bl:()=>o,eM:()=>l,tW:()=>i});var r=a(29341);let t={PROMPTS:"/api/v1alpha1/aistudio/prompts"},l={getPrompts:()=>(0,r.Zq)(t.PROMPTS,"GET",null),getPromptsId:e=>(0,r.Zq)(`${t.PROMPTS}/${e}`,"GET",null)},n={getPromptsForm:e=>(0,r.Zq)(t.PROMPTS,"POST",e)},o={getPromptsUpdteForm:e=>(0,r.Zq)(t.PROMPTS,"PUT",e)},i={getPromptArchive:e=>(0,r.Zq)(`${t.PROMPTS}/${e}`,"DELETE",null)}},66797:(e,s,a)=>{Promise.resolve().then(a.bind(a,56808))},78907:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});var r=a(60687),t=a(43210);function l(e){let[s,a]=(0,t.useState)(e?"loading":"idle");return s}function n({isOpen:e,onClose:s,onAddTool:a,existingTools:n=null,editingIndex:o=-1}){let[i,p]=(0,t.useState)("plainJSON"),[c,d]=(0,t.useState)(null),[m,u]=(0,t.useState)(""),[x,h]=(0,t.useState)(""),[g,b]=(0,t.useState)(""),[y,v]=(0,t.useState)(JSON.stringify({schema:"Tool schema will appear here"},null,2)),f=(0,t.useRef)(null),j=-1!==o;l("https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"),l("https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/theme-twilight.js"),l("https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-json.js");let w=e=>{p(e)},N=e=>{if(null===e)return{type:"null"};if(Array.isArray(e))return 0===e.length?{type:"array",items:{}}:{type:"array",items:N(e[0])};if("object"==typeof e){let s={type:"object",properties:{},required:[]};for(let a in e)Object.hasOwnProperty.call(e,a)&&(s.properties[a]=N(e[a]),s.required.push(a));return s}return"string"==typeof e?{type:"string"}:"number"==typeof e?{type:"number"}:"boolean"==typeof e?{type:"boolean"}:{}};return e?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"fixed inset-0 bg-zinc-600/80 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-zinc-800 rounded-lg shadow-lg w-3/4 h-3/4 md:w-1/2 overflow-y-auto scrollbar text-gray-100",children:[(0,r.jsxs)("div",{className:"bg-zinc-900 px-4 py-2 flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-lg font-bold",children:j?"Update AI Tool":"Add AI Tool"}),(0,r.jsx)("button",{className:"text-gray-100 cursor-pointer text-lg",type:"button",onClick:s,children:"\xd7"})]}),(0,r.jsx)("div",{className:"px-4 py-2 flex justify-between items-center",children:(0,r.jsx)("input",{type:"text",placeholder:"Enter function name...",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",value:m,onChange:e=>u(e.target.value)})}),(0,r.jsx)("div",{className:"px-4 py-2 flex justify-between items-center",children:(0,r.jsx)("input",{type:"text",placeholder:"Enter description name...",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",value:x,onChange:e=>h(e.target.value)})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("button",{type:"button",className:`w-1/2 py-2 text-center ${"plainJSON"===i?"text-orange-700":"hover:text-orange-700 hover:border-orange-700 cursor-pointer"}`,onClick:()=>w("plainJSON"),children:"Plain JSON"}),(0,r.jsx)("button",{type:"button",className:`w-1/2 py-2 text-center ${"toolSchema"===i?"text-orange-700":"hover:text-orange-700 hover:border-orange-700 cursor-pointer"}`,onClick:()=>w("toolSchema"),children:"Tool Schema"})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:`tab-content ${"plainJSON"!==i?"hidden":""}`,children:[(0,r.jsx)("textarea",{className:"form-textarea overflow-y-auto scrollbar text-sm rounded-md bg-zinc-700 placeholder-gray-500 p-2 shadow-sm w-full",rows:"9",placeholder:"Enter JSON here, and convert it to json Schema by clicking the button below...",value:g,onChange:e=>b(e.target.value)}),(0,r.jsx)("button",{onClick:()=>{try{let e=JSON.parse(g),s=N(e),a=JSON.stringify(s,null,2);v(a),c&&(c.setValue(a),c.clearSelection()),w("toolSchema")}catch(e){console.error(e)}},type:"button",className:"bg-zinc-900 text-gray-100 px-4 py-2 mt-3 text-sm rounded-lg hover:bg-zinc-900 cursor-pointer",children:"Convert to JSON Schema"})]}),(0,r.jsx)("div",{className:`tab-content ${"toolSchema"!==i?"hidden":""}`,children:(0,r.jsx)("div",{ref:f,className:"w-full scrollbar border border-zinc-600 rounded",style:{height:"300px"}})})]})]}),(0,r.jsxs)("div",{className:"px-4 py-2 flex justify-end",children:[(0,r.jsx)("button",{className:"bg-zinc-900 text-gray-100 px-4 py-2 rounded hover:bg-gray-600 mr-2 cursor-pointer",type:"button",onClick:s,children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{try{a({schema:{name:m,parameters:y,description:x},rawJsonParams:g,autoGenerate:!1}),s()}catch(e){console.error("Error saving tool schema:",e)}},type:"button",className:"bg-orange-700 text-gray-100 px-4 py-2 rounded hover:bg-zinc-900 cursor-pointer",children:j?"Update":"Add"})]})]})})}):null}},79551:e=>{"use strict";e.exports=require("url")},90765:(e,s,a)=>{Promise.resolve().then(a.bind(a,11306))}};var s=require("../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[4447,8259,4291,3124,4595],()=>a(61058));module.exports=r})();