(()=>{var e={};e.id=621,e.ids=[621],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11521:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var a=r(60687),t=r(43210),n=r(16189),l=r(95282),i=r.n(l),o=r(8222);r(86292);var d=r(74595),c=r(35262);r(12530);var p=r(96368),m=r(56723),u=r(94342),x=r(27685),h=r(77888),g=r(50591),f=r(83613);function b(){let e=(0,n.useRouter)(),[s,r]=(0,t.useState)("form"),[l,b]=(0,t.useState)(1),[v,j]=(0,t.useState)(1),[y,w]=(0,t.useState)(1),[N,S]=(0,t.useState)({}),[k,E]=(0,t.useState)(""),[_,C]=(0,t.useState)([]),[A,R]=(0,t.useState)(!1),[I,G]=(0,t.useState)([]),[M,L]=(0,t.useState)([]),[T,z]=(0,t.useState)("vapus"),[$,D]=(0,t.useState)([]),[F,O]=(0,t.useState)({}),[W,H]=(0,t.useState)([]),[P,q]=(0,t.useState)([]),[B,U]=(0,t.useState)([]),Z=async e=>{let s=e.target.value;if(z(s),L([]),"bedrock"===s||"pangea"===s||"mistral"===s)try{R(!0);let e=await g.p.getBedrockGuardrailsApi(),s=e.bedrockOutput||[],r=e.pangeaOutput||[],a=e.mistralOutput||[];H(s),q(r),U(a),console.log("Bedrock guardrails:",s),console.log("Pangea guardrails:",r),console.log("Mistral guardrails:",a)}catch(e){console.error("Failed to fetch guardrails:",e),o.oR.error("Failed to fetch guardrails"),H([]),q([]),U([])}finally{R(!1)}else H([]),q([]),U([])},[Y,K]=(0,t.useState)([{words:"",fileLocation:""}]),[V,X]=(0,t.useState)([{piiType:"",action:"",regex:""}]),[J,Q]=(0,t.useState)([{topic:"",description:"",samples:[]}]),[ee,es]=(0,t.useState)({AIGuardrailScanMode:[],ResourceScope:[],GuardRailLevels:[]}),er=e=>{L(s=>s.some(s=>s.id===e.id)?s.filter(s=>s.id!==e.id):[...s,e])},ea=e=>{let s=M.some(s=>s.id===e.id);return console.log(`Checking if ${e.name||e.id} is selected:`,s),s},et=e=>{E(e);let s=I.find(s=>s.modelNodeId===e);s?.attributes?.generativeModels?C(s.attributes.generativeModels):C([])},en=e=>{let s=[...J];s.splice(e,1),Q(s),b(e=>e-1)},el=e=>{let s=[...Y];s.splice(e,1),K(s),j(e=>e-1)},ei=e=>{let s=[...V];s.splice(e,1),X(s),w(e=>e-1)},eo=e=>{let s={spec:{displayName:"",name:"",minConfidence:0,maxConfidence:0,description:"",failureMessage:"",scanMode:"BIDIRECTIONAL",resourceBase:{createdAt:"0",createdBy:"",deletedAt:"0",deletedBy:"",updatedAt:"0",updatedBy:"",organization:"",account:"",status:"",owners:[],scope:"ORGANIZATION_SCOPE",labels:[],editors:[]},contents:{hateSpeech:"NONE",insults:"NONE",sexual:"NONE",threats:"NONE",misconduct:"NONE"},topics:[{topic:"",samples:[],description:""}],words:[{words:[],fileLocation:""}],sensitiveDataset:[{piiType:"",action:"",regex:""}],guardModel:{modelNodeId:"",modelId:""},guardrailId:"",schema:"",eligibleModelNodes:[],partner:[{bedrock:[],mistral:[],pangea:[]}]}};for(let[r,a]of e.entries())if(r.startsWith("spec.")){let e=r.substring(5).split("."),t=s.spec,n="";for(let s=0;s<e.length;s++){let r=e[s];n+=r;let l=r.match(/([^\[]+)(?:\[(\d+)\])?(.*)$/);if(l){let r=l[1],i=l[2]?parseInt(l[2]):null,o=l[3];if(t[r]||(null!==i?t[r]=[]:t[r]={}),null!==i){for(;t[r].length<=i;)n.includes("topics")?t[r].push({topic:"",samples:[],description:""}):n.includes("words")?t[r].push({words:[],fileLocation:""}):n.includes("sensitiveDataset")?t[r].push({piiType:"",action:"",regex:""}):t[r].push({});s===e.length-1?o?t[r][i][o.substring(1)]=a:t[r][i]=a:t=t[r][i]}else s===e.length-1?t[r]=a:t=t[r]}}}return s.spec},ed=e=>{if(null===e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(ed);let s={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&("minConfidence"===r||"maxConfidence"===r?s[r]=parseFloat(e[r]):"object"==typeof e[r]&&null!==e[r]?s[r]=ed(e[r]):s[r]=e[r]);return s},ec=async s=>{s.preventDefault();try{R(!0);let r=new FormData(s.target),a=eo(r);document.querySelectorAll('[name^="spec.topics"][name$=".samples"]').forEach(e=>{let s=e.name.match(/\[(\d+)\]/);if(s&&s[1]){let r=parseInt(s[1]),t=e.value?e.value.split(",").map(e=>e.trim()):[];a.topics[r].samples=t}}),document.querySelectorAll('[name^="spec.words"][name$=".words"]').forEach(e=>{let s=e.name.match(/\[(\d+)\]/);if(s&&s[1]){let r=parseInt(s[1]),t=e.value?e.value.split(",").map(e=>e.trim()):[];a.words[r].words=t}}),(a=ed(a)).scanMode||(a.scanMode="BIDIRECTIONAL"),a.resourceBase&&a.resourceBase.scope||(a.resourceBase=a.resourceBase||{},a.resourceBase.scope="ORGANIZATION_SCOPE");let t=[];if(M&&M.length>0){let e={};"bedrock"===T?e.bedrock=M:"mistral"===T?e.mistral=M:"pangea"===T&&(e.pangea=M),Object.keys(e).length>0&&t.push(e)}a.partner=t,delete a.guardrailType;let n={spec:a};console.log("Payload:",n);let l=await u.yg.getGuardrailForm(n);console.log("Resource created:",l);let i=l.result;i?(o.oR.success("Guardrail created successfully.",`${i.resource} Resource created successfully.`),setTimeout(()=>{e.push("/ai-center/guardrails")},1e3)):o.oR.success("Resource Created","Resource created successfully.")}catch(e){console.error("Error sending API request:",e),o.oR.error("Failed to create guardrail. Please try again.")}finally{R(!1)}};return(0,a.jsxs)("div",{className:"bg-zinc-800 flex h-screen",children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Create AI Guardrail"}),(0,a.jsx)("meta",{name:"description",content:"Create a new AI guardrail"})]}),(0,a.jsxs)("div",{className:"overflow-y-auto scrollbar h-screen w-full",children:[(0,a.jsx)(d.A,{sectionHeader:"Create Guardrail",hideBackListingLink:!1,backListingLink:"./"}),(0,a.jsx)(p.A,{}),(0,a.jsx)(m.A,{isLoading:A,isOverlay:!0}),(0,a.jsx)("div",{className:"flex-grow p-4 overflow-y-auto w-full",children:(0,a.jsx)("section",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto bg-[#1b1b1b] shadow rounded-lg p-2",children:[(0,a.jsx)("div",{className:"text-gray-100 mb-2 flex justify-center",children:(0,a.jsx)("button",{onClick:()=>r("form"),className:`whitespace-nowrap border-b-2 py-2 px-2 text-md font-medium focus:outline-none ml-4 ${"form"===s?"border-orange-700 text-orange-700 font-semibold":""}`,suppressHydrationWarning:!0,children:"Form"})}),"yaml"===s&&(0,a.jsx)("div",{id:"yamlSpec",children:(0,a.jsx)(c.A,{})}),"form"===s&&(0,a.jsx)("div",{id:"formSpec",children:(0,a.jsx)("form",{id:"dataSourceSpec",className:"space-y-2 border border-zinc-500 rounded-md text-gray-100 p-2",onSubmit:ec,children:(0,a.jsxs)("fieldset",{className:"p-4 rounded",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"spec_name",className:"labels",children:"Name"}),(0,a.jsx)("input",{id:"spec_name",name:"spec.name",type:"text",placeholder:"Enter name",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",required:!0,suppressHydrationWarning:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"spec_scanMode",className:"block text-sm font-medium mb-1",children:"Guardrail Type"}),(0,a.jsx)("select",{id:"spec_guardrailType",name:"spec.guardrailType",className:"w-full flex justify-between items-center bg-zinc-800 px-4 py-2 text-sm font-medium rounded border border-zinc-700 focus:ring-1 focus:ring-orange-700 focus:outline-none",value:T,onChange:Z,suppressHydrationWarning:!0,children:$.map(e=>(0,a.jsx)("option",{value:e,children:(0,f.E)(e)},e))})]})]}),("vapus"===T||"bedrock"===T||"mistral"===T||"pangea"===T)&&(0,a.jsxs)("div",{className:"shadow-sm border border-zinc-500 rounded-md shadow-sm p-4 mb-4",children:[(0,a.jsx)("legend",{className:"text-xl font-bold text-gray-100",children:"vapus"===T?"Vapus Guardrails":`${T} Available Guardrails`}),"vapus"===T&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"spec_minConfidence",className:"labels",children:"Minimum Confidence"}),(0,a.jsx)("input",{id:"spec_minConfidence",name:"spec.minConfidence",type:"number",step:"0.001",placeholder:"Enter Minimum Confidence",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",required:!0,suppressHydrationWarning:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"spec_maxConfidence",className:"labels",children:"Maximum Confidence"}),(0,a.jsx)("input",{id:"spec_maxConfidence",name:"spec.maxConfidence",type:"number",step:"0.001",placeholder:"Enter Maximum Confidence",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",required:!0,suppressHydrationWarning:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"spec_Description",className:"labels",children:"Description"}),(0,a.jsx)("textarea",{id:"spec_Description",name:"spec.description",placeholder:"Enter Description",rows:"3",className:"form-textarea overflow-y-auto scrollbar text-sm rounded-md bg-zinc-700 placeholder-gray-300 p-2 shadow-sm w-full"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"spec_failureMessage",className:"labels",children:"Failure Message"}),(0,a.jsx)("textarea",{id:"spec_failureMessage",name:"spec.failureMessage",placeholder:"Enter failureMessage",rows:"3",className:"form-textarea overflow-y-auto scrollbar text-sm rounded-md bg-zinc-700 placeholder-gray-300 p-2 shadow-sm w-full"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"spec_scanMode",className:"labels",children:"Scan Mode"}),(0,a.jsxs)("select",{id:"spec_scanMode",name:"spec.scanMode",className:"mt-1 w-full flex justify-between items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Scan Mode"}),ee.AIGuardrailScanMode.map(e=>(0,a.jsx)("option",{value:e,children:(0,f.E)(e)},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"spec_scope",className:"labels",children:"Scope"}),(0,a.jsxs)("select",{id:"spec_scope",name:"spec.resourceBase.scope",className:"mt-1 w-full flex justify-between items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Scope"}),ee.ResourceScope.map(e=>(0,a.jsx)("option",{value:e,children:(0,f.E)(e)},e))]})]})]}),(0,a.jsxs)("details",{className:"shadow-sm border border-zinc-500 rounded-md shadow-sm p-4 mb-4",children:[(0,a.jsx)("summary",{className:"text-lg font-semibold text-gray-100 cursor-pointer",children:"Contents"}),(0,a.jsx)("fieldset",{className:"rounded mb-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"spec_ContentsHatespeech",className:"labels",children:"Hate Speech Level"}),(0,a.jsxs)("select",{id:"spec_ContentsHatespeech",name:"spec.contents.hateSpeech",className:"mt-1 w-full flex justify-between items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Hate Speech Level"}),ee.GuardRailLevels.map(e=>(0,a.jsx)("option",{value:e,children:(0,f.E)(e)},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"spec_ContentsInsults",className:"labels",children:"Insults Level"}),(0,a.jsxs)("select",{id:"spec_ContentsInsults",name:"spec.contents.insults",className:"mt-1 w-full flex justify-between items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Insults Level"}),ee.GuardRailLevels.map(e=>(0,a.jsx)("option",{value:e,children:(0,f.E)(e)},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"spec_ContentsSexual",className:"labels",children:"Sexual Harassment Level"}),(0,a.jsxs)("select",{id:"spec_ContentsSexual",name:"spec.contents.sexual",className:"mt-1 w-full flex justify-between items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Sexual Harassment Level"}),ee.GuardRailLevels.map(e=>(0,a.jsx)("option",{value:e,children:(0,f.E)(e)},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"spec_ContentsThreats",className:"labels",children:"Threats Level"}),(0,a.jsxs)("select",{id:"spec_ContentsThreats",name:"spec.contents.threats",className:"mt-1 w-full flex justify-between items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Threats Level"}),ee.GuardRailLevels.map(e=>(0,a.jsx)("option",{value:e,children:(0,f.E)(e)},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"spec_ContentsMisconduct",className:"labels",children:"Misconduct Level"}),(0,a.jsxs)("select",{id:"spec_ContentsMisconduct",name:"spec.contents.misconduct",className:"mt-1 w-full flex justify-between items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Misconduct Level"}),ee.GuardRailLevels.map(e=>(0,a.jsx)("option",{value:e,children:(0,f.E)(e)},e))]})]})]})})]}),(0,a.jsxs)("details",{className:"shadow-sm border border-zinc-500 rounded-md shadow-sm p-4 mb-4",children:[(0,a.jsx)("summary",{className:"text-lg font-semibold text-gray-100 cursor-pointer",children:"Topics"}),(0,a.jsxs)("fieldset",{className:"rounded mb-4",children:[(0,a.jsx)("div",{children:Array.from({length:l}).map((e,s)=>(0,a.jsxs)("div",{className:"shadow-sm border border-zinc-500 rounded-md shadow-sm p-4 mb-4",children:[(0,a.jsx)("label",{htmlFor:`spec_Topics_${s}_topic`,className:"labels",children:"Topic Name"}),(0,a.jsx)("input",{id:`spec_Topics_${s}_topic`,name:`spec.topics[${s}].topic`,type:"text",placeholder:"Enter topic name",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full mb-2",suppressHydrationWarning:!0}),(0,a.jsx)("label",{htmlFor:`spec_Topics_${s}_description`,className:"labels",children:"Topic Description"}),(0,a.jsx)("textarea",{id:`spec_Topics_${s}_description`,name:`spec.topics[${s}].description`,placeholder:"Enter description",className:"form-textarea overflow-y-auto scrollbar text-sm rounded-md bg-zinc-700 placeholder-gray-300 p-2 shadow-sm w-full"}),(0,a.jsx)("label",{htmlFor:`spec_Topics_${s}_samples`,className:"labels",children:"Topic Samples"}),(0,a.jsx)("input",{id:`spec_Topics_${s}_samples`,name:`spec.topics[${s}].samples`,type:"text",placeholder:"Enter samples (comma separated)",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0}),s>0&&(0,a.jsx)(h.A,{onClick:()=>en(s)})]},`topic-${s}`))}),(0,a.jsx)(x.A,{onClick:()=>{Q([...J,{topic:"",description:"",samples:[]}]),b(e=>e+1)},name:"+ Add Topic"})]})]}),(0,a.jsxs)("details",{className:"shadow-sm border border-zinc-500 rounded-md shadow-sm p-4 mb-4",children:[(0,a.jsx)("summary",{className:"text-lg font-semibold text-gray-100 cursor-pointer",children:"Words"}),(0,a.jsxs)("fieldset",{className:"rounded mb-4",children:[(0,a.jsx)("div",{id:"wordsContainer",children:Array.from({length:v}).map((e,s)=>(0,a.jsxs)("div",{className:"word-entry border p-3 rounded mb-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"labels",children:"Words (comma separated)"}),(0,a.jsx)("input",{type:"text",name:`spec.words[${s}].words`,placeholder:"Enter words (comma separated)",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"labels",children:"File Location"}),(0,a.jsx)("input",{type:"text",name:`spec.words[${s}].fileLocation`,placeholder:"Enter file location",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]})]}),s>0&&(0,a.jsx)(h.A,{onClick:()=>el(s)})]},`word-${s}`))}),(0,a.jsx)(x.A,{name:"+ Add Word Entry",onClick:()=>{K([...Y,{words:"",fileLocation:""}]),j(e=>e+1)}})]})]}),(0,a.jsxs)("details",{className:"shadow-sm border border-zinc-500 rounded-md shadow-sm p-4 mb-4",children:[(0,a.jsx)("summary",{className:"text-lg font-semibold text-gray-100 cursor-pointer",children:"Sensitive Dataset"}),(0,a.jsxs)("fieldset",{className:"rounded mb-4",children:[(0,a.jsx)("div",{id:"sensitiveDatasetContainer",children:V.map((e,s)=>(0,a.jsxs)("div",{className:"sensitive-entry border p-3 rounded mb-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"labels",children:"PII Type"}),(0,a.jsx)("input",{type:"text",name:`spec.sensitiveDataset[${s}].piiType`,placeholder:"Enter PII type",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"labels",children:"Action"}),(0,a.jsx)("input",{type:"text",name:`spec.sensitiveDataset[${s}].action`,placeholder:"Enter action",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"labels",children:"Regex"}),(0,a.jsx)("input",{type:"text",name:`spec.sensitiveDataset[${s}].regex`,placeholder:"Enter regex pattern",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",suppressHydrationWarning:!0})]})]}),s>0&&(0,a.jsx)(h.A,{onClick:()=>ei(s)})]},`sensitive-${s}`))}),(0,a.jsx)(x.A,{name:"+ Add Sensitive Data Entry",onClick:()=>{X([...V,{piiType:"",action:"",regex:""}]),w(e=>e+1)}})]})]}),(0,a.jsxs)("details",{className:"shadow-sm border border-zinc-500 rounded-md shadow-sm p-4 mb-4",children:[(0,a.jsx)("summary",{className:"text-lg font-semibold text-gray-100 cursor-pointer",children:"Guard Model"}),(0,a.jsx)("fieldset",{className:"rounded mb-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"labels",children:"Model Node ID"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("select",{id:"spec_guardModel_modelNodeId",name:"spec.guardModel.modelNodeId",value:k,onChange:e=>et(e.target.value),className:"mt-1 w-full flex justify-between items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Model Gateway"}),I.map(e=>(0,a.jsx)("option",{value:e.modelNodeId,className:"text-sm text-orange-700 hover:text-pink-900",children:e.name},e.modelNodeId))]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"labels",children:"Model ID"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("select",{id:"spec_guardModel_modelId",name:"spec.guardModel.modelId",className:"mt-1 w-full flex justify-between items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Model"}),_.map((e,s)=>(0,a.jsx)("option",{value:e.modelId,className:"text-sm text-orange-700 hover:text-pink-900",children:e.modelName},`${e.modelId}-${s}`))]})})]})]})})]})]}),("bedrock"===T||"mistral"===T||"pangea"===T)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:"labels",children:"Select Guardrails"}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("div",{className:"rounded mb-4 max-h-36 scrollbar overflow-y-auto",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 gap-4",children:["bedrock"===T&&W.map(e=>{let s=ea(e);return(0,a.jsxs)("div",{className:`border rounded-md p-3 cursor-pointer transition-all duration-200 flex items-center justify-between ${s?"border-orange-700 bg-zinc-700":"border-zinc-600 hover:border-orange-700 hover:bg-zinc-700"}`,onClick:()=>er(e),children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:e.name||e.Name||`Guardrail ${e.id}`}),s&&(0,a.jsx)("div",{className:"text-orange-500",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("polyline",{points:"20 6 9 17 4 12"})})})]},e.id)}),"pangea"===T&&P.map(e=>{let s=ea(e);return(0,a.jsxs)("div",{className:`border rounded-md p-3 cursor-pointer transition-all duration-200 flex items-center justify-between ${s?"border-orange-700 bg-zinc-700":"border-zinc-600 hover:border-orange-700 hover:bg-zinc-700"}`,onClick:()=>er(e),children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:(0,f.E)(e.name||e.Name||`Guardrail ${e.id}`)}),s&&(0,a.jsx)("div",{className:"text-orange-500",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("polyline",{points:"20 6 9 17 4 12"})})})]},e.id)}),"mistral"===T&&B.map(e=>{let s=ea(e);return(0,a.jsxs)("div",{className:`border rounded-md p-3 cursor-pointer transition-all duration-200 flex items-center justify-between ${s?"border-orange-700 bg-zinc-700":"border-zinc-600 hover:border-orange-700 hover:bg-zinc-700"}`,onClick:()=>er(e),children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:(0,f.E)(e.name||e.Name||`Guardrail ${e.id}`)}),s&&(0,a.jsx)("div",{className:"text-orange-500",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("polyline",{points:"20 6 9 17 4 12"})})})]},e.id)})]})}),(0,a.jsx)("input",{type:"hidden",name:"selectedGuardrails",value:JSON.stringify(M)}),M.length>0&&(0,a.jsxs)("div",{className:"mt-4 p-2 bg-gray-800 rounded",children:[(0,a.jsx)("p",{className:"text-sm text-gray-300",children:"Selected Guardrails:"}),(0,a.jsx)("ul",{className:"text-xs text-gray-400",children:M.map((e,s)=>(0,a.jsxs)("li",{children:["ID: ",e.id,", Name: ",e.name||e.Name||"N/A"]},s))})]})]})]})]}),(0,a.jsx)("div",{className:"mt-4 flex justify-end space-x-2",children:(0,a.jsx)("button",{type:"submit",disabled:A,className:"px-6 py-2 bg-orange-700 text-white rounded-md shadow hover:bg-pink-900",suppressHydrationWarning:!0,children:A?(0,a.jsxs)("svg",{className:"animate-spin h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):"Submit"})})]})})})]})})})]})]})}},12530:(e,s,r)=>{"use strict";r.d(s,{$N:()=>i,MX:()=>n,QS:()=>o,ky:()=>l});var a=r(29341);let t={MODELS_REGISTRY:"/api/v1alpha1/aistudio/models"},n={getModelsRegistry:()=>(0,a.Zq)(t.MODELS_REGISTRY,"GET",null),getModelsRegistryID:e=>(0,a.Zq)(`${t.MODELS_REGISTRY}/${e}`,"GET",null)},l={getmodelsRegistryForm:e=>(0,a.Zq)(t.MODELS_REGISTRY,"POST",e)},i={getmodelsRegistryUpdateForm:e=>(0,a.Zq)(t.MODELS_REGISTRY,"PUT",e)},o={getModelsRegistryArchive:e=>(0,a.Zq)(`${t.MODELS_REGISTRY}/${e}`,"DELETE",null)}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23034:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=r(65239),t=r(48088),n=r(88170),l=r.n(n),i=r(30893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(s,o);let d={children:["",{children:["ai-center",{children:["guardrails",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,49047)),"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/ai-center/guardrails/create/page.js"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,75535)),"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,28069)),"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/not-found.js"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/ai-center/guardrails/create/page.js"],p={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/ai-center/guardrails/create/page",pathname:"/ai-center/guardrails/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27078:(e,s,r)=>{Promise.resolve().then(r.bind(r,49047))},27685:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var a=r(60687);function t({name:e,onClick:s}){return(0,a.jsx)("button",{type:"button",onClick:s,className:"mt-2 px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 cursor-pointer",suppressHydrationWarning:!0,children:e})}r(43210)},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35262:(e,s,r)=>{"use strict";let a;r.d(s,{A:()=>l});var t=r(60687),n=r(43210);function l(){let[e,s]=(0,n.useState)(""),[r,l]=(0,n.useState)({}),[i,o]=(0,n.useState)("");return(0,t.jsxs)("div",{className:"bg-zinc-800 p-4 rounded-lg shadow-lg w-full overflow-y-auto scrollbar relative",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,t.jsx)("label",{htmlFor:"fileInput",className:"cursor-pointer inline-block text-sm px-2 py-2 bg-orange-700 text-white shadow-md font-semibold rounded-lg hover:bg-pink-900 transition",children:"Upload YAML Spec File"}),(0,t.jsx)("input",{type:"file",id:"fileInput",accept:".yaml, .yml",onChange:function(e){let s=e.target.files[0];if(s&&a){let e=new FileReader;e.onload=function(e){a.setValue(e.target.result)},e.readAsText(s)}},className:"mb-2 w-full px-2 py-2 border rounded-lg focus:outline-none hidden"})]}),(0,t.jsx)("div",{hidden:!0,id:"modalParams"}),(0,t.jsx)("label",{htmlFor:"yamlEditor",className:"block text-gray-100 font-medium mb-2",id:"yamlSpecTitle",children:"Edit YAML Content Here"}),(0,t.jsx)("div",{id:"yamlEditor",className:"w-full h-auto border-2 rounded-lg focus:outline-none font-mono"}),(0,t.jsx)("div",{className:"mt-4 flex justify-end space-x-2",children:(0,t.jsx)("button",{id:"submitYaml",type:"button",className:"px-4 py-2 bg-orange-700 text-white rounded-lg hover:bg-pink-900 shadow-lg cursor-pointer",children:"Create"})})]})}},45230:(e,s,r)=>{Promise.resolve().then(r.bind(r,11521))},49047:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/ai-center/guardrails/create/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/ai-center/guardrails/create/page.js","default")},50591:(e,s,r)=>{"use strict";r.d(s,{N:()=>n,p:()=>l});var a=r(29341);let t={ENUMS:"/api/v1alpha1/resources-spec",BEDROCKGUARDRAILS:"/api/v1alpha1/aistudio/guardrails-plugins"},n={getEnums:()=>(0,a.Zq)(t.ENUMS,"GET",null)},l={getBedrockGuardrailsApi:()=>(0,a.Zq)(t.BEDROCKGUARDRAILS,"GET",null)}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},77888:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var a=r(60687);function t({onClick:e,name:s="Remove"}){return(0,a.jsx)("button",{type:"button",onClick:e,className:"mt-2 px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 cursor-pointer",children:s})}r(43210)},79551:e=>{"use strict";e.exports=require("url")},83613:(e,s,r)=>{"use strict";function a(e){return e?e.replace(/_/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function t(e,s){return e?!s||s<=0||e.length<=s?e:e.substring(0,s)+"...":""}r.d(s,{E:()=>a,m:()=>t})},94342:(e,s,r)=>{"use strict";r.d(s,{o6:()=>n,rW:()=>i,wp:()=>o,yg:()=>l});var a=r(29341);let t={GUARDRAILS:"/api/v1alpha1/aistudio/guardrails"},n={getGuardrail:()=>(0,a.Zq)(t.GUARDRAILS,"GET",null),getGuardrailId:e=>(0,a.Zq)(`${t.GUARDRAILS}/${e}`,"GET",null)},l={getGuardrailForm:e=>(0,a.Zq)(t.GUARDRAILS,"POST",e)},i={getGuardrailUpdateForm:e=>(0,a.Zq)(t.GUARDRAILS,"PUT",e)},o={getGuardrailArchive:e=>(0,a.Zq)(`${t.GUARDRAILS}/${e}`,"DELETE",null)}}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[4447,8259,4291,3124,4595],()=>r(23034));module.exports=a})();