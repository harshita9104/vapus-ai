(()=>{var e={};e.id=989,e.ids=[989],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12208:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=r(65239),t=r(48088),i=r(88170),o=r.n(i),n=r(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(s,l);let d={children:["",{children:["ai-center",{children:["models-registry",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,21813)),"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/ai-center/models-registry/create/page.js"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,75535)),"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,28069)),"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/not-found.js"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/ai-center/models-registry/create/page.js"],u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/ai-center/models-registry/create/page",pathname:"/ai-center/models-registry/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},12530:(e,s,r)=>{"use strict";r.d(s,{$N:()=>n,MX:()=>i,QS:()=>l,ky:()=>o});var a=r(29341);let t={MODELS_REGISTRY:"/api/v1alpha1/aistudio/models"},i={getModelsRegistry:()=>(0,a.Zq)(t.MODELS_REGISTRY,"GET",null),getModelsRegistryID:e=>(0,a.Zq)(`${t.MODELS_REGISTRY}/${e}`,"GET",null)},o={getmodelsRegistryForm:e=>(0,a.Zq)(t.MODELS_REGISTRY,"POST",e)},n={getmodelsRegistryUpdateForm:e=>(0,a.Zq)(t.MODELS_REGISTRY,"PUT",e)},l={getModelsRegistryArchive:e=>(0,a.Zq)(`${t.MODELS_REGISTRY}/${e}`,"DELETE",null)}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21813:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/ai-center/models-registry/create/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/vikrantsingh/vikrant/workspaces/anekam/vapusdata/vapusdata-ecosystem/vapusdata-oss/vapus-ai/app/webapp/src/app/ai-center/models-registry/create/page.js","default")},27360:(e,s,r)=>{Promise.resolve().then(r.bind(r,47971))},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35262:(e,s,r)=>{"use strict";let a;r.d(s,{A:()=>o});var t=r(60687),i=r(43210);function o(){let[e,s]=(0,i.useState)(""),[r,o]=(0,i.useState)({}),[n,l]=(0,i.useState)("");return(0,t.jsxs)("div",{className:"bg-zinc-800 p-4 rounded-lg shadow-lg w-full overflow-y-auto scrollbar relative",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,t.jsx)("label",{htmlFor:"fileInput",className:"cursor-pointer inline-block text-sm px-2 py-2 bg-orange-700 text-white shadow-md font-semibold rounded-lg hover:bg-pink-900 transition",children:"Upload YAML Spec File"}),(0,t.jsx)("input",{type:"file",id:"fileInput",accept:".yaml, .yml",onChange:function(e){let s=e.target.files[0];if(s&&a){let e=new FileReader;e.onload=function(e){a.setValue(e.target.result)},e.readAsText(s)}},className:"mb-2 w-full px-2 py-2 border rounded-lg focus:outline-none hidden"})]}),(0,t.jsx)("div",{hidden:!0,id:"modalParams"}),(0,t.jsx)("label",{htmlFor:"yamlEditor",className:"block text-gray-100 font-medium mb-2",id:"yamlSpecTitle",children:"Edit YAML Content Here"}),(0,t.jsx)("div",{id:"yamlEditor",className:"w-full h-auto border-2 rounded-lg focus:outline-none font-mono"}),(0,t.jsx)("div",{className:"mt-4 flex justify-end space-x-2",children:(0,t.jsx)("button",{id:"submitYaml",type:"button",className:"px-4 py-2 bg-orange-700 text-white rounded-lg hover:bg-pink-900 shadow-lg cursor-pointer",children:"Create"})})]})}},40512:(e,s,r)=>{Promise.resolve().then(r.bind(r,21813))},47971:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>x});var a=r(60687),t=r(43210),i=r(35262),o=r(74595),n=r(12530),l=r(11388),d=r(96368),c=r(8222),u=r(56723),m=r(16189),p=r(50591),g=r(83613),v=r(94342);let x=()=>{let e=(0,m.useRouter)(),[s,r]=(0,t.useState)("form"),[x,h]=(0,t.useState)(!1),[f,b]=(0,t.useState)([]),[y,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)(!1),[S,k]=(0,t.useState)({}),[R,E]=(0,t.useState)(null),[_,A]=(0,t.useState)({SvcProvider:[],ResourceScope:[]}),[P,G]=(0,t.useState)({}),[I,D]=(0,t.useState)({name:"",node_owners:"",attributes:{service_provider:"INVALID_PROVIDER",scope:" ",approved_domains:[],discover_models:!0},securityGuardrails:{guardrails:[]}}),C={domain1:"ANAND.VAPUSDATA.COM domain"};(0,t.useEffect)(()=>{(async()=>{try{N(!0);let e=await p.N.getEnums(),s=await v.o6.getGuardrail();s&&s.output&&(b(s.output),console.log("Guardrails loaded:",s.output));let r={SvcProvider:[],ResourceScope:[]};(e.enumResponse||[]).forEach(e=>{"ResourceScope"===e.name&&(r.ResourceScope=e.value||[])});let a=e.serviceProviderLogoMap||[];r.SvcProvider=a.map(e=>e.serviceProvider),A(r),console.log("Resource scopes loaded:",r.ResourceScope),console.log("Service providers loaded:",r.SvcProvider);let t={};a.forEach(e=>{t[e.serviceProvider]=e.url}),G(t),console.log("Service provider logos loaded:",t)}catch(e){console.error("Failed to fetch enum data:",e),E(e.message),c.oR.error("Failed to fetch configuration data")}finally{N(!1)}})()},[]);let L=e=>{let{name:s,value:r,type:a,checked:t}=e.target,i=s.split(".");"spec"===i[0]&&i.shift(),D(e=>{let s={...e},o=s;for(let e=0;e<i.length-1;e++)o[i[e]]||(o[i[e]]={}),o=o[i[e]];let n=i[i.length-1];return"checkbox"===a?o[n]=t:o[n]=r,s})},M=e=>{D(s=>{let r=[...s.attributes.approved_domains],a=r.indexOf(e);return -1===a?r.push(e):r.splice(a,1),{...s,attributes:{...s.attributes,approved_domains:r}}})},z=(e,s)=>{D(r=>{let a=[...r.securityGuardrails.guardrails||[]],t=a.findIndex(s=>s.id===e);return -1===t?a.push({id:e,name:s}):a.splice(t,1),{...r,securityGuardrails:{...r.securityGuardrails,guardrails:a}}})},T=async e=>{e.preventDefault();let s={...I,attributes:{...I.attributes,networkParams:S}};console.log("Combined form data with networkParams:",s);let r={...s};""!==r.node_owners?r.node_owners=r.node_owners.split(","):r.node_owners=[];let a=r.securityGuardrails.guardrails.map(e=>e.id),t={spec:{name:r.name,node_owners:r.node_owners,attributes:{service_provider:r.attributes.service_provider,scope:r.attributes.scope,approved_domains:r.attributes.approved_domains,discover_models:r.attributes.discover_models,networkParams:r.attributes.networkParams},securityGuardrails:{guardrails:a}}};await q(t)},q=async s=>{try{N(!0);let r=await n.ky.getmodelsRegistryForm(s);console.log("Resource created:",r);let a=r.result;a?(c.oR.success("Resource Created",`${a.resource} Resource created successfully.`),setTimeout(()=>{e.push("/ai-center/models-registry")},1e3)):c.oR.success("Resource Created","Resource created successfully.")}catch(e){console.error("Error sending API request:",e),c.oR.error("Resource Creation Failed")}finally{N(!1)}};return(0,t.useEffect)(()=>{let e=e=>{let s=document.getElementById("dropdownMenu"),r=document.getElementById("dropdownButton");s&&r&&!s.contains(e.target)&&!r.contains(e.target)&&h(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,t.useEffect)(()=>{let e=e=>{let s=document.getElementById("guardrailsDropdownMenu"),r=document.getElementById("guardrailsDropdownButton");s&&r&&!s.contains(e.target)&&!r.contains(e.target)&&w(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,a.jsx)("div",{className:"bg-zinc-800 flex h-screen",children:(0,a.jsxs)("div",{className:"overflow-y-auto scrollbar h-screen w-full",children:[(0,a.jsx)(o.A,{sectionHeader:"Build Your Models",hideBackListingLink:!1,backListingLink:"./"}),(0,a.jsx)(d.A,{}),(0,a.jsx)(u.A,{isLoading:j,isOverlay:!0}),(0,a.jsx)("div",{className:"flex-grow p-4 overflow-y-auto w-full",children:(0,a.jsx)("section",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto bg-[#1b1b1b] shadow rounded-lg p-2",children:[(0,a.jsx)("div",{className:"text-gray-100 mb-2 flex justify-center",children:(0,a.jsx)("button",{id:"formSpecB",className:"whitespace-nowrap border-b-2 py-2 px-2 text-md font-medium focus:outline-none ml-4 border-orange-700 text-orange-700 font-semibold",onClick:()=>r("form"),suppressHydrationWarning:!0,children:"Form"})}),"yaml"===s?(0,a.jsx)("div",{id:"yamlSpec",children:(0,a.jsx)(i.A,{})}):(0,a.jsx)("div",{id:"formSpec",children:(0,a.jsxs)("form",{id:"dataSourceSpec",className:"space-y-2 border border-zinc-500 rounded-md text-gray-100 p-2",onSubmit:T,children:[(0,a.jsxs)("fieldset",{className:"p-4 rounded",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"labels",children:"Name"}),(0,a.jsx)("input",{id:"spec_name",name:"name",type:"text",placeholder:"Enter name",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",value:I.name,onChange:L,suppressHydrationWarning:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"labels",children:"Node Owners"}),(0,a.jsx)("input",{id:"spec_nodeOwners",name:"node_owners",type:"text",placeholder:"Enter node owners (comma separated)",className:"form-input-field p-2 rounded-md bg-zinc-700 placeholder-gray-300 shadow-sm outline-none border-none text-sm p-1 mt-2 w-full",value:I.node_owners,onChange:L,suppressHydrationWarning:!0})]})]}),(0,a.jsxs)("fieldset",{className:"rounded mb-4",children:[(0,a.jsx)("legend",{className:"text-lg font-semibold",children:"Attributes"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"labels",children:"Scope"}),(0,a.jsxs)("select",{name:"attributes.scope",className:"mt-1 w-full flex justify-between items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",value:I.attributes.scope,onChange:L,suppressHydrationWarning:!0,children:[(0,a.jsx)("option",{value:" ",children:"Select Scope"}),_.ResourceScope?.map(e=>a.jsx("option",{value:e,children:g.E(e)},e))]})]}),"PLATFORM_SCOPE"===I.attributes.scope&&(0,a.jsxs)("div",{className:"relative inline-block text-left w-full",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"labels",children:"Domains"}),(0,a.jsxs)("button",{type:"button",id:"dropdownButton",className:"mt-1 w-full flex justify-between items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",onClick:()=>h(!x),suppressHydrationWarning:!0,children:["Select Domains",(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),(0,a.jsx)("div",{id:"dropdownMenu",className:`absolute z-10 mt-2 w-full bg-zinc-800 rounded-md shadow-lg ${x?"":"hidden"}`,children:(0,a.jsx)("div",{className:"p-2 space-y-2 max-h-60 overflow-y-auto",children:[{DomainId:"domain1",name:"ANAND.VAPUSDATA.COM domain"}].map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:`domain-${e.DomainId}`,value:e.DomainId,checked:I.attributes.approved_domains.includes(e.DomainId),onChange:()=>M(e.DomainId),className:"h-4 w-4 text-orange-700 border-gray-300 rounded focus:ring-orange-700 accent-orange-700"}),(0,a.jsx)("label",{htmlFor:`domain-${e.DomainId}`,className:"ml-2 text-sm",children:C[e.DomainId]})]},e.DomainId))})})]}),(0,a.jsxs)("div",{className:"relative inline-block text-left w-full",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"labels",children:"Guardrails"}),(0,a.jsxs)("button",{type:"button",id:"guardrailsDropdownButton",className:"mt-1 w-full flex justify-between items-center bg-zinc-800 px-4 py-2 text-sm font-medium focus:ring-1 focus:ring-orange-700",onClick:()=>w(!y),suppressHydrationWarning:!0,children:["Select Guardrails",(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),(0,a.jsx)("div",{id:"guardrailsDropdownMenu",className:`absolute z-10 mt-2 w-full bg-zinc-800 rounded-md shadow-lg ${y?"":"hidden"}`,children:(0,a.jsx)("div",{className:"p-2 space-y-2 max-h-60 overflow-y-auto",children:f&&f.length>0?f.map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:`guardrail-${e.guardrailId}`,value:e.guardrailId,checked:I.securityGuardrails&&I.securityGuardrails.guardrails&&I.securityGuardrails.guardrails.some(s=>s.id===e.guardrailId),onChange:()=>z(e.guardrailId,e.name),className:"h-4 w-4 text-orange-700 border-gray-300 rounded focus:ring-orange-700 accent-orange-700"}),(0,a.jsx)("label",{htmlFor:`guardrail-${e.guardrailId}`,className:"ml-2 text-sm",children:e.name})]},e.guardrailId)):(0,a.jsx)("div",{className:"text-sm text-gray-400 p-2",children:"No guardrails available"})})})]})]}),(0,a.jsxs)("div",{className:"m-4",children:[(0,a.jsx)("label",{className:"labels",children:"Service Provider"}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("div",{className:"rounded mb-4 max-h-36 scrollbar overflow-y-auto",children:(0,a.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-5 md:grid-cols-8 lg:grid-cols-10 gap-4",children:((e,s)=>[...e.filter(e=>e===s),...e.filter(e=>e!==s)])(_.SvcProvider,I.attributes.service_provider).map(e=>(0,a.jsx)("div",{className:`border rounded-md p-3 cursor-pointer transition-all duration-200 flex flex-col items-center ${I.attributes.service_provider===e?"border-orange-700 bg-zinc-700":"border-zinc-600 hover:border-orange-700 hover:bg-zinc-700"}`,onClick:()=>{L({target:{name:"attributes.service_provider",value:e,type:"select"}})},children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-6 w-6 flex items-center justify-center",children:P[e]?(0,a.jsx)("img",{src:P[e],alt:e,className:"max-h-full max-w-full object-contain"}):(0,a.jsx)("div",{className:"h-8 w-8 bg-zinc-600 rounded-full flex items-center justify-center text-xs",children:e.substring(0,2)})}),(0,a.jsx)("div",{className:"tooltip text-[10px] font-medium ",tooltip:(0,g.E)(e),children:(0,g.m)((0,g.E)(e),5)})]})},e))})}),(0,a.jsx)("input",{type:"hidden",name:"attributes.service_provider",value:I.attributes.service_provider})]})]})]}),(0,a.jsxs)("details",{className:"border border-zinc-500 p-4 rounded mb-4",children:[(0,a.jsx)("summary",{className:"text-lg font-semibold cursor-pointer",children:"Network Credentials"}),(0,a.jsx)(l.A,{onParamsChange:e=>{JSON.stringify(S)!==JSON.stringify(e)&&k(e)}})]})]}),(0,a.jsx)("div",{className:"mt-4 flex justify-end space-x-2",children:(0,a.jsx)("button",{type:"submit",className:"px-6 py-2 bg-orange-700 text-white rounded-md shadow hover:bg-pink-900 cursor-pointer",suppressHydrationWarning:!0,disabled:j,children:j?(0,a.jsxs)("svg",{className:"animate-spin h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Submit"})})]})})]})})})]})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79551:e=>{"use strict";e.exports=require("url")},94342:(e,s,r)=>{"use strict";r.d(s,{o6:()=>i,rW:()=>n,wp:()=>l,yg:()=>o});var a=r(29341);let t={GUARDRAILS:"/api/v1alpha1/aistudio/guardrails"},i={getGuardrail:()=>(0,a.Zq)(t.GUARDRAILS,"GET",null),getGuardrailId:e=>(0,a.Zq)(`${t.GUARDRAILS}/${e}`,"GET",null)},o={getGuardrailForm:e=>(0,a.Zq)(t.GUARDRAILS,"POST",e)},n={getGuardrailUpdateForm:e=>(0,a.Zq)(t.GUARDRAILS,"PUT",e)},l={getGuardrailArchive:e=>(0,a.Zq)(`${t.GUARDRAILS}/${e}`,"DELETE",null)}}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[4447,8259,4291,3124,4595,1388],()=>r(12208));module.exports=a})();